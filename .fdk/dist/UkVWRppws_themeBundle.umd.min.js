(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e():"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["themeBundle"]=e():t["themeBundle"]=e()})("undefined"!==typeof self?self:this,(function(){return function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({0:function(t,e){},"00ee":function(t,e,i){var n=i("b622"),r=n("toStringTag"),s={};s[r]="z",t.exports="[object z]"===String(s)},"00fd":function(t,e,i){var n=i("9e69"),r=Object.prototype,s=r.hasOwnProperty,o=r.toString,a=n?n.toStringTag:void 0;function l(t){var e=s.call(t,a),i=t[a];try{t[a]=void 0;var n=!0}catch(l){}var r=o.call(t);return n&&(e?t[a]=i:delete t[a]),r}t.exports=l},"017f":function(t,e,i){"use strict";i("63d5")},"01ff":function(t,e,i){"use strict";i("e9d5")},"0340":function(t,e,i){"use strict";i("18b5")},"03dd":function(t,e,i){var n=i("eac5"),r=i("57a5"),s=Object.prototype,o=s.hasOwnProperty;function a(t){if(!n(t))return r(t);var e=[];for(var i in Object(t))o.call(t,i)&&"constructor"!=i&&e.push(i);return e}t.exports=a},"04d8":function(t,e,i){"use strict";i("ef02")},"04f8":function(t,e,i){var n=i("2d00"),r=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!r((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},"05d8":function(t,e,i){},"05f6":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"toast",attrs:{id:t.id}},[t._v(t._s(t.content))])},r=[]},"0683":function(t,e,i){},"06cf":function(t,e,i){var n=i("83ab"),r=i("c65b"),s=i("d1e7"),o=i("5c6c"),a=i("fc6a"),l=i("a04b"),c=i("1a2d"),u=i("0cfb"),h=Object.getOwnPropertyDescriptor;e.f=n?h:function(t,e){if(t=a(t),e=l(e),u)try{return h(t,e)}catch(i){}if(c(t,e))return o(!r(s.f,t,e),t[e])}},"07c7":function(t,e){function i(){return!1}t.exports=i},"07ca":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/fb.5672f0e6216ba239e329656e4d4c7a1c.svg"},"07fa":function(t,e,i){var n=i("50c4");t.exports=function(t){return n(t.length)}},"087f":function(t,e,i){"use strict";var n=i("c0a5"),r=i.n(n);e["default"]=r.a},"09bb":function(t,e,i){"use strict";i("49cc")},"09be":function(t,e){var i=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function n(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function r(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function s(){this.values=i(null)}function o(t,e,i,n){var r=n?t.split(n):[t];for(var s in r)if("string"===typeof r[s]){var o=r[s].split(i);if(2===o.length){var a=o[0],l=o[1];e(a,l)}}}function a(t,e,i){var a=t;function l(){var e=r(t);if(null===e)throw new n(n.Errors.BadTimeStamp,"Malformed timestamp: "+a);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function c(t,e){var n=new s;o(t,(function(t,e){switch(t){case"region":for(var r=i.length-1;r>=0;r--)if(i[r].id===e){n.set(t,i[r].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var s=e.split(","),o=s[0];n.integer(t,o),n.percent(t,o)&&n.set("snapToLines",!1),n.alt(t,o,["auto"]),2===s.length&&n.alt("lineAlign",s[1],["start","middle","end"]);break;case"position":s=e.split(","),n.percent(t,s[0]),2===s.length&&n.alt("positionAlign",s[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"]);break}}),/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}function u(){t=t.replace(/^\s+/,"")}if(u(),e.startTime=l(),u(),"--\x3e"!==t.substr(0,3))throw new n(n.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+a);t=t.substr(3),u(),e.endTime=l(),u(),c(t,e)}n.prototype=i(Error.prototype),n.prototype.constructor=n,n.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},s.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100))&&(this.set(t,e),!0)}};var l={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"‎","&rlm;":"‏","&nbsp;":" "},c={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},u={v:"title",lang:"lang"},h={rt:"ruby"};function d(t,e){function i(){if(!e)return null;function t(t){return e=e.substr(t.length),t}var i=e.match(/^([^<]*)(<[^>]*>?)?/);return t(i[1]?i[1]:i[2])}function n(t){return l[t]}function s(t){while(A=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/))t=t.replace(A[0],n);return t}function o(t,e){return!h[e.localName]||h[e.localName]===t.localName}function a(e,i){var n=c[e];if(!n)return null;var r=t.document.createElement(n);r.localName=n;var s=u[e];return s&&i&&(r[s]=i.trim()),r}var d,p=t.document.createElement("div"),f=p,g=[];while(null!==(d=i()))if("<"!==d[0])f.appendChild(t.document.createTextNode(s(d)));else{if("/"===d[1]){g.length&&g[g.length-1]===d.substr(2).replace(">","")&&(g.pop(),f=f.parentNode);continue}var m,v=r(d.substr(1,d.length-2));if(v){m=t.document.createProcessingInstruction("timestamp",v),f.appendChild(m);continue}var A=d.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!A)continue;if(m=a(A[1],A[3]),!m)continue;if(!o(f,m))continue;A[2]&&(m.className=A[2].substr(1).replace("."," ")),g.push(A[1]),f.appendChild(m),f=m}return p}var p=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function f(t){for(var e=0;e<p.length;e++){var i=p[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function g(t){var e,i=[],n="";if(!t||!t.childNodes)return"ltr";function r(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function s(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var n=i.match(/^.*(\n|\r)/);return n?(t.length=0,n[0]):i}return"ruby"===e.tagName?s(t):e.childNodes?(r(t,e),s(t)):void 0}r(i,t);while(n=s(i))for(var o=0;o<n.length;o++)if(e=n.charCodeAt(o),f(e))return"rtl";return"ltr"}function m(t){if("number"===typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,r=0;r<i.length&&i[r]!==e;r++)"showing"===i[r].mode&&n++;return-1*++n}function v(){}function A(t,e,i){var n=/MSIE\s8\.0/.test(navigator.userAgent),r="rgba(255, 255, 255, 1)",s="rgba(0, 0, 0, 0.8)";n&&(r="rgb(255, 255, 255)",s="rgb(0, 0, 0)"),v.call(this),this.cue=e,this.cueDiv=d(t,e.text);var o={color:r,backgroundColor:s,position:"relative",left:0,right:0,top:0,bottom:0,display:"inline"};n||(o.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",o.unicodeBidi="plaintext"),this.applyStyles(o,this.cueDiv),this.div=t.document.createElement("div"),o={textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},n||(o.direction=g(this.cueDiv),o.writingMode=""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl".stylesunicodeBidi="plaintext"),this.applyStyles(o),this.div.appendChild(this.cueDiv);var a=0;switch(e.positionAlign){case"start":a=e.position;break;case"middle":a=e.position-e.size/2;break;case"end":a=e.position-e.size;break}""===e.vertical?this.applyStyles({left:this.formatStyle(a,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(a,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function y(t){var e,i,n,r,s=/MSIE\s8\.0/.test(navigator.userAgent);if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,r=t.div.offsetTop;var o=(o=t.div.childNodes)&&(o=o[0])&&o.getClientRects&&o.getClientRects();t=t.div.getBoundingClientRect(),e=o?Math.max(o[0]&&o[0].height||0,t.height/o.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||i,this.bottom=t.bottom||r+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight,s&&!this.lineHeight&&(this.lineHeight=13)}function _(t,e,i,n){function r(t,e){for(var r,s=new y(t),o=1,a=0;a<e.length;a++){while(t.overlapsOppositeAxis(i,e[a])||t.within(i)&&t.overlapsAny(n))t.move(e[a]);if(t.within(i))return t;var l=t.intersectPercentage(i);o>l&&(r=new y(t),o=l),t=new y(s)}return r||s}var s=new y(e),o=e.cue,a=m(o),l=[];if(o.snapToLines){var c;switch(o.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=s.lineHeight,h=u*Math.round(a),d=i[c]+u,p=l[0];Math.abs(h)>d&&(h=h<0?-1:1,h*=Math.ceil(d/u)*u),a<0&&(h+=""===o.vertical?i.height:i.width,l=l.reverse()),s.move(p,h)}else{var f=s.lineHeight/i.height*100;switch(o.lineAlign){case"middle":a-=f/2;break;case"end":a-=f;break}switch(o.vertical){case"":e.applyStyles({top:e.formatStyle(a,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(a,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(a,"%")});break}l=["+y","-x","+x","-y"],s=new y(e)}var g=r(s,l);e.move(g.toCSSCompatValues(i))}function b(){}v.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},v.prototype.formatStyle=function(t,e){return 0===t?0:t+e},A.prototype=i(v.prototype),A.prototype.constructor=A,y.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}},y.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},y.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},y.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},y.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},y.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)},y.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},y.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return r},b.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!==typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},b.convertCueToDOMTree=function(t,e){return t&&e?d(t,e):null};var w=.05,x="sans-serif",C="1.5%";b.processCues=function(t,e,i){if(!t||!e||!i)return null;while(i.firstChild)i.removeChild(i.firstChild);var n=t.document.createElement("div");function r(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=C,i.appendChild(n),r(e)){var s=[],o=y.getSimpleBoxPosition(n),a=Math.round(o.height*w*100)/100,l={font:a+"px "+x};(function(){for(var i,r,a=0;a<e.length;a++)r=e[a],i=new A(t,r,l),n.appendChild(i.div),_(t,i,o,s),r.displayState=i.div,s.push(y.getSimpleBoxPosition(i))})()}else for(var c=0;c<e.length;c++)n.appendChild(e[c].displayState)},b.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},b.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof n))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){var t=e.buffer,i=0;while(i<t.length&&"\r"!==t[i]&&"\n"!==t[i])++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function l(t){var i=new s;if(o(t,(function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var r=new s;if(r.percent("x",n[0]),r.percent("y",n[1]),!r.has("x")||!r.has("y"))break;i.set(t+"X",r.get("x")),i.set(t+"Y",r.get("y"));break;case"scroll":i.alt(t,e,["up"]);break}}),/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}function c(t){var i=new s;o(t,(function(t,e){switch(t){case"MPEGT":i.integer(t+"S",e);break;case"LOCA":i.set(t+"L",r(e));break}}),/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:i.get("MPEGTS"),LOCAL:i.get("LOCAL")})}function u(t){t.match(/X-TIMESTAMP-MAP/)?o(t,(function(t,e){switch(t){case"X-TIMESTAMP-MAP":c(e);break}}),/=/):o(t,(function(t,e){switch(t){case"Region":l(e);break}}),/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var h;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;h=i();var d=h.match(/^WEBVTT([ \t].*)?$/);if(!d||!d[0])throw new n(n.Errors.BadSignature);e.state="HEADER"}var p=!1;while(e.buffer){if(!/\r\n|\n/.test(e.buffer))return this;switch(p?p=!1:h=i(),e.state){case"HEADER":/:/.test(h)?u(h):h||(e.state="ID");continue;case"NOTE":h||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(h)){e.state="NOTE";break}if(!h)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===h.indexOf("--\x3e")){e.cue.id=h;continue}case"CUE":try{a(h,e.cue,e.regionList)}catch(g){e.reportOrThrowError(g),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var f=-1!==h.indexOf("--\x3e");if(!h||f&&(p=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=h;continue;case"BADCUE":h||(e.state="ID");continue}}}catch(g){e.reportOrThrowError(g),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||"HEADER"===t.state)&&(t.buffer+="\n\n",t.parse()),"INITIAL"===t.state)throw new n(n.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}},t.exports=b},"0b07":function(t,e,i){var n=i("34ac"),r=i("3698");function s(t,e){var i=r(t,e);return n(i)?i:void 0}t.exports=s},"0c58":function(t,e,i){"use strict";i("d186")},"0cfb":function(t,e,i){var n=i("83ab"),r=i("d039"),s=i("cc12");t.exports=!n&&!r((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"0d24":function(t,e,i){(function(t){var n=i("2b3e"),r=i("07c7"),s=e&&!e.nodeType&&e,o=s&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===s,l=a?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u}).call(this,i("62e4")(t))},"0d26":function(t,e,i){var n=i("e330"),r=Error,s=n("".replace),o=function(t){return String(r(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(o);t.exports=function(t,e){if(l&&"string"==typeof t&&!r.prepareStackTrace)while(e--)t=s(t,a,"");return t}},"0d33":function(t,e,i){"use strict";i("ab45")},"0d51":function(t,e){var i=String;t.exports=function(t){try{return i(t)}catch(e){return"Object"}}},"0d7d":function(t,e,i){},"0db0":function(t,e,i){},"0e13":function(t,e,i){},"0e39":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/twitter.e05e4e1092acab996dd211b126fd8f0e.svg"},"0e51":function(t,e,i){},"0fff":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/regular.f8f502728bdc53d1c250cd474e0027d4.svg"},"10b2":function(t,e,i){"use strict";i("91d1")},1310:function(t,e){function i(t){return null!=t&&"object"==typeof t}t.exports=i},1368:function(t,e,i){var n=i("da03"),r=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function s(t){return!!r&&r in t}t.exports=s},"137d":function(t,e){},"13d2":function(t,e,i){var n=i("d039"),r=i("1626"),s=i("1a2d"),o=i("83ab"),a=i("5e77").CONFIGURABLE,l=i("8925"),c=i("69f3"),u=c.enforce,h=c.get,d=Object.defineProperty,p=o&&!n((function(){return 8!==d((function(){}),"length",{value:8}).length})),f=String(String).split("String"),g=t.exports=function(t,e,i){"Symbol("===String(e).slice(0,7)&&(e="["+String(e).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),i&&i.getter&&(e="get "+e),i&&i.setter&&(e="set "+e),(!s(t,"name")||a&&t.name!==e)&&(o?d(t,"name",{value:e,configurable:!0}):t.name=e),p&&i&&s(i,"arity")&&t.length!==i.arity&&d(t,"length",{value:i.arity});try{i&&s(i,"constructor")&&i.constructor?o&&d(t,"prototype",{writable:!1}):t.prototype&&(t.prototype=void 0)}catch(r){}var n=u(t);return s(n,"source")||(n.source=f.join("string"==typeof e?e:"")),t};Function.prototype.toString=g((function(){return r(this)&&h(this).source||l(this)}),"toString")},"13d5":function(t,e,i){"use strict";var n=i("23e7"),r=i("d58f").left,s=i("a640"),o=i("2d00"),a=i("605d"),l=s("reduce"),c=!a&&o>79&&o<83;n({target:"Array",proto:!0,forced:!l||c},{reduce:function(t){var e=arguments.length;return r(this,t,e,e>1?arguments[1]:void 0)}})},"13ea":function(t,e,i){var n=i("03dd"),r=i("42a2"),s=i("d370"),o=i("6747"),a=i("30c9"),l=i("0d24"),c=i("eac5"),u=i("73ac"),h="[object Map]",d="[object Set]",p=Object.prototype,f=p.hasOwnProperty;function g(t){if(null==t)return!0;if(a(t)&&(o(t)||"string"==typeof t||"function"==typeof t.splice||l(t)||u(t)||s(t)))return!t.length;var e=r(t);if(e==h||e==d)return!t.size;if(c(t))return!n(t).length;for(var i in t)if(f.call(t,i))return!1;return!0}t.exports=g},"148d":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/placeholder.f22053d3cb28cffc68c90d4b91528a68.png"},"14d9":function(t,e,i){"use strict";var n=i("23e7"),r=i("7b0b"),s=i("07fa"),o=i("3a34"),a=i("3511"),l=i("d039"),c=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}}();n({target:"Array",proto:!0,arity:1,forced:c||u},{push:function(t){var e=r(this),i=s(e),n=arguments.length;a(i+n);for(var l=0;l<n;l++)e[i]=arguments[l],i++;return o(e,i),i}})},"156f":function(t,e,i){"use strict";i("f259")},1626:function(t,e,i){var n=i("8ea1"),r=n.all;t.exports=n.IS_HTMLDDA?function(t){return"function"==typeof t||t===r}:function(t){return"function"==typeof t}},1662:function(t,e,i){},"18b5":function(t,e,i){},"18e3":function(t,e,i){"use strict";i("6ec7")},"1a0f":function(t,e,i){"use strict";i("89df")},"1a2d":function(t,e,i){var n=i("e330"),r=i("7b0b"),s=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return s(r(t),e)}},"1a8c":function(t,e){function i(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=i},"1ae6":function(t,e,i){},"1b8d":function(t,e){function i(t){return t.replace(/\n\r?\s*/g,"")}t.exports=function(t){for(var e="",n=0;n<arguments.length;n++)e+=i(t[n])+(arguments[n+1]||"");return e}},"1b91":function(t,e,i){"use strict";i("a9f5")},"1bdc":function(t,e,i){},"1c35":function(t,e,i){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var n=i("1fb5"),r=i("9152"),s=i("e3db");function o(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(e){return!1}}function a(){return c.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function l(t,e){if(a()<e)throw new RangeError("Invalid typed array length");return c.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=c.prototype):(null===t&&(t=new c(e)),t.length=e),t}function c(t,e,i){if(!c.TYPED_ARRAY_SUPPORT&&!(this instanceof c))return new c(t,e,i);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return p(this,t)}return u(this,t,e,i)}function u(t,e,i,n){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?m(t,e,i,n):"string"===typeof e?f(t,e,i):v(t,e)}function h(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function d(t,e,i,n){return h(e),e<=0?l(t,e):void 0!==i?"string"===typeof n?l(t,e).fill(i,n):l(t,e).fill(i):l(t,e)}function p(t,e){if(h(e),t=l(t,e<0?0:0|A(e)),!c.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function f(t,e,i){if("string"===typeof i&&""!==i||(i="utf8"),!c.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(e,i);t=l(t,n);var r=t.write(e,i);return r!==n&&(t=t.slice(0,r)),t}function g(t,e){var i=e.length<0?0:0|A(e.length);t=l(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function m(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),c.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=c.prototype):t=g(t,e),t}function v(t,e){if(c.isBuffer(e)){var i=0|A(e.length);return t=l(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||et(e.length)?l(t,0):g(t,e);if("Buffer"===e.type&&s(e.data))return g(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function A(t){if(t>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),c.alloc(+t)}function _(t,e){if(c.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return J(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return Z(t).length;default:if(n)return J(t).length;e=(""+e).toLowerCase(),n=!0}}function b(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";t||(t="utf8");while(1)switch(t){case"hex":return F(this,e,i);case"utf8":case"utf-8":return L(this,e,i);case"ascii":return D(this,e,i);case"latin1":case"binary":return O(this,e,i);case"base64":return k(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function w(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function x(t,e,i,n,r){if(0===t.length)return-1;if("string"===typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"===typeof e&&(e=c.from(e,n)),c.isBuffer(e))return 0===e.length?-1:C(t,e,i,n,r);if("number"===typeof e)return e&=255,c.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):C(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function C(t,e,i,n,r){var s,o=1,a=t.length,l=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;o=2,a/=2,l/=2,i/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(r){var u=-1;for(s=i;s<a;s++)if(c(t,s)===c(e,-1===u?0:s-u)){if(-1===u&&(u=s),s-u+1===l)return u*o}else-1!==u&&(s-=s-u),u=-1}else for(i+l>a&&(i=a-l),s=i;s>=0;s--){for(var h=!0,d=0;d<l;d++)if(c(t,s+d)!==c(e,d)){h=!1;break}if(h)return s}return-1}function E(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var s=e.length;if(s%2!==0)throw new TypeError("Invalid hex string");n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(e.substr(2*o,2),16);if(isNaN(a))return o;t[i+o]=a}return o}function S(t,e,i,n){return tt(J(e,t.length-i),t,i,n)}function I(t,e,i,n){return tt(X(e),t,i,n)}function T(t,e,i,n){return I(t,e,i,n)}function M(t,e,i,n){return tt(Z(e),t,i,n)}function B(t,e,i,n){return tt(K(e,t.length-i),t,i,n)}function k(t,e,i){return 0===e&&i===t.length?n.fromByteArray(t):n.fromByteArray(t.slice(e,i))}function L(t,e,i){i=Math.min(t.length,i);var n=[],r=e;while(r<i){var s,o,a,l,c=t[r],u=null,h=c>239?4:c>223?3:c>191?2:1;if(r+h<=i)switch(h){case 1:c<128&&(u=c);break;case 2:s=t[r+1],128===(192&s)&&(l=(31&c)<<6|63&s,l>127&&(u=l));break;case 3:s=t[r+1],o=t[r+2],128===(192&s)&&128===(192&o)&&(l=(15&c)<<12|(63&s)<<6|63&o,l>2047&&(l<55296||l>57343)&&(u=l));break;case 4:s=t[r+1],o=t[r+2],a=t[r+3],128===(192&s)&&128===(192&o)&&128===(192&a)&&(l=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a,l>65535&&l<1114112&&(u=l))}null===u?(u=65533,h=1):u>65535&&(u-=65536,n.push(u>>>10&1023|55296),u=56320|1023&u),n.push(u),r+=h}return P(n)}e.Buffer=c,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,c.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:o(),e.kMaxLength=a(),c.poolSize=8192,c._augment=function(t){return t.__proto__=c.prototype,t},c.from=function(t,e,i){return u(null,t,e,i)},c.TYPED_ARRAY_SUPPORT&&(c.prototype.__proto__=Uint8Array.prototype,c.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&c[Symbol.species]===c&&Object.defineProperty(c,Symbol.species,{value:null,configurable:!0})),c.alloc=function(t,e,i){return d(null,t,e,i)},c.allocUnsafe=function(t){return p(null,t)},c.allocUnsafeSlow=function(t){return p(null,t)},c.isBuffer=function(t){return!(null==t||!t._isBuffer)},c.compare=function(t,e){if(!c.isBuffer(t)||!c.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,s=Math.min(i,n);r<s;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},c.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(t,e){if(!s(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return c.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=c.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!c.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},c.byteLength=_,c.prototype._isBuffer=!0,c.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)w(this,e,e+1);return this},c.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)w(this,e,e+3),w(this,e+1,e+2);return this},c.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)w(this,e,e+7),w(this,e+1,e+6),w(this,e+2,e+5),w(this,e+3,e+4);return this},c.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?L(this,0,t):b.apply(this,arguments)},c.prototype.equals=function(t){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===c.compare(this,t)},c.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},c.prototype.compare=function(t,e,i,n,r){if(!c.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var s=r-n,o=i-e,a=Math.min(s,o),l=this.slice(n,r),u=t.slice(e,i),h=0;h<a;++h)if(l[h]!==u[h]){s=l[h],o=u[h];break}return s<o?-1:o<s?1:0},c.prototype.includes=function(t,e,i){return-1!==this.indexOf(t,e,i)},c.prototype.indexOf=function(t,e,i){return x(this,t,e,i,!0)},c.prototype.lastIndexOf=function(t,e,i){return x(this,t,e,i,!1)},c.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"===typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return E(this,t,e,i);case"utf8":case"utf-8":return S(this,t,e,i);case"ascii":return I(this,t,e,i);case"latin1":case"binary":return T(this,t,e,i);case"base64":return M(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,t,e,i);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function P(t){var e=t.length;if(e<=R)return String.fromCharCode.apply(String,t);var i="",n=0;while(n<e)i+=String.fromCharCode.apply(String,t.slice(n,n+=R));return i}function D(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function O(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function F(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",s=e;s<i;++s)r+=$(t[s]);return r}function N(t,e,i){for(var n=t.slice(e,i),r="",s=0;s<n.length;s+=2)r+=String.fromCharCode(n[s]+256*n[s+1]);return r}function Q(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function H(t,e,i,n,r,s){if(!c.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<s)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function U(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,s=Math.min(t.length-i,2);r<s;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function G(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,s=Math.min(t.length-i,4);r<s;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function z(t,e,i,n,r,s){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function j(t,e,i,n,s){return s||z(t,e,i,4,34028234663852886e22,-34028234663852886e22),r.write(t,e,i,n,23,4),i+4}function V(t,e,i,n,s){return s||z(t,e,i,8,17976931348623157e292,-17976931348623157e292),r.write(t,e,i,n,52,8),i+8}c.prototype.slice=function(t,e){var i,n=this.length;if(t=~~t,e=void 0===e?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t),c.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=c.prototype;else{var r=e-t;i=new c(r,void 0);for(var s=0;s<r;++s)i[s]=this[s+t]}return i},c.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||Q(t,e,this.length);var n=this[t],r=1,s=0;while(++s<e&&(r*=256))n+=this[t+s]*r;return n},c.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||Q(t,e,this.length);var n=this[t+--e],r=1;while(e>0&&(r*=256))n+=this[t+--e]*r;return n},c.prototype.readUInt8=function(t,e){return e||Q(t,1,this.length),this[t]},c.prototype.readUInt16LE=function(t,e){return e||Q(t,2,this.length),this[t]|this[t+1]<<8},c.prototype.readUInt16BE=function(t,e){return e||Q(t,2,this.length),this[t]<<8|this[t+1]},c.prototype.readUInt32LE=function(t,e){return e||Q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},c.prototype.readUInt32BE=function(t,e){return e||Q(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},c.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||Q(t,e,this.length);var n=this[t],r=1,s=0;while(++s<e&&(r*=256))n+=this[t+s]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},c.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||Q(t,e,this.length);var n=e,r=1,s=this[t+--n];while(n>0&&(r*=256))s+=this[t+--n]*r;return r*=128,s>=r&&(s-=Math.pow(2,8*e)),s},c.prototype.readInt8=function(t,e){return e||Q(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},c.prototype.readInt16LE=function(t,e){e||Q(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt16BE=function(t,e){e||Q(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},c.prototype.readInt32LE=function(t,e){return e||Q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},c.prototype.readInt32BE=function(t,e){return e||Q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},c.prototype.readFloatLE=function(t,e){return e||Q(t,4,this.length),r.read(this,t,!0,23,4)},c.prototype.readFloatBE=function(t,e){return e||Q(t,4,this.length),r.read(this,t,!1,23,4)},c.prototype.readDoubleLE=function(t,e){return e||Q(t,8,this.length),r.read(this,t,!0,52,8)},c.prototype.readDoubleBE=function(t,e){return e||Q(t,8,this.length),r.read(this,t,!1,52,8)},c.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;H(this,t,e,i,r,0)}var s=1,o=0;this[e]=255&t;while(++o<i&&(s*=256))this[e+o]=t/s&255;return e+i},c.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;H(this,t,e,i,r,0)}var s=i-1,o=1;this[e+s]=255&t;while(--s>=0&&(o*=256))this[e+s]=t/o&255;return e+i},c.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,1,255,0),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},c.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,2,65535,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):G(this,t,e,!0),e+4},c.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,4,4294967295,0),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},c.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);H(this,t,e,i,r-1,-r)}var s=0,o=1,a=0;this[e]=255&t;while(++s<i&&(o*=256))t<0&&0===a&&0!==this[e+s-1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},c.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);H(this,t,e,i,r-1,-r)}var s=i-1,o=1,a=0;this[e+s]=255&t;while(--s>=0&&(o*=256))t<0&&0===a&&0!==this[e+s+1]&&(a=1),this[e+s]=(t/o>>0)-a&255;return e+i},c.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,1,127,-128),c.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},c.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):U(this,t,e,!0),e+2},c.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,2,32767,-32768),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):U(this,t,e,!1),e+2},c.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,4,2147483647,-2147483648),c.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):G(this,t,e,!0),e+4},c.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||H(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),c.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):G(this,t,e,!1),e+4},c.prototype.writeFloatLE=function(t,e,i){return j(this,t,e,!0,i)},c.prototype.writeFloatBE=function(t,e,i){return j(this,t,e,!1,i)},c.prototype.writeDoubleLE=function(t,e,i){return V(this,t,e,!0,i)},c.prototype.writeDoubleBE=function(t,e,i){return V(this,t,e,!1,i)},c.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,s=n-i;if(this===t&&i<e&&e<n)for(r=s-1;r>=0;--r)t[r+e]=this[r+i];else if(s<1e3||!c.TYPED_ARRAY_SUPPORT)for(r=0;r<s;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+s),e);return s},c.prototype.fill=function(t,e,i,n){if("string"===typeof t){if("string"===typeof e?(n=e,e=0,i=this.length):"string"===typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;var s;if(e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0),"number"===typeof t)for(s=e;s<i;++s)this[s]=t;else{var o=c.isBuffer(t)?t:J(new c(t,n).toString()),a=o.length;for(s=0;s<i-e;++s)this[s+e]=o[s%a]}return this};var W=/[^+\/0-9A-Za-z-_]/g;function q(t){if(t=Y(t).replace(W,""),t.length<2)return"";while(t.length%4!==0)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function $(t){return t<16?"0"+t.toString(16):t.toString(16)}function J(t,e){var i;e=e||1/0;for(var n=t.length,r=null,s=[],o=0;o<n;++o){if(i=t.charCodeAt(o),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(e-=3)>-1&&s.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&s.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&(e-=3)>-1&&s.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;s.push(i)}else if(i<2048){if((e-=2)<0)break;s.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;s.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;s.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return s}function X(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function K(t,e){for(var i,n,r,s=[],o=0;o<t.length;++o){if((e-=2)<0)break;i=t.charCodeAt(o),n=i>>8,r=i%256,s.push(r),s.push(n)}return s}function Z(t){return n.toByteArray(q(t))}function tt(t,e,i,n){for(var r=0;r<n;++r){if(r+i>=e.length||r>=t.length)break;e[r+i]=t[r]}return r}function et(t){return t!==t}}).call(this,i("c8ba"))},"1c4a":function(t,e){var i="auto",n={"":!0,lr:!0,rl:!0},r={start:!0,middle:!0,end:!0,left:!0,right:!0};function s(t){if("string"!==typeof t)return!1;var e=n[t.toLowerCase()];return!!e&&t.toLowerCase()}function o(t){if("string"!==typeof t)return!1;var e=r[t.toLowerCase()];return!!e&&t.toLowerCase()}function a(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)t[n]=i[n]}return t}function l(t,e,n){var r=this,l=/MSIE\s8\.0/.test(navigator.userAgent),c={};l?r=document.createElement("custom"):c.enumerable=!0,r.hasBeenReset=!1;var u="",h=!1,d=t,p=e,f=n,g=null,m="",v=!0,A="auto",y="start",_=50,b="middle",w=50,x="middle";if(Object.defineProperty(r,"id",a({},c,{get:function(){return u},set:function(t){u=""+t}})),Object.defineProperty(r,"pauseOnExit",a({},c,{get:function(){return h},set:function(t){h=!!t}})),Object.defineProperty(r,"startTime",a({},c,{get:function(){return d},set:function(t){if("number"!==typeof t)throw new TypeError("Start time must be set to a number.");d=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"endTime",a({},c,{get:function(){return p},set:function(t){if("number"!==typeof t)throw new TypeError("End time must be set to a number.");p=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"text",a({},c,{get:function(){return f},set:function(t){f=""+t,this.hasBeenReset=!0}})),Object.defineProperty(r,"region",a({},c,{get:function(){return g},set:function(t){g=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"vertical",a({},c,{get:function(){return m},set:function(t){var e=s(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"snapToLines",a({},c,{get:function(){return v},set:function(t){v=!!t,this.hasBeenReset=!0}})),Object.defineProperty(r,"line",a({},c,{get:function(){return A},set:function(t){if("number"!==typeof t&&t!==i)throw new SyntaxError("An invalid number or illegal string was specified.");A=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"lineAlign",a({},c,{get:function(){return y},set:function(t){var e=o(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");y=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"position",a({},c,{get:function(){return _},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");_=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"positionAlign",a({},c,{get:function(){return b},set:function(t){var e=o(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(r,"size",a({},c,{get:function(){return w},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(r,"align",a({},c,{get:function(){return x},set:function(t){var e=o(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");x=e,this.hasBeenReset=!0}})),r.displayState=void 0,l)return r}l.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)},t.exports=l},"1cec":function(t,e,i){var n=i("0b07"),r=i("2b3e"),s=n(r,"Promise");t.exports=s},"1d80":function(t,e,i){var n=i("7234"),r=TypeError;t.exports=function(t){if(n(t))throw r("Can't call method on "+t);return t}},"1fb5":function(t,e,i){"use strict";e.byteLength=u,e.toByteArray=d,e.fromByteArray=g;for(var n=[],r=[],s="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=o.length;a<l;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");-1===i&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function u(t){var e=c(t),i=e[0],n=e[1];return 3*(i+n)/4-n}function h(t,e,i){return 3*(e+i)/4-i}function d(t){var e,i,n=c(t),o=n[0],a=n[1],l=new s(h(t,o,a)),u=0,d=a>0?o-4:o;for(i=0;i<d;i+=4)e=r[t.charCodeAt(i)]<<18|r[t.charCodeAt(i+1)]<<12|r[t.charCodeAt(i+2)]<<6|r[t.charCodeAt(i+3)],l[u++]=e>>16&255,l[u++]=e>>8&255,l[u++]=255&e;return 2===a&&(e=r[t.charCodeAt(i)]<<2|r[t.charCodeAt(i+1)]>>4,l[u++]=255&e),1===a&&(e=r[t.charCodeAt(i)]<<10|r[t.charCodeAt(i+1)]<<4|r[t.charCodeAt(i+2)]>>2,l[u++]=e>>8&255,l[u++]=255&e),l}function p(t){return n[t>>18&63]+n[t>>12&63]+n[t>>6&63]+n[63&t]}function f(t,e,i){for(var n,r=[],s=e;s<i;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),r.push(p(n));return r.join("")}function g(t){for(var e,i=t.length,r=i%3,s=[],o=16383,a=0,l=i-r;a<l;a+=o)s.push(f(t,a,a+o>l?l:a+o));return 1===r?(e=t[i-1],s.push(n[e>>2]+n[e<<4&63]+"==")):2===r&&(e=(t[i-2]<<8)+t[i-1],s.push(n[e>>10]+n[e>>4&63]+n[e<<2&63]+"=")),s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},2239:function(t,e,i){},"232e":function(t,e,i){"use strict";i("5957")},"23cb":function(t,e,i){var n=i("5926"),r=Math.max,s=Math.min;t.exports=function(t,e){var i=n(t);return i<0?r(i+e,0):s(i,e)}},"23e7":function(t,e,i){var n=i("da84"),r=i("06cf").f,s=i("9112"),o=i("cb2d"),a=i("6374"),l=i("e893"),c=i("94ca");t.exports=function(t,e){var i,u,h,d,p,f,g=t.target,m=t.global,v=t.stat;if(u=m?n:v?n[g]||a(g,{}):(n[g]||{}).prototype,u)for(h in e){if(p=e[h],t.dontCallGetSet?(f=r(u,h),d=f&&f.value):d=u[h],i=c(m?h:g+(v?".":"#")+h,t.forced),!i&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(t.sham||d&&d.sham)&&s(p,"sham",!0),o(u,h,p,t)}}},"241c":function(t,e,i){var n=i("ca84"),r=i("7839"),s=r.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,s)}},2433:function(t,e,i){"use strict";i("27f9")},"24e3":function(t,e,i){},"253c":function(t,e,i){var n=i("3729"),r=i("1310"),s="[object Arguments]";function o(t){return r(t)&&n(t)==s}t.exports=o},2738:function(t,e,i){},"27f9":function(t,e,i){},2877:function(t,e,i){"use strict";function n(t,e,i,n,r,s,o,a){var l,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}i.d(e,"a",(function(){return n}))},2966:function(t,e,i){"use strict";i("0d7d")},"29f3":function(t,e){var i=Object.prototype,n=i.toString;function r(t){return n.call(t)}t.exports=r},"2b3e":function(t,e,i){var n=i("585a"),r="object"==typeof self&&self&&self.Object===Object&&self,s=n||r||Function("return this")();t.exports=s},"2ba4":function(t,e,i){var n=i("40d5"),r=Function.prototype,s=r.apply,o=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(n?o.bind(s):function(){return o.apply(s,arguments)})},"2c7f":function(t,e,i){"use strict";i("ed8a")},"2d00":function(t,e,i){var n,r,s=i("da84"),o=i("342f"),a=s.process,l=s.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(n=u.split("."),r=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&o&&(n=o.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=o.match(/Chrome\/(\d+)/),n&&(r=+n[1]))),t.exports=r},"2de9":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return e("model-viewer",{staticClass:"viewer-3d",attrs:{src:t.src,"interaction-prompt":t.prompt,"camera-controls":""}},["auto"===t.prompt?e("div",{attrs:{slot:"poster",id:"loading-poster"},slot:"poster"},[e("fdk-loader")],1):t._e()])},r=[],s=(i("3f31"),{name:"viewer-3d",props:{src:{type:String,required:!0},prompt:{type:String,default:"auto"}}}),o=s,a=(i("8847"),i("2877")),l=Object(a["a"])(o,n,r,!1,null,"26d48304",null);e["default"]=l.exports},"305a":function(t,e,i){},"30a4":function(t,e){},"30c9":function(t,e,i){var n=i("9520"),r=i("b218");function s(t){return null!=t&&r(t.length)&&!n(t)}t.exports=s},"30cc":function(t,e,i){"use strict";i("e3b6")},"317b":function(t,e,i){"use strict";i("be0d")},"336a":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/compare-warning.f21d57e0760f1d807708f05c3beb1a51.png"},"342f":function(t,e,i){var n=i("d066");t.exports=n("navigator","userAgent")||""},"34ac":function(t,e,i){var n=i("9520"),r=i("1368"),s=i("1a8c"),o=i("dc57"),a=/[\\^$.*+?()[\]{}|]/g,l=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,h=c.toString,d=u.hasOwnProperty,p=RegExp("^"+h.call(d).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function f(t){if(!s(t)||r(t))return!1;var e=n(t)?p:l;return e.test(o(t))}t.exports=f},3511:function(t,e){var i=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw i("Maximum allowed index exceeded");return t}},"366a":function(t,e,i){},3698:function(t,e){function i(t,e){return null==t?void 0:t[e]}t.exports=i},3716:function(t,e,i){"use strict";i("52a6")},3729:function(t,e,i){var n=i("9e69"),r=i("00fd"),s=i("29f3"),o="[object Null]",a="[object Undefined]",l=n?n.toStringTag:void 0;function c(t){return null==t?void 0===t?a:o:l&&l in Object(t)?r(t):s(t)}t.exports=c},"37b0":function(t,e,i){"use strict";i("0e13")},"38d7":function(t,e,i){"use strict";i("ef62")},"39ff":function(t,e,i){var n=i("0b07"),r=i("2b3e"),s=n(r,"WeakMap");t.exports=s},"3a34":function(t,e,i){"use strict";var n=i("83ab"),r=i("e8b5"),s=TypeError,o=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=a?function(t,e){if(r(t)&&!o(t,"length").writable)throw s("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},"3a9b":function(t,e,i){var n=i("e330");t.exports=n({}.isPrototypeOf)},"3bb7":function(t,e){},"3bbe":function(t,e,i){var n=i("1626"),r=String,s=TypeError;t.exports=function(t){if("object"==typeof t||n(t))return t;throw s("Can't set "+r(t)+" as a prototype")}},"3c14":function(t,e){},"3f31":function(t,e,i){"use strict";(function(t){void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const e=Object(t);for(let i=1;i<arguments.length;i++){const t=arguments[i];if(null!=t)for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e}
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */),String(Math.random()).slice(2),window.trustedTypes&&trustedTypes.createPolicy("lit-html",{createHTML:t=>t})
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
let e=!1;(()=>{try{const t={get capture(){return e=!0,!1}};window.addEventListener("test",t,t),window.removeEventListener("test",t,t)}catch(e){}})(),
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
"undefined"!=typeof window&&(window.litHtmlVersions||(window.litHtmlVersions=[])).push("1.3.0")
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,void 0===window.ShadyCSS||void 0===window.ShadyCSS.prepareTemplateDom&&console.warn("Incompatible ShadyCSS version detected. Please update to at least @webcomponents/webcomponentsjs@2.0.2 and @webcomponents/shadycss@1.3.1.")
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */,window.JSCompiler_renameProperty=(t,e)=>t;const i={toAttribute(t,e){switch(e){case Boolean:return t?"":null;case Object:case Array:return null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){switch(e){case Boolean:return null!==t;case Number:return null===t?null:Number(t);case Object:case Array:return JSON.parse(t)}return t}},n=(t,e)=>e!==t&&(e==e||t==t),r={attribute:!0,type:String,converter:i,reflect:!1,hasChanged:n};class s extends HTMLElement{constructor(){super(),this.initialize()}static get observedAttributes(){this.finalize();const t=[];return this._classProperties.forEach((e,i)=>{const n=this._attributeNameForProperty(i,e);void 0!==n&&(this._attributeToPropertyMap.set(n,i),t.push(n))}),t}static _ensureClassProperties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_classProperties",this))){this._classProperties=new Map;const t=Object.getPrototypeOf(this)._classProperties;void 0!==t&&t.forEach((t,e)=>this._classProperties.set(e,t))}}static createProperty(t,e=r){if(this._ensureClassProperties(),this._classProperties.set(t,e),e.noAccessor||this.prototype.hasOwnProperty(t))return;const i="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,i,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(n){const r=this[t];this[e]=n,this.requestUpdateInternal(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this._classProperties&&this._classProperties.get(t)||r}static finalize(){const t=Object.getPrototypeOf(this);if(t.hasOwnProperty("finalized")||t.finalize(),this.finalized=!0,this._ensureClassProperties(),this._attributeToPropertyMap=new Map,this.hasOwnProperty(JSCompiler_renameProperty("properties",this))){const t=this.properties,e=[...Object.getOwnPropertyNames(t),..."function"==typeof Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t):[]];for(const i of e)this.createProperty(i,t[i])}}static _attributeNameForProperty(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}static _valueHasChanged(t,e,i=n){return i(t,e)}static _propertyValueFromAttribute(t,e){const n=e.type,r=e.converter||i,s="function"==typeof r?r:r.fromAttribute;return s?s(t,n):t}static _propertyValueToAttribute(t,e){if(void 0===e.reflect)return;const n=e.type,r=e.converter;return(r&&r.toAttribute||i.toAttribute)(t,n)}initialize(){this._updateState=0,this._updatePromise=new Promise(t=>this._enableUpdatingResolver=t),this._changedProperties=new Map,this._saveInstanceProperties(),this.requestUpdateInternal()}_saveInstanceProperties(){this.constructor._classProperties.forEach((t,e)=>{if(this.hasOwnProperty(e)){const t=this[e];delete this[e],this._instanceProperties||(this._instanceProperties=new Map),this._instanceProperties.set(e,t)}})}_applyInstanceProperties(){this._instanceProperties.forEach((t,e)=>this[e]=t),this._instanceProperties=void 0}connectedCallback(){this.enableUpdating()}enableUpdating(){void 0!==this._enableUpdatingResolver&&(this._enableUpdatingResolver(),this._enableUpdatingResolver=void 0)}disconnectedCallback(){}attributeChangedCallback(t,e,i){e!==i&&this._attributeToProperty(t,i)}_propertyToAttribute(t,e,i=r){const n=this.constructor,s=n._attributeNameForProperty(t,i);if(void 0!==s){const t=n._propertyValueToAttribute(e,i);if(void 0===t)return;this._updateState=8|this._updateState,null==t?this.removeAttribute(s):this.setAttribute(s,t),this._updateState=-9&this._updateState}}_attributeToProperty(t,e){if(8&this._updateState)return;const i=this.constructor,n=i._attributeToPropertyMap.get(t);if(void 0!==n){const t=i.getPropertyOptions(n);this._updateState=16|this._updateState,this[n]=i._propertyValueFromAttribute(e,t),this._updateState=-17&this._updateState}}requestUpdateInternal(t,e,i){let n=!0;if(void 0!==t){const r=this.constructor;i=i||r.getPropertyOptions(t),r._valueHasChanged(this[t],e,i.hasChanged)?(this._changedProperties.has(t)||this._changedProperties.set(t,e),!0!==i.reflect||16&this._updateState||(void 0===this._reflectingProperties&&(this._reflectingProperties=new Map),this._reflectingProperties.set(t,i))):n=!1}!this._hasRequestedUpdate&&n&&(this._updatePromise=this._enqueueUpdate())}requestUpdate(t,e){return this.requestUpdateInternal(t,e),this.updateComplete}async _enqueueUpdate(){this._updateState=4|this._updateState;try{await this._updatePromise}catch(t){}const t=this.performUpdate();return null!=t&&await t,!this._hasRequestedUpdate}get _hasRequestedUpdate(){return 4&this._updateState}get hasUpdated(){return 1&this._updateState}performUpdate(){if(!this._hasRequestedUpdate)return;this._instanceProperties&&this._applyInstanceProperties();let t=!1;const e=this._changedProperties;try{t=this.shouldUpdate(e),t?this.update(e):this._markUpdated()}catch(e){throw t=!1,this._markUpdated(),e}t&&(1&this._updateState||(this._updateState=1|this._updateState,this.firstUpdated(e)),this.updated(e))}_markUpdated(){this._changedProperties=new Map,this._updateState=-5&this._updateState}get updateComplete(){return this._getUpdateComplete()}_getUpdateComplete(){return this._updatePromise}shouldUpdate(t){return!0}update(t){void 0!==this._reflectingProperties&&this._reflectingProperties.size>0&&(this._reflectingProperties.forEach((t,e)=>this._propertyToAttribute(e,this[e],t)),this._reflectingProperties=void 0),this._markUpdated()}updated(t){}firstUpdated(t){}}s.finalized=!0;
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
const o=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?Object.assign(Object.assign({},e),{finisher(i){i.createProperty(e.key,t)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}};function a(t){return(e,i)=>void 0!==i?((t,e,i)=>{e.constructor.createProperty(i,t)})(t,e,i):o(t,e)
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/}window.ShadowRoot&&(void 0===window.ShadyCSS||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&CSSStyleSheet.prototype,
/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at
 * http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at
 * http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at
 * http://polymer.github.io/PATENTS.txt
 */
(window.litElementVersions||(window.litElementVersions=[])).push("2.4.0");
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const l=null!=navigator.xr&&null!=self.XRSession&&null!=navigator.xr.isSessionSupported,c=l&&self.XRSession.prototype.requestHitTestSource,u=null!=self.ResizeObserver,h=null!=self.IntersectionObserver,d=c,p=((()=>{const t=navigator.userAgent||navigator.vendor||self.opera;let e=!1;(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)})(),/\bCrOS\b/.test(navigator.userAgent),/android/i.test(navigator.userAgent)),f=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!self.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1,g=(()=>{const t=document.createElement("a");return Boolean(t.relList&&t.relList.supports&&t.relList.supports("ar"))})(),m=(/Safari\//.test(navigator.userAgent),/firefox/i.test(navigator.userAgent)),v=/OculusBrowser/.test(navigator.userAgent),A=(f&&/CriOS\//.test(navigator.userAgent),p&&!m&&!v),y=document.createElement("template");
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _(){}y.innerHTML='\n<style>\n:host {\n  display: block;\n  position: relative;\n  contain: strict;\n  width: 300px;\n  height: 150px;\n}\n\n/* NOTE: This ruleset is our integration surface area with the\n * :focus-visible polyfill.\n *\n * @see https://github.com/WICG/focus-visible/pull/196 */\n:host([data-js-focus-visible]:focus:not(.focus-visible)),\n:host([data-js-focus-visible]) :focus:not(.focus-visible) {\n  outline: none;\n}\n\n.container {\n  position: relative;\n}\n\n.userInput {\n  width: 100%;\n  height: 100%;\n  display: block;\n  position: relative;\n  overflow: hidden;\n}\n\ncanvas {\n  position: absolute;\n  display: none;\n  pointer-events: none;\n  /* NOTE(cdata): Chrome 76 and below apparently have a bug\n   * that causes our canvas not to display pixels unless it is\n   * on its own render layer\n   * @see https://github.com/google/model-viewer/pull/755#issuecomment-536597893\n   */\n  transform: translateZ(0);\n}\n\ncanvas.show {\n  display: block;\n}\n\n/* Adapted from HTML5 Boilerplate\n *\n * @see https://github.com/h5bp/html5-boilerplate/blob/ceb4620c78fc82e13534fc44202a3f168754873f/dist/css/main.css#L122-L133 */\n.screen-reader-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  white-space: nowrap;\n  width: 1px;\n}\n\n.slot {\n  position: absolute;\n  pointer-events: none;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n}\n\n.slot > * {\n  pointer-events: initial;\n}\n\n.annotation-wrapper ::slotted(*) {\n  opacity: var(--max-hotspot-opacity, 1);\n  transition: opacity 0.3s;\n}\n\n.pointer-tumbling .annotation-wrapper ::slotted(*) {\n  pointer-events: none;\n}\n\n.annotation-wrapper ::slotted(*) {\n  pointer-events: initial;\n}\n\n.annotation-wrapper.hide ::slotted(*) {\n  opacity: var(--min-hotspot-opacity, 0.25);\n}\n\n.slot.poster {\n  opacity: 0;\n  transition: opacity 0.3s 0.3s;\n  background-color: inherit;\n}\n\n.slot.poster.show {\n  opacity: 1;\n  transition: none;\n}\n\n.slot.poster > * {\n  pointer-events: initial;\n}\n\n.slot.poster:not(.show) > * {\n  pointer-events: none;\n}\n\n#default-poster {\n  width: 100%;\n  height: 100%;\n  /* The default poster is a <button> so we need to set display\n   * to prevent it from being affected by text-align: */\n  display: block;\n  position: absolute;\n  border: none;\n  padding: 0;\n  background-size: contain;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-color: var(--poster-color, #fff);\n  background-image: var(--poster-image, none);\n}\n\n#default-progress-bar {\n  display: block;\n  position: relative;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  overflow: hidden;\n}\n\n#default-progress-bar > .mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: var(--progress-mask, #fff);\n  transition: opacity 0.3s;\n  opacity: 0.2;\n}\n\n#default-progress-bar > .bar {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: var(--progress-bar-height, 5px);\n  transition: transform 0.09s;\n  transform-origin: top left;\n  transform: scaleX(0);\n  overflow: hidden;\n}\n\n#default-progress-bar > .bar:before {\n  content: \'\';\n  display: block;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n\n  background-color: var(--progress-bar-color, rgba(0, 0, 0, 0.4));\n\n  transition: none;\n  transform-origin: top left;\n  transform: translateY(0);\n}\n\n#default-progress-bar > .bar.hide:before {\n  transition: transform 0.3s 1s;\n  transform: translateY(-100%);\n}\n\n.slot.interaction-prompt {\n  display: var(--interaction-prompt-display, flex);\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  pointer-events: none;\n  align-items: center;\n  justify-content: center;\n\n  opacity: 0;\n  will-change: opacity;\n  overflow: hidden;\n  transition: opacity 0.3s;\n}\n\n.slot.interaction-prompt.visible {\n  opacity: 1;\n}\n\n.slot.interaction-prompt > .animated-container {\n  will-change: transform, opacity;\n}\n\n.slot.interaction-prompt > * {\n  pointer-events: none;\n}\n\n.slot.ar-button {\n  -moz-user-select: none;\n  -webkit-tap-highlight-color: transparent;\n  user-select: none;\n\n  display: var(--ar-button-display, block);\n}\n\n.slot.ar-button:not(.enabled) {\n  display: none;\n}\n\n.fab {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  box-sizing: border-box;\n  width: 40px;\n  height: 40px;\n  cursor: pointer;\n  background-color: #fff;\n  box-shadow: 0px 0px 4px rgba(0, 0, 0, 0.15);\n  border-radius: 100px;\n}\n\n.fab > * {\n  opacity: 0.87;\n}\n\n#default-ar-button {\n  position: absolute;\n  bottom: 16px;\n  right: 16px;\n  transform: scale(var(--ar-button-scale, 1));\n  transform-origin: bottom right;\n}\n\n.slot.default {\n  pointer-events: none;\n}\n\n.slot.progress-bar {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button {\n  pointer-events: none;\n}\n\n.slot.exit-webxr-ar-button:not(.enabled) {\n  display: none;\n}\n\n#default-exit-webxr-ar-button {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  width: 40px;\n  height: 40px;\n  box-sizing: border-box;\n}\n\n#default-exit-webxr-ar-button > svg {\n  fill: #fff;\n}\n</style>\n<div class="container">\n  <div class="userInput" tabindex="0" role="img"\n      aria-label="A depiction of a 3D model"\n      aria-live="polite">\n    <canvas></canvas>\n  </div>\n\n  \x3c!-- NOTE(cdata): We need to wrap slots because browsers without ShadowDOM\n        will have their <slot> elements removed by ShadyCSS --\x3e\n  <div class="slot poster">\n    <slot name="poster">\n      <button type="button" id="default-poster" aria-hidden="true" aria-label="Activate to view in 3D!"></button>\n    </slot>\n  </div>\n\n  <div class="slot ar-button">\n    <slot name="ar-button">\n      <a id="default-ar-button" class="fab"\n          tabindex="2"\n          aria-label="View this 3D model up close">\n        \n<svg version="1.1" id="view_x5F_in_x5F_AR_x5F_icon"\n\t xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px" height="24px"\n\t viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">\n<rect id="Bounding_Box" x="0" y="0" fill="none" width="24" height="24"/>\n<g id="Art_layer">\n\t<path d="M3,4c0-0.55,0.45-1,1-1h2V1H4C2.35,1,1,2.35,1,4v2h2V4z"/>\n\t<path d="M20,3c0.55,0,1,0.45,1,1v2h2V4c0-1.65-1.35-3-3-3h-2v2H20z"/>\n\t<path d="M4,21c-0.55,0-1-0.45-1-1v-2H1v2c0,1.65,1.35,3,3,3h2v-2H4z"/>\n\t<path d="M20,21c0.55,0,1-0.45,1-1v-2h2v2c0,1.65-1.35,3-3,3h-2v-2H20z"/>\n\t<g>\n\t\t<path d="M18.25,7.6l-5.5-3.18c-0.46-0.27-1.04-0.27-1.5,0L5.75,7.6C5.29,7.87,5,8.36,5,8.9v6.35c0,0.54,0.29,1.03,0.75,1.3\n\t\t\tl5.5,3.18c0.46,0.27,1.04,0.27,1.5,0l5.5-3.18c0.46-0.27,0.75-0.76,0.75-1.3V8.9C19,8.36,18.71,7.87,18.25,7.6z M7,14.96v-4.62\n\t\t\tl4,2.32v4.61L7,14.96z M12,10.93L8,8.61l4-2.31l4,2.31L12,10.93z M13,17.27v-4.61l4-2.32v4.62L13,17.27z"/>\n\t</g>\n</g>\n</svg>\n      </a>\n    </slot>\n  </div>\n\n  <div class="slot interaction-prompt">\n    <div class="animated-container" part="interaction-prompt">\n      <slot name="interaction-prompt" aria-hidden="true">\n        \n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="25" height="36">\n    <defs>\n        <path id="A" d="M.001.232h24.997V36H.001z" />\n    </defs>\n    <g transform="translate(-11 -4)" fill="none" fill-rule="evenodd">\n        <path fill-opacity="0" fill="#fff" d="M0 0h44v44H0z" />\n        <g transform="translate(11 3)">\n            <path d="M8.733 11.165c.04-1.108.766-2.027 1.743-2.307a2.54 2.54 0 0 1 .628-.089c.16 0 .314.017.463.044 1.088.2 1.9 1.092 1.9 2.16v8.88h1.26c2.943-1.39 5-4.45 5-8.025a9.01 9.01 0 0 0-1.9-5.56l-.43-.5c-.765-.838-1.683-1.522-2.712-2-1.057-.49-2.226-.77-3.46-.77s-2.4.278-3.46.77c-1.03.478-1.947 1.162-2.71 2l-.43.5a9.01 9.01 0 0 0-1.9 5.56 9.04 9.04 0 0 0 .094 1.305c.03.21.088.41.13.617l.136.624c.083.286.196.56.305.832l.124.333a8.78 8.78 0 0 0 .509.953l.065.122a8.69 8.69 0 0 0 3.521 3.191l1.11.537v-9.178z" fill-opacity=".5" fill="#e4e4e4" />\n            <path d="M22.94 26.218l-2.76 7.74c-.172.485-.676.8-1.253.8H12.24c-1.606 0-3.092-.68-3.98-1.82-1.592-2.048-3.647-3.822-6.11-5.27-.095-.055-.15-.137-.152-.23-.004-.1.046-.196.193-.297.56-.393 1.234-.6 1.926-.6a3.43 3.43 0 0 1 .691.069l4.922.994V10.972c0-.663.615-1.203 1.37-1.203s1.373.54 1.373 1.203v9.882h2.953c.273 0 .533.073.757.21l6.257 3.874c.027.017.045.042.07.06.41.296.586.77.426 1.22M4.1 16.614c-.024-.04-.042-.083-.065-.122a8.69 8.69 0 0 1-.509-.953c-.048-.107-.08-.223-.124-.333l-.305-.832c-.058-.202-.09-.416-.136-.624l-.13-.617a9.03 9.03 0 0 1-.094-1.305c0-2.107.714-4.04 1.9-5.56l.43-.5c.764-.84 1.682-1.523 2.71-2 1.058-.49 2.226-.77 3.46-.77s2.402.28 3.46.77c1.03.477 1.947 1.16 2.712 2l.428.5a9 9 0 0 1 1.901 5.559c0 3.577-2.056 6.636-5 8.026h-1.26v-8.882c0-1.067-.822-1.96-1.9-2.16-.15-.028-.304-.044-.463-.044-.22 0-.427.037-.628.09-.977.28-1.703 1.198-1.743 2.306v9.178l-1.11-.537C6.18 19.098 4.96 18 4.1 16.614M22.97 24.09l-6.256-3.874c-.102-.063-.218-.098-.33-.144 2.683-1.8 4.354-4.855 4.354-8.243 0-.486-.037-.964-.104-1.43a9.97 9.97 0 0 0-1.57-4.128l-.295-.408-.066-.092a10.05 10.05 0 0 0-.949-1.078c-.342-.334-.708-.643-1.094-.922-1.155-.834-2.492-1.412-3.94-1.65l-.732-.088-.748-.03a9.29 9.29 0 0 0-1.482.119c-1.447.238-2.786.816-3.94 1.65a9.33 9.33 0 0 0-.813.686 9.59 9.59 0 0 0-.845.877l-.385.437-.36.5-.288.468-.418.778-.04.09c-.593 1.28-.93 2.71-.93 4.222 0 3.832 2.182 7.342 5.56 8.938l1.437.68v4.946L5 25.64a4.44 4.44 0 0 0-.888-.086c-.017 0-.034.003-.05.003-.252.004-.503.033-.75.08a5.08 5.08 0 0 0-.237.056c-.193.046-.382.107-.568.18-.075.03-.15.057-.225.1-.25.114-.494.244-.723.405a1.31 1.31 0 0 0-.566 1.122 1.28 1.28 0 0 0 .645 1.051C4 29.925 5.96 31.614 7.473 33.563a5.06 5.06 0 0 0 .434.491c1.086 1.082 2.656 1.713 4.326 1.715h6.697c.748-.001 1.43-.333 1.858-.872.142-.18.256-.38.336-.602l2.757-7.74c.094-.26.13-.53.112-.794s-.088-.52-.203-.76a2.19 2.19 0 0 0-.821-.91" fill-opacity=".6" fill="#000" />\n            <path d="M22.444 24.94l-6.257-3.874a1.45 1.45 0 0 0-.757-.211h-2.953v-9.88c0-.663-.616-1.203-1.373-1.203s-1.37.54-1.37 1.203v16.643l-4.922-.994a3.44 3.44 0 0 0-.692-.069 3.35 3.35 0 0 0-1.925.598c-.147.102-.198.198-.194.298.004.094.058.176.153.23 2.462 1.448 4.517 3.22 6.11 5.27.887 1.14 2.373 1.82 3.98 1.82h6.686c.577 0 1.08-.326 1.253-.8l2.76-7.74c.16-.448-.017-.923-.426-1.22-.025-.02-.043-.043-.07-.06z" fill="#fff" />\n            <g transform="translate(0 .769)">\n                <mask id="B" fill="#fff">\n                    <use xlink:href="#A" />\n                </mask>\n                <path d="M23.993 24.992a1.96 1.96 0 0 1-.111.794l-2.758 7.74c-.08.22-.194.423-.336.602-.427.54-1.11.87-1.857.872h-6.698c-1.67-.002-3.24-.633-4.326-1.715-.154-.154-.3-.318-.434-.49C5.96 30.846 4 29.157 1.646 27.773c-.385-.225-.626-.618-.645-1.05a1.31 1.31 0 0 1 .566-1.122 4.56 4.56 0 0 1 .723-.405l.225-.1a4.3 4.3 0 0 1 .568-.18l.237-.056c.248-.046.5-.075.75-.08.018 0 .034-.003.05-.003.303-.001.597.027.89.086l3.722.752V20.68l-1.436-.68c-3.377-1.596-5.56-5.106-5.56-8.938 0-1.51.336-2.94.93-4.222.015-.03.025-.06.04-.09.127-.267.268-.525.418-.778.093-.16.186-.316.288-.468.063-.095.133-.186.2-.277L3.773 5c.118-.155.26-.29.385-.437.266-.3.544-.604.845-.877a9.33 9.33 0 0 1 .813-.686C6.97 2.167 8.31 1.59 9.757 1.35a9.27 9.27 0 0 1 1.481-.119 8.82 8.82 0 0 1 .748.031c.247.02.49.05.733.088 1.448.238 2.786.816 3.94 1.65.387.28.752.588 1.094.922a9.94 9.94 0 0 1 .949 1.078l.066.092c.102.133.203.268.295.408a9.97 9.97 0 0 1 1.571 4.128c.066.467.103.945.103 1.43 0 3.388-1.67 6.453-4.353 8.243.11.046.227.08.33.144l6.256 3.874c.37.23.645.55.82.9.115.24.185.498.203.76m.697-1.195c-.265-.55-.677-1.007-1.194-1.326l-5.323-3.297c2.255-2.037 3.564-4.97 3.564-8.114 0-2.19-.637-4.304-1.84-6.114-.126-.188-.26-.37-.4-.552-.645-.848-1.402-1.6-2.252-2.204C15.472.91 13.393.232 11.238.232A10.21 10.21 0 0 0 5.23 2.19c-.848.614-1.606 1.356-2.253 2.205-.136.18-.272.363-.398.55C1.374 6.756.737 8.87.737 11.06c0 4.218 2.407 8.08 6.133 9.842l.863.41v3.092l-2.525-.51c-.356-.07-.717-.106-1.076-.106a5.45 5.45 0 0 0-3.14.996c-.653.46-1.022 1.202-.99 1.983a2.28 2.28 0 0 0 1.138 1.872c2.24 1.318 4.106 2.923 5.543 4.772 1.26 1.62 3.333 2.59 5.55 2.592h6.698c1.42-.001 2.68-.86 3.134-2.138l2.76-7.74c.272-.757.224-1.584-.134-2.325" fill-opacity=".05" fill="#000" mask="url(#B)" />\n            </g>\n        </g>\n    </g>\n</svg>\n      </slot>\n    </div>\n  </div>\n\n  <div class="slot default">\n    <slot></slot>\n\n    <div class="slot progress-bar">\n      <slot name="progress-bar">\n        <div id="default-progress-bar" aria-hidden="true">\n          <div class="mask"></div>\n          <div class="bar"></div>\n        </div>\n      </slot>\n    </div>\n    \n    <div class="slot exit-webxr-ar-button">\n      <slot name="exit-webxr-ar-button">\n        <a id="default-exit-webxr-ar-button"\n            tabindex="3"\n            aria-label="Exit AR"\n            aria-hidden="true">\n          \n<svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 24 24" fill="#000000">\n    \x3c!-- NOTE(cdata): This SVG filter is a stop-gap until we can implement\n         support for dynamic re-coloring of UI components --\x3e\n    <defs>\n      <filter id="drop-shadow" x="-100%" y="-100%" width="300%" height="300%">\n        <feGaussianBlur in="SourceAlpha" stdDeviation="1"/>\n        <feOffset dx="0" dy="0" result="offsetblur"/>\n        <feFlood flood-color="#000000"/>\n        <feComposite in2="offsetblur" operator="in"/>\n        <feMerge>\n          <feMergeNode/>\n          <feMergeNode in="SourceGraphic"/>\n        </feMerge>\n      </filter>\n    </defs>\n    <path filter="url(#drop-shadow)" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>\n    <path d="M0 0h24v24H0z" fill="none"/>\n</svg>\n        </a>\n      </slot>\n    </div>\n  </div>\n</div>',Object.assign(_.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[t]&&(i[t]=[]),-1===i[t].indexOf(e)&&i[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[t]&&-1!==i[t].indexOf(e)},removeEventListener:function(t,e){if(void 0===this._listeners)return;const i=this._listeners[t];if(void 0!==i){const t=i.indexOf(e);-1!==t&&i.splice(t,1)}},dispatchEvent:function(t){if(void 0===this._listeners)return;const e=this._listeners[t.type];if(void 0!==e){t.target=this;const i=e.slice(0);for(let e=0,n=i.length;e<n;e++)i[e].call(this,t)}}});const b=[];for(let Qm=0;Qm<256;Qm++)b[Qm]=(Qm<16?"0":"")+Qm.toString(16);let w=1234567;const x={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){const t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,i=4294967295*Math.random()|0,n=4294967295*Math.random()|0;return(b[255&t]+b[t>>8&255]+b[t>>16&255]+b[t>>24&255]+"-"+b[255&e]+b[e>>8&255]+"-"+b[e>>16&15|64]+b[e>>24&255]+"-"+b[63&i|128]+b[i>>8&255]+"-"+b[i>>16&255]+b[i>>24&255]+b[255&n]+b[n>>8&255]+b[n>>16&255]+b[n>>24&255]).toUpperCase()},clamp:function(t,e,i){return Math.max(e,Math.min(i,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,i,n,r){return n+(t-e)*(r-n)/(i-e)},lerp:function(t,e,i){return(1-i)*t+i*e},damp:function(t,e,i,n){return x.lerp(t,e,1-Math.exp(-i*n))},pingpong:function(t,e=1){return e-Math.abs(x.euclideanModulo(t,2*e)-e)},smoothstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*(3-2*t)},smootherstep:function(t,e,i){return t<=e?0:t>=i?1:(t=(t-e)/(i-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},seededRandom:function(t){return void 0!==t&&(w=t%2147483647),w=16807*w%2147483647,(w-1)/2147483646},degToRad:function(t){return t*x.DEG2RAD},radToDeg:function(t){return t*x.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))},setQuaternionFromProperEuler:function(t,e,i,n,r){const s=Math.cos,o=Math.sin,a=s(i/2),l=o(i/2),c=s((e+n)/2),u=o((e+n)/2),h=s((e-n)/2),d=o((e-n)/2),p=s((n-e)/2),f=o((n-e)/2);switch(r){case"XYX":t.set(a*u,l*h,l*d,a*c);break;case"YZY":t.set(l*d,a*u,l*h,a*c);break;case"ZXZ":t.set(l*h,l*d,a*u,a*c);break;case"XZX":t.set(a*u,l*f,l*p,a*c);break;case"YXY":t.set(l*p,a*u,l*f,a*c);break;case"ZYZ":t.set(l*f,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}};class C{constructor(t=0,e=0){Object.defineProperty(this,"isVector2",{value:!0}),this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,i=this.y,n=t.elements;return this.x=n[0]*e+n[3]*i+n[6],this.y=n[1]*e+n[4]*i+n[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y;return e*e+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const i=Math.cos(e),n=Math.sin(e),r=this.x-t.x,s=this.y-t.y;return this.x=r*i-s*n+t.x,this.y=r*n+s*i+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}class E{constructor(){Object.defineProperty(this,"isMatrix3",{value:!0}),this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,n,r,s,o,a,l){const c=this.elements;return c[0]=t,c[1]=n,c[2]=o,c[3]=e,c[4]=r,c[5]=a,c[6]=i,c[7]=s,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}clone(){return(new this.constructor).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],this}extractBasis(t,e,i){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,s=i[0],o=i[3],a=i[6],l=i[1],c=i[4],u=i[7],h=i[2],d=i[5],p=i[8],f=n[0],g=n[3],m=n[6],v=n[1],A=n[4],y=n[7],_=n[2],b=n[5],w=n[8];return r[0]=s*f+o*v+a*_,r[3]=s*g+o*A+a*b,r[6]=s*m+o*y+a*w,r[1]=l*f+c*v+u*_,r[4]=l*g+c*A+u*b,r[7]=l*m+c*y+u*w,r[2]=h*f+d*v+p*_,r[5]=h*g+d*A+p*b,r[8]=h*m+d*y+p*w,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8];return e*s*c-e*o*l-i*r*c+i*o*a+n*r*l-n*s*a}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=c*s-o*l,h=o*a-c*r,d=l*r-s*a,p=e*u+i*h+n*d;if(0===p)return this.set(0,0,0,0,0,0,0,0,0);const f=1/p;return t[0]=u*f,t[1]=(n*l-c*i)*f,t[2]=(o*i-n*s)*f,t[3]=h*f,t[4]=(c*e-n*a)*f,t[5]=(n*r-o*e)*f,t[6]=d*f,t[7]=(i*a-l*e)*f,t[8]=(s*e-i*r)*f,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).copy(this).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,i,n,r,s,o){const a=Math.cos(r),l=Math.sin(r);return this.set(i*a,i*l,-i*(a*s+l*o)+s+t,-n*l,n*a,-n*(-l*s+a*o)+o+e,0,0,1),this}scale(t,e){const i=this.elements;return i[0]*=t,i[3]*=t,i[6]*=t,i[1]*=e,i[4]*=e,i[7]*=e,this}rotate(t){const e=Math.cos(t),i=Math.sin(t),n=this.elements,r=n[0],s=n[3],o=n[6],a=n[1],l=n[4],c=n[7];return n[0]=e*r+i*a,n[3]=e*s+i*l,n[6]=e*o+i*c,n[1]=-i*r+e*a,n[4]=-i*s+e*l,n[7]=-i*o+e*c,this}translate(t,e){const i=this.elements;return i[0]+=t*i[2],i[3]+=t*i[5],i[6]+=t*i[8],i[1]+=e*i[2],i[4]+=e*i[5],i[7]+=e*i[8],this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<9;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<9;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t}}let S;const I={getDataURL:function(t){if(/^data:/i.test(t.src))return t.src;if("undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===S&&(S=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),S.width=t.width,S.height=t.height;const i=S.getContext("2d");t instanceof ImageData?i.putImageData(t,0,0):i.drawImage(t,0,0,t.width,t.height),e=S}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}};let T=0;function M(t=M.DEFAULT_IMAGE,e=M.DEFAULT_MAPPING,i=1001,n=1001,r=1006,s=1008,o=1023,a=1009,l=1,c=3e3){Object.defineProperty(this,"id",{value:T++}),this.uuid=x.generateUUID(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=i,this.wrapT=n,this.magFilter=r,this.minFilter=s,this.anisotropy=l,this.format=o,this.internalFormat=null,this.type=a,this.offset=new C(0,0),this.repeat=new C(1,1),this.center=new C(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new E,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=c,this.version=0,this.onUpdate=null}function B(t){return"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap?I.getDataURL(t):t.data?{data:Array.prototype.slice.call(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}M.DEFAULT_IMAGE=void 0,M.DEFAULT_MAPPING=300,M.prototype=Object.assign(Object.create(_.prototype),{constructor:M,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const n=this.image;if(void 0===n.uuid&&(n.uuid=x.generateUUID()),!e&&void 0===t.images[n.uuid]){let e;if(Array.isArray(n)){e=[];for(let t=0,i=n.length;t<i;t++)n[t].isDataTexture?e.push(B(n[t].image)):e.push(B(n[t]))}else e=B(n);t.images[n.uuid]={uuid:n.uuid,url:e}}i.image=n.uuid}return e||(t.textures[this.uuid]=i),i},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case 1001:t.x=t.x<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case 1001:t.y=t.y<0?0:1;break;case 1002:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty(M.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}});class k{constructor(t=0,e=0,i=0,n=1){Object.defineProperty(this,"isVector4",{value:!0}),this.x=t,this.y=e,this.z=i,this.w=n}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,i,n){return this.x=t,this.y=e,this.z=i,this.w=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=this.w,s=t.elements;return this.x=s[0]*e+s[4]*i+s[8]*n+s[12]*r,this.y=s[1]*e+s[5]*i+s[9]*n+s[13]*r,this.z=s[2]*e+s[6]*i+s[10]*n+s[14]*r,this.w=s[3]*e+s[7]*i+s[11]*n+s[15]*r,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,i,n,r;const s=.01,o=.1,a=t.elements,l=a[0],c=a[4],u=a[8],h=a[1],d=a[5],p=a[9],f=a[2],g=a[6],m=a[10];if(Math.abs(c-h)<s&&Math.abs(u-f)<s&&Math.abs(p-g)<s){if(Math.abs(c+h)<o&&Math.abs(u+f)<o&&Math.abs(p+g)<o&&Math.abs(l+d+m-3)<o)return this.set(1,0,0,0),this;e=Math.PI;const t=(l+1)/2,a=(d+1)/2,v=(m+1)/2,A=(c+h)/4,y=(u+f)/4,_=(p+g)/4;return t>a&&t>v?t<s?(i=0,n=.707106781,r=.707106781):(i=Math.sqrt(t),n=A/i,r=y/i):a>v?a<s?(i=.707106781,n=0,r=.707106781):(n=Math.sqrt(a),i=A/n,r=_/n):v<s?(i=.707106781,n=.707106781,r=0):(r=Math.sqrt(v),i=y/r,n=_/r),this.set(i,n,r,e),this}let v=Math.sqrt((g-p)*(g-p)+(u-f)*(u-f)+(h-c)*(h-c));return Math.abs(v)<.001&&(v=1),this.x=(g-p)/v,this.y=(u-f)/v,this.z=(h-c)/v,this.w=Math.acos((l+d+m-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this.w=t.w+(e.w-t.w)*i,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}class L extends _{constructor(t,e,i){super(),Object.defineProperty(this,"isWebGLRenderTarget",{value:!0}),this.width=t,this.height=e,this.scissor=new k(0,0,t,e),this.scissorTest=!1,this.viewport=new k(0,0,t,e),i=i||{},this.texture=new M(void 0,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==i.generateMipmaps&&i.generateMipmaps,this.texture.minFilter=void 0!==i.minFilter?i.minFilter:1006,this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0!==i.stencilBuffer&&i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}setSize(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}class R{constructor(t=0,e=0,i=0,n=1){Object.defineProperty(this,"isQuaternion",{value:!0}),this._x=t,this._y=e,this._z=i,this._w=n}static slerp(t,e,i,n){return i.copy(t).slerp(e,n)}static slerpFlat(t,e,i,n,r,s,o){let a=i[n+0],l=i[n+1],c=i[n+2],u=i[n+3];const h=r[s+0],d=r[s+1],p=r[s+2],f=r[s+3];if(u!==f||a!==h||l!==d||c!==p){let t=1-o;const e=a*h+l*d+c*p+u*f,i=e>=0?1:-1,n=1-e*e;if(n>Number.EPSILON){const r=Math.sqrt(n),s=Math.atan2(r,e*i);t=Math.sin(t*s)/r,o=Math.sin(o*s)/r}const r=o*i;if(a=a*t+h*r,l=l*t+d*r,c=c*t+p*r,u=u*t+f*r,t===1-o){const t=1/Math.sqrt(a*a+l*l+c*c+u*u);a*=t,l*=t,c*=t,u*=t}}t[e]=a,t[e+1]=l,t[e+2]=c,t[e+3]=u}static multiplyQuaternionsFlat(t,e,i,n,r,s){const o=i[n],a=i[n+1],l=i[n+2],c=i[n+3],u=r[s],h=r[s+1],d=r[s+2],p=r[s+3];return t[e]=o*p+c*u+a*d-l*h,t[e+1]=a*p+c*h+l*u-o*d,t[e+2]=l*p+c*d+o*h-a*u,t[e+3]=c*p-o*u-a*h-l*d,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const i=t._x,n=t._y,r=t._z,s=t._order,o=Math.cos,a=Math.sin,l=o(i/2),c=o(n/2),u=o(r/2),h=a(i/2),d=a(n/2),p=a(r/2);switch(s){case"XYZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"YXZ":this._x=h*c*u+l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"ZXY":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u-h*d*p;break;case"ZYX":this._x=h*c*u-l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u+h*d*p;break;case"YZX":this._x=h*c*u+l*d*p,this._y=l*d*u+h*c*p,this._z=l*c*p-h*d*u,this._w=l*c*u-h*d*p;break;case"XZY":this._x=h*c*u-l*d*p,this._y=l*d*u-h*c*p,this._z=l*c*p+h*d*u,this._w=l*c*u+h*d*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+s)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const i=e/2,n=Math.sin(i);return this._x=t.x*n,this._y=t.y*n,this._z=t.z*n,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,i=e[0],n=e[4],r=e[8],s=e[1],o=e[5],a=e[9],l=e[2],c=e[6],u=e[10],h=i+o+u;if(h>0){const t=.5/Math.sqrt(h+1);this._w=.25/t,this._x=(c-a)*t,this._y=(r-l)*t,this._z=(s-n)*t}else if(i>o&&i>u){const t=2*Math.sqrt(1+i-o-u);this._w=(c-a)/t,this._x=.25*t,this._y=(n+s)/t,this._z=(r+l)/t}else if(o>u){const t=2*Math.sqrt(1+o-i-u);this._w=(r-l)/t,this._x=(n+s)/t,this._y=.25*t,this._z=(a+c)/t}else{const t=2*Math.sqrt(1+u-i-o);this._w=(s-n)/t,this._x=(r+l)/t,this._y=(a+c)/t,this._z=.25*t}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let i=t.dot(e)+1;return i<1e-6?(i=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=i):(this._x=0,this._y=-t.z,this._z=t.y,this._w=i)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=i),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(x.clamp(this.dot(t),-1,1)))}rotateTowards(t,e){const i=this.angleTo(t);if(0===i)return this;const n=Math.min(1,e/i);return this.slerp(t,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const i=t._x,n=t._y,r=t._z,s=t._w,o=e._x,a=e._y,l=e._z,c=e._w;return this._x=i*c+s*o+n*l-r*a,this._y=n*c+s*a+r*o-i*l,this._z=r*c+s*l+i*a-n*o,this._w=s*c-i*o-n*a-r*l,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const i=this._x,n=this._y,r=this._z,s=this._w;let o=s*t._w+i*t._x+n*t._y+r*t._z;if(o<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,o=-o):this.copy(t),o>=1)return this._w=s,this._x=i,this._y=n,this._z=r,this;const a=1-o*o;if(a<=Number.EPSILON){const t=1-e;return this._w=t*s+e*this._w,this._x=t*i+e*this._x,this._y=t*n+e*this._y,this._z=t*r+e*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(a),c=Math.atan2(l,o),u=Math.sin((1-e)*c)/l,h=Math.sin(e*c)/l;return this._w=s*u+this._w*h,this._x=i*u+this._x*h,this._y=n*u+this._y*h,this._z=r*u+this._z*h,this._onChangeCallback(),this}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}class P{constructor(t=0,e=0,i=0){Object.defineProperty(this,"isVector3",{value:!0}),this.x=t,this.y=e,this.z=i}set(t,e,i){return void 0===i&&(i=this.z),this.x=t,this.y=e,this.z=i,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(O.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(O.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[3]*i+r[6]*n,this.y=r[1]*e+r[4]*i+r[7]*n,this.z=r[2]*e+r[5]*i+r[8]*n,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,i=this.y,n=this.z,r=t.elements,s=1/(r[3]*e+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*e+r[4]*i+r[8]*n+r[12])*s,this.y=(r[1]*e+r[5]*i+r[9]*n+r[13])*s,this.z=(r[2]*e+r[6]*i+r[10]*n+r[14])*s,this}applyQuaternion(t){const e=this.x,i=this.y,n=this.z,r=t.x,s=t.y,o=t.z,a=t.w,l=a*e+s*n-o*i,c=a*i+o*e-r*n,u=a*n+r*i-s*e,h=-r*e-s*i-o*n;return this.x=l*a+h*-r+c*-o-u*-s,this.y=c*a+h*-s+u*-r-l*-o,this.z=u*a+h*-o+l*-s-c*-r,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,i=this.y,n=this.z,r=t.elements;return this.x=r[0]*e+r[4]*i+r[8]*n,this.y=r[1]*e+r[5]*i+r[9]*n,this.z=r[2]*e+r[6]*i+r[10]*n,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(t,Math.min(e,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,i){return this.x=t.x+(e.x-t.x)*i,this.y=t.y+(e.y-t.y)*i,this.z=t.z+(e.z-t.z)*i,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const i=t.x,n=t.y,r=t.z,s=e.x,o=e.y,a=e.z;return this.x=n*a-r*o,this.y=r*s-i*a,this.z=i*o-n*s,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const i=t.dot(this)/e;return this.copy(t).multiplyScalar(i)}projectOnPlane(t){return D.copy(this).projectOnVector(t),this.sub(D)}reflect(t){return this.sub(D.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const i=this.dot(t)/e;return Math.acos(x.clamp(i,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,i=this.y-t.y,n=this.z-t.z;return e*e+i*i+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,i){const n=Math.sin(e)*t;return this.x=n*Math.sin(i),this.y=Math.cos(e)*t,this.z=n*Math.cos(i),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,i){return this.x=t*Math.sin(e),this.y=i,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),i=this.setFromMatrixColumn(t,1).length(),n=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=i,this.z=n,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}const D=new P,O=new R;class F{constructor(t,e){Object.defineProperty(this,"isBox3",{value:!0}),this.min=void 0!==t?t:new P(1/0,1/0,1/0),this.max=void 0!==e?e:new P(-1/0,-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,i=1/0,n=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,l=t.length;a<l;a+=3){const l=t[a],c=t[a+1],u=t[a+2];l<e&&(e=l),c<i&&(i=c),u<n&&(n=u),l>r&&(r=l),c>s&&(s=c),u>o&&(o=u)}return this.min.set(e,i,n),this.max.set(r,s,o),this}setFromBufferAttribute(t){let e=1/0,i=1/0,n=1/0,r=-1/0,s=-1/0,o=-1/0;for(let a=0,l=t.count;a<l;a++){const l=t.getX(a),c=t.getY(a),u=t.getZ(a);l<e&&(e=l),c<i&&(i=c),u<n&&(n=u),l>r&&(r=l),c>s&&(s=c),u>o&&(o=u)}return this.min.set(e,i,n),this.max.set(r,s,o),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=H.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new P),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new P),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),U.copy(e.boundingBox),U.applyMatrix4(t.matrixWorld),this.union(U));const i=t.children;for(let n=0,r=i.length;n<r;n++)this.expandByObject(i[n]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new P),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,H),H.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,i;return t.normal.x>0?(e=t.normal.x*this.min.x,i=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,i=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,i+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,i+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,i+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,i+=t.normal.z*this.min.z),e<=-t.constant&&i>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(Y),$.subVectors(this.max,Y),G.subVectors(t.a,Y),z.subVectors(t.b,Y),j.subVectors(t.c,Y),V.subVectors(z,G),W.subVectors(j,z),q.subVectors(G,j);let e=[0,-V.z,V.y,0,-W.z,W.y,0,-q.z,q.y,V.z,0,-V.x,W.z,0,-W.x,q.z,0,-q.x,-V.y,V.x,0,-W.y,W.x,0,-q.y,q.x,0];return!!N(e,G,z,j,$)&&(e=[1,0,0,0,1,0,0,0,1],!!N(e,G,z,j,$)&&(J.crossVectors(V,W),e=[J.x,J.y,J.z],N(e,G,z,j,$)))}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new P),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return H.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(H).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Q[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Q[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Q[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Q[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Q[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Q[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Q[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Q[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Q)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}function N(t,e,i,n,r){for(let s=0,o=t.length-3;s<=o;s+=3){X.fromArray(t,s);const o=r.x*Math.abs(X.x)+r.y*Math.abs(X.y)+r.z*Math.abs(X.z),a=e.dot(X),l=i.dot(X),c=n.dot(X);if(Math.max(-Math.max(a,l,c),Math.min(a,l,c))>o)return!1}return!0}const Q=[new P,new P,new P,new P,new P,new P,new P,new P],H=new P,U=new F,G=new P,z=new P,j=new P,V=new P,W=new P,q=new P,Y=new P,$=new P,J=new P,X=new P,K=new F;class Z{constructor(t,e){this.center=void 0!==t?t:new P,this.radius=void 0!==e?e:-1}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const i=this.center;void 0!==e?i.copy(e):K.setFromPoints(t).getCenter(i);let n=0;for(let r=0,s=t.length;r<s;r++)n=Math.max(n,i.distanceToSquared(t[r]));return this.radius=Math.sqrt(n),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const i=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new P),e.copy(t),i>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new F),this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}}const tt=new P,et=new P,it=new P,nt=new P,rt=new P,st=new P,ot=new P;class at{constructor(t,e){this.origin=void 0!==t?t:new P,this.direction=void 0!==e?e:new P(0,0,-1)}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new P),e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,tt)),this}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new P),e.subVectors(t,this.origin);const i=e.dot(this.direction);return i<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(i).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=tt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(tt.copy(this.direction).multiplyScalar(e).add(this.origin),tt.distanceToSquared(t))}distanceSqToSegment(t,e,i,n){et.copy(t).add(e).multiplyScalar(.5),it.copy(e).sub(t).normalize(),nt.copy(this.origin).sub(et);const r=.5*t.distanceTo(e),s=-this.direction.dot(it),o=nt.dot(this.direction),a=-nt.dot(it),l=nt.lengthSq(),c=Math.abs(1-s*s);let u,h,d,p;if(c>0)if(u=s*a-o,h=s*o-a,p=r*c,u>=0)if(h>=-p)if(h<=p){const t=1/c;u*=t,h*=t,d=u*(u+s*h+2*o)+h*(s*u+h+2*a)+l}else h=r,u=Math.max(0,-(s*h+o)),d=-u*u+h*(h+2*a)+l;else h=-r,u=Math.max(0,-(s*h+o)),d=-u*u+h*(h+2*a)+l;else h<=-p?(u=Math.max(0,-(-s*r+o)),h=u>0?-r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l):h<=p?(u=0,h=Math.min(Math.max(-r,-a),r),d=h*(h+2*a)+l):(u=Math.max(0,-(s*r+o)),h=u>0?r:Math.min(Math.max(-r,-a),r),d=-u*u+h*(h+2*a)+l);else h=s>0?-r:r,u=Math.max(0,-(s*h+o)),d=-u*u+h*(h+2*a)+l;return i&&i.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(it).multiplyScalar(h).add(et),d}intersectSphere(t,e){tt.subVectors(t.center,this.origin);const i=tt.dot(this.direction),n=tt.dot(tt)-i*i,r=t.radius*t.radius;if(n>r)return null;const s=Math.sqrt(r-n),o=i-s,a=i+s;return o<0&&a<0?null:o<0?this.at(a,e):this.at(o,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(t.normal)+t.constant)/e;return i>=0?i:null}intersectPlane(t,e){const i=this.distanceToPlane(t);return null===i?null:this.at(i,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let i,n,r,s,o,a;const l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(i=(t.min.x-h.x)*l,n=(t.max.x-h.x)*l):(i=(t.max.x-h.x)*l,n=(t.min.x-h.x)*l),c>=0?(r=(t.min.y-h.y)*c,s=(t.max.y-h.y)*c):(r=(t.max.y-h.y)*c,s=(t.min.y-h.y)*c),i>s||r>n?null:((r>i||i!=i)&&(i=r),(s<n||n!=n)&&(n=s),u>=0?(o=(t.min.z-h.z)*u,a=(t.max.z-h.z)*u):(o=(t.max.z-h.z)*u,a=(t.min.z-h.z)*u),i>a||o>n?null:((o>i||i!=i)&&(i=o),(a<n||n!=n)&&(n=a),n<0?null:this.at(i>=0?i:n,e)))}intersectsBox(t){return null!==this.intersectBox(t,tt)}intersectTriangle(t,e,i,n,r){rt.subVectors(e,t),st.subVectors(i,t),ot.crossVectors(rt,st);let s,o=this.direction.dot(ot);if(o>0){if(n)return null;s=1}else{if(!(o<0))return null;s=-1,o=-o}nt.subVectors(this.origin,t);const a=s*this.direction.dot(st.crossVectors(nt,st));if(a<0)return null;const l=s*this.direction.dot(rt.cross(nt));if(l<0)return null;if(a+l>o)return null;const c=-s*nt.dot(ot);return c<0?null:this.at(c/o,r)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}}class lt{constructor(){Object.defineProperty(this,"isMatrix4",{value:!0}),this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,i,n,r,s,o,a,l,c,u,h,d,p,f,g){const m=this.elements;return m[0]=t,m[4]=e,m[8]=i,m[12]=n,m[1]=r,m[5]=s,m[9]=o,m[13]=a,m[2]=l,m[6]=c,m[10]=u,m[14]=h,m[3]=d,m[7]=p,m[11]=f,m[15]=g,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new lt).fromArray(this.elements)}copy(t){const e=this.elements,i=t.elements;return e[0]=i[0],e[1]=i[1],e[2]=i[2],e[3]=i[3],e[4]=i[4],e[5]=i[5],e[6]=i[6],e[7]=i[7],e[8]=i[8],e[9]=i[9],e[10]=i[10],e[11]=i[11],e[12]=i[12],e[13]=i[13],e[14]=i[14],e[15]=i[15],this}copyPosition(t){const e=this.elements,i=t.elements;return e[12]=i[12],e[13]=i[13],e[14]=i[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,i){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(t,e,i){return this.set(t.x,e.x,i.x,0,t.y,e.y,i.y,0,t.z,e.z,i.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,i=t.elements,n=1/ct.setFromMatrixColumn(t,0).length(),r=1/ct.setFromMatrixColumn(t,1).length(),s=1/ct.setFromMatrixColumn(t,2).length();return e[0]=i[0]*n,e[1]=i[1]*n,e[2]=i[2]*n,e[3]=0,e[4]=i[4]*r,e[5]=i[5]*r,e[6]=i[6]*r,e[7]=0,e[8]=i[8]*s,e[9]=i[9]*s,e[10]=i[10]*s,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,i=t.x,n=t.y,r=t.z,s=Math.cos(i),o=Math.sin(i),a=Math.cos(n),l=Math.sin(n),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){const t=s*c,i=s*u,n=o*c,r=o*u;e[0]=a*c,e[4]=-a*u,e[8]=l,e[1]=i+n*l,e[5]=t-r*l,e[9]=-o*a,e[2]=r-t*l,e[6]=n+i*l,e[10]=s*a}else if("YXZ"===t.order){const t=a*c,i=a*u,n=l*c,r=l*u;e[0]=t+r*o,e[4]=n*o-i,e[8]=s*l,e[1]=s*u,e[5]=s*c,e[9]=-o,e[2]=i*o-n,e[6]=r+t*o,e[10]=s*a}else if("ZXY"===t.order){const t=a*c,i=a*u,n=l*c,r=l*u;e[0]=t-r*o,e[4]=-s*u,e[8]=n+i*o,e[1]=i+n*o,e[5]=s*c,e[9]=r-t*o,e[2]=-s*l,e[6]=o,e[10]=s*a}else if("ZYX"===t.order){const t=s*c,i=s*u,n=o*c,r=o*u;e[0]=a*c,e[4]=n*l-i,e[8]=t*l+r,e[1]=a*u,e[5]=r*l+t,e[9]=i*l-n,e[2]=-l,e[6]=o*a,e[10]=s*a}else if("YZX"===t.order){const t=s*a,i=s*l,n=o*a,r=o*l;e[0]=a*c,e[4]=r-t*u,e[8]=n*u+i,e[1]=u,e[5]=s*c,e[9]=-o*c,e[2]=-l*c,e[6]=i*u+n,e[10]=t-r*u}else if("XZY"===t.order){const t=s*a,i=s*l,n=o*a,r=o*l;e[0]=a*c,e[4]=-u,e[8]=l*c,e[1]=t*u+r,e[5]=s*c,e[9]=i*u-n,e[2]=n*u-i,e[6]=o*c,e[10]=r*u+t}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(ht,t,dt)}lookAt(t,e,i){const n=this.elements;return gt.subVectors(t,e),0===gt.lengthSq()&&(gt.z=1),gt.normalize(),pt.crossVectors(i,gt),0===pt.lengthSq()&&(1===Math.abs(i.z)?gt.x+=1e-4:gt.z+=1e-4,gt.normalize(),pt.crossVectors(i,gt)),pt.normalize(),ft.crossVectors(gt,pt),n[0]=pt.x,n[4]=ft.x,n[8]=gt.x,n[1]=pt.y,n[5]=ft.y,n[9]=gt.y,n[2]=pt.z,n[6]=ft.z,n[10]=gt.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const i=t.elements,n=e.elements,r=this.elements,s=i[0],o=i[4],a=i[8],l=i[12],c=i[1],u=i[5],h=i[9],d=i[13],p=i[2],f=i[6],g=i[10],m=i[14],v=i[3],A=i[7],y=i[11],_=i[15],b=n[0],w=n[4],x=n[8],C=n[12],E=n[1],S=n[5],I=n[9],T=n[13],M=n[2],B=n[6],k=n[10],L=n[14],R=n[3],P=n[7],D=n[11],O=n[15];return r[0]=s*b+o*E+a*M+l*R,r[4]=s*w+o*S+a*B+l*P,r[8]=s*x+o*I+a*k+l*D,r[12]=s*C+o*T+a*L+l*O,r[1]=c*b+u*E+h*M+d*R,r[5]=c*w+u*S+h*B+d*P,r[9]=c*x+u*I+h*k+d*D,r[13]=c*C+u*T+h*L+d*O,r[2]=p*b+f*E+g*M+m*R,r[6]=p*w+f*S+g*B+m*P,r[10]=p*x+f*I+g*k+m*D,r[14]=p*C+f*T+g*L+m*O,r[3]=v*b+A*E+y*M+_*R,r[7]=v*w+A*S+y*B+_*P,r[11]=v*x+A*I+y*k+_*D,r[15]=v*C+A*T+y*L+_*O,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],i=t[4],n=t[8],r=t[12],s=t[1],o=t[5],a=t[9],l=t[13],c=t[2],u=t[6],h=t[10],d=t[14];return t[3]*(+r*a*u-n*l*u-r*o*h+i*l*h+n*o*d-i*a*d)+t[7]*(+e*a*d-e*l*h+r*s*h-n*s*d+n*l*c-r*a*c)+t[11]*(+e*l*u-e*o*d-r*s*u+i*s*d+r*o*c-i*l*c)+t[15]*(-n*o*c-e*a*u+e*o*h+n*s*u-i*s*h+i*a*c)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,i){const n=this.elements;return t.isVector3?(n[12]=t.x,n[13]=t.y,n[14]=t.z):(n[12]=t,n[13]=e,n[14]=i),this}invert(){const t=this.elements,e=t[0],i=t[1],n=t[2],r=t[3],s=t[4],o=t[5],a=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11],p=t[12],f=t[13],g=t[14],m=t[15],v=u*g*l-f*h*l+f*a*d-o*g*d-u*a*m+o*h*m,A=p*h*l-c*g*l-p*a*d+s*g*d+c*a*m-s*h*m,y=c*f*l-p*u*l+p*o*d-s*f*d-c*o*m+s*u*m,_=p*u*a-c*f*a-p*o*h+s*f*h+c*o*g-s*u*g,b=e*v+i*A+n*y+r*_;if(0===b)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const w=1/b;return t[0]=v*w,t[1]=(f*h*r-u*g*r-f*n*d+i*g*d+u*n*m-i*h*m)*w,t[2]=(o*g*r-f*a*r+f*n*l-i*g*l-o*n*m+i*a*m)*w,t[3]=(u*a*r-o*h*r-u*n*l+i*h*l+o*n*d-i*a*d)*w,t[4]=A*w,t[5]=(c*g*r-p*h*r+p*n*d-e*g*d-c*n*m+e*h*m)*w,t[6]=(p*a*r-s*g*r-p*n*l+e*g*l+s*n*m-e*a*m)*w,t[7]=(s*h*r-c*a*r+c*n*l-e*h*l-s*n*d+e*a*d)*w,t[8]=y*w,t[9]=(p*u*r-c*f*r-p*i*d+e*f*d+c*i*m-e*u*m)*w,t[10]=(s*f*r-p*o*r+p*i*l-e*f*l-s*i*m+e*o*m)*w,t[11]=(c*o*r-s*u*r-c*i*l+e*u*l+s*i*d-e*o*d)*w,t[12]=_*w,t[13]=(c*f*n-p*u*n+p*i*h-e*f*h-c*i*g+e*u*g)*w,t[14]=(p*o*n-s*f*n-p*i*a+e*f*a+s*i*g-e*o*g)*w,t[15]=(s*u*n-c*o*n+c*i*a-e*u*a-s*i*h+e*o*h)*w,this}scale(t){const e=this.elements,i=t.x,n=t.y,r=t.z;return e[0]*=i,e[4]*=n,e[8]*=r,e[1]*=i,e[5]*=n,e[9]*=r,e[2]*=i,e[6]*=n,e[10]*=r,e[3]*=i,e[7]*=n,e[11]*=r,this}getMaxScaleOnAxis(){const t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],n=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,i,n))}makeTranslation(t,e,i){return this.set(1,0,0,t,0,1,0,e,0,0,1,i,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),i=Math.sin(t);return this.set(1,0,0,0,0,e,-i,0,0,i,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,0,i,0,0,1,0,0,-i,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),i=Math.sin(t);return this.set(e,-i,0,0,i,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const i=Math.cos(e),n=Math.sin(e),r=1-i,s=t.x,o=t.y,a=t.z,l=r*s,c=r*o;return this.set(l*s+i,l*o-n*a,l*a+n*o,0,l*o+n*a,c*o+i,c*a-n*s,0,l*a-n*o,c*a+n*s,r*a*a+i,0,0,0,0,1),this}makeScale(t,e,i){return this.set(t,0,0,0,0,e,0,0,0,0,i,0,0,0,0,1),this}makeShear(t,e,i){return this.set(1,e,i,0,t,1,i,0,t,e,1,0,0,0,0,1),this}compose(t,e,i){const n=this.elements,r=e._x,s=e._y,o=e._z,a=e._w,l=r+r,c=s+s,u=o+o,h=r*l,d=r*c,p=r*u,f=s*c,g=s*u,m=o*u,v=a*l,A=a*c,y=a*u,_=i.x,b=i.y,w=i.z;return n[0]=(1-(f+m))*_,n[1]=(d+y)*_,n[2]=(p-A)*_,n[3]=0,n[4]=(d-y)*b,n[5]=(1-(h+m))*b,n[6]=(g+v)*b,n[7]=0,n[8]=(p+A)*w,n[9]=(g-v)*w,n[10]=(1-(h+f))*w,n[11]=0,n[12]=t.x,n[13]=t.y,n[14]=t.z,n[15]=1,this}decompose(t,e,i){const n=this.elements;let r=ct.set(n[0],n[1],n[2]).length();const s=ct.set(n[4],n[5],n[6]).length(),o=ct.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),t.x=n[12],t.y=n[13],t.z=n[14],ut.copy(this);const a=1/r,l=1/s,c=1/o;return ut.elements[0]*=a,ut.elements[1]*=a,ut.elements[2]*=a,ut.elements[4]*=l,ut.elements[5]*=l,ut.elements[6]*=l,ut.elements[8]*=c,ut.elements[9]*=c,ut.elements[10]*=c,e.setFromRotationMatrix(ut),i.x=r,i.y=s,i.z=o,this}makePerspective(t,e,i,n,r,s){void 0===s&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const o=this.elements,a=2*r/(e-t),l=2*r/(i-n),c=(e+t)/(e-t),u=(i+n)/(i-n),h=-(s+r)/(s-r),d=-2*s*r/(s-r);return o[0]=a,o[4]=0,o[8]=c,o[12]=0,o[1]=0,o[5]=l,o[9]=u,o[13]=0,o[2]=0,o[6]=0,o[10]=h,o[14]=d,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this}makeOrthographic(t,e,i,n,r,s){const o=this.elements,a=1/(e-t),l=1/(i-n),c=1/(s-r),u=(e+t)*a,h=(i+n)*l,d=(s+r)*c;return o[0]=2*a,o[4]=0,o[8]=0,o[12]=-u,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-h,o[2]=0,o[6]=0,o[10]=-2*c,o[14]=-d,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this}equals(t){const e=this.elements,i=t.elements;for(let n=0;n<16;n++)if(e[n]!==i[n])return!1;return!0}fromArray(t,e=0){for(let i=0;i<16;i++)this.elements[i]=t[i+e];return this}toArray(t=[],e=0){const i=this.elements;return t[e]=i[0],t[e+1]=i[1],t[e+2]=i[2],t[e+3]=i[3],t[e+4]=i[4],t[e+5]=i[5],t[e+6]=i[6],t[e+7]=i[7],t[e+8]=i[8],t[e+9]=i[9],t[e+10]=i[10],t[e+11]=i[11],t[e+12]=i[12],t[e+13]=i[13],t[e+14]=i[14],t[e+15]=i[15],t}}const ct=new P,ut=new lt,ht=new P(0,0,0),dt=new P(1,1,1),pt=new P,ft=new P,gt=new P;class mt{constructor(t=0,e=0,i=0,n=mt.DefaultOrder){Object.defineProperty(this,"isEuler",{value:!0}),this._x=t,this._y=e,this._z=i,this._order=n}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,i,n){return this._x=t,this._y=e,this._z=i,this._order=n||this._order,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e,i){const n=x.clamp,r=t.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],h=r[2],d=r[6],p=r[10];switch(e=e||this._order){case"XYZ":this._y=Math.asin(n(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-n(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,s),this._z=0);break;case"ZXY":this._x=Math.asin(n(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-h,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-n(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(n(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!1!==i&&this._onChangeCallback(),this}setFromQuaternion(t,e,i){return vt.makeRotationFromQuaternion(t),this.setFromRotationMatrix(vt,e,i)}setFromVector3(t,e){return this.set(t.x,t.y,t.z,e||this._order)}reorder(t){return At.setFromEuler(this),this.setFromQuaternion(At,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new P(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}mt.DefaultOrder="XYZ",mt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];const vt=new lt,At=new R;class yt{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let _t=0;const bt=new P,wt=new R,xt=new lt,Ct=new P,Et=new P,St=new P,It=new R,Tt=new P(1,0,0),Mt=new P(0,1,0),Bt=new P(0,0,1),kt={type:"added"},Lt={type:"removed"};function Rt(){Object.defineProperty(this,"id",{value:_t++}),this.uuid=x.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Rt.DefaultUp.clone();const t=new P,e=new mt,i=new R,n=new P(1,1,1);e._onChange((function(){i.setFromEuler(e,!1)})),i._onChange((function(){e.setFromQuaternion(i,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new lt},normalMatrix:{value:new E}}),this.matrix=new lt,this.matrixWorld=new lt,this.matrixAutoUpdate=Rt.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new yt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}Rt.DefaultUp=new P(0,1,0),Rt.DefaultMatrixAutoUpdate=!0,Rt.prototype=Object.assign(Object.create(_.prototype),{constructor:Rt,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix4:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return wt.setFromAxisAngle(t,e),this.quaternion.multiply(wt),this},rotateOnWorldAxis:function(t,e){return wt.setFromAxisAngle(t,e),this.quaternion.premultiply(wt),this},rotateX:function(t){return this.rotateOnAxis(Tt,t)},rotateY:function(t){return this.rotateOnAxis(Mt,t)},rotateZ:function(t){return this.rotateOnAxis(Bt,t)},translateOnAxis:function(t,e){return bt.copy(t).applyQuaternion(this.quaternion),this.position.add(bt.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(Tt,t)},translateY:function(t){return this.translateOnAxis(Mt,t)},translateZ:function(t){return this.translateOnAxis(Bt,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(xt.copy(this.matrixWorld).invert())},lookAt:function(t,e,i){t.isVector3?Ct.copy(t):Ct.set(t,e,i);const n=this.parent;this.updateWorldMatrix(!0,!1),Et.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?xt.lookAt(Et,Ct,this.up):xt.lookAt(Ct,Et,this.up),this.quaternion.setFromRotationMatrix(xt),n&&(xt.extractRotation(n.matrixWorld),wt.setFromRotationMatrix(xt),this.quaternion.premultiply(wt.invert()))},add:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(kt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.remove(arguments[t]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Lt)),this},clear:function(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Lt)}return this.children.length=0,this},attach:function(t){return this.updateWorldMatrix(!0,!1),xt.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),xt.multiply(t.parent.matrixWorld)),t.applyMatrix4(xt),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(let i=0,n=this.children.length;i<n;i++){const n=this.children[i].getObjectByProperty(t,e);if(void 0!==n)return n}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new P),this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new R),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Et,t,St),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new P),this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Et,It,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new P),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverse(t)},traverseVisible:function(t){if(!1===this.visible)return;t(this);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].traverseVisible(t)},traverseAncestors:function(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let i=0,n=e.length;i<n;i++)e[i].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){const i=this.parent;if(!0===t&&null!==i&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const t=this.children;for(let e=0,i=t.length;e<i;e++)t[e].updateWorldMatrix(!1,!0)}},toJSON:function(t){const e=void 0===t||"string"==typeof t,i={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const n={};function r(e,i){return void 0===e[i.uuid]&&(e[i.uuid]=i.toJSON(t)),i.uuid}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),!1===this.frustumCulled&&(n.frustumCulled=!1),0!==this.renderOrder&&(n.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON()),this.isMesh||this.isLine||this.isPoints){n.geometry=r(t.geometries,this.geometry);const e=this.geometry.parameters;if(void 0!==e&&void 0!==e.shapes){const i=e.shapes;if(Array.isArray(i))for(let e=0,n=i.length;e<n;e++){const n=i[e];r(t.shapes,n)}else r(t.shapes,i)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(r(t.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const e=[];for(let i=0,n=this.material.length;i<n;i++)e.push(r(t.materials,this.material[i]));n.material=e}else n.material=r(t.materials,this.material);if(this.children.length>0){n.children=[];for(let e=0;e<this.children.length;e++)n.children.push(this.children[e].toJSON(t).object)}if(this.animations.length>0){n.animations=[];for(let e=0;e<this.animations.length;e++){const i=this.animations[e];n.animations.push(r(t.animations,i))}}if(e){const e=s(t.geometries),n=s(t.materials),r=s(t.textures),o=s(t.images),a=s(t.shapes),l=s(t.skeletons),c=s(t.animations);e.length>0&&(i.geometries=e),n.length>0&&(i.materials=n),r.length>0&&(i.textures=r),o.length>0&&(i.images=o),a.length>0&&(i.shapes=a),l.length>0&&(i.skeletons=l),c.length>0&&(i.animations=c)}return i.object=n,i;function s(t){const e=[];for(const i in t){const n=t[i];delete n.metadata,e.push(n)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let i=0;i<t.children.length;i++){const e=t.children[i];this.add(e.clone())}return this}});const Pt=new P,Dt=new P,Ot=new E;class Ft{constructor(t,e){Object.defineProperty(this,"isPlane",{value:!0}),this.normal=void 0!==t?t:new P(1,0,0),this.constant=void 0!==e?e:0}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,i,n){return this.normal.set(t,e,i),this.constant=n,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,i){const n=Pt.subVectors(i,e).cross(Dt.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(n,t),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new P),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new P);const i=t.delta(Pt),n=this.normal.dot(i);if(0===n)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;const r=-(t.start.dot(this.normal)+this.constant)/n;return r<0||r>1?void 0:e.copy(i).multiplyScalar(r).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),i=this.distanceToPoint(t.end);return e<0&&i>0||i<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new P),t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const i=e||Ot.getNormalMatrix(t),n=this.coplanarPoint(Pt).applyMatrix4(t),r=this.normal.applyMatrix3(i).normalize();return this.constant=-n.dot(r),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}}const Nt=new P,Qt=new P,Ht=new P,Ut=new P,Gt=new P,zt=new P,jt=new P,Vt=new P,Wt=new P,qt=new P;class Yt{constructor(t,e,i){this.a=void 0!==t?t:new P,this.b=void 0!==e?e:new P,this.c=void 0!==i?i:new P}static getNormal(t,e,i,n){void 0===n&&(console.warn("THREE.Triangle: .getNormal() target is now required"),n=new P),n.subVectors(i,e),Nt.subVectors(t,e),n.cross(Nt);const r=n.lengthSq();return r>0?n.multiplyScalar(1/Math.sqrt(r)):n.set(0,0,0)}static getBarycoord(t,e,i,n,r){Nt.subVectors(n,e),Qt.subVectors(i,e),Ht.subVectors(t,e);const s=Nt.dot(Nt),o=Nt.dot(Qt),a=Nt.dot(Ht),l=Qt.dot(Qt),c=Qt.dot(Ht),u=s*l-o*o;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new P),0===u)return r.set(-2,-1,-1);const h=1/u,d=(l*a-o*c)*h,p=(s*c-o*a)*h;return r.set(1-d-p,p,d)}static containsPoint(t,e,i,n){return this.getBarycoord(t,e,i,n,Ut),Ut.x>=0&&Ut.y>=0&&Ut.x+Ut.y<=1}static getUV(t,e,i,n,r,s,o,a){return this.getBarycoord(t,e,i,n,Ut),a.set(0,0),a.addScaledVector(r,Ut.x),a.addScaledVector(s,Ut.y),a.addScaledVector(o,Ut.z),a}static isFrontFacing(t,e,i,n){return Nt.subVectors(i,e),Qt.subVectors(t,e),Nt.cross(Qt).dot(n)<0}set(t,e,i){return this.a.copy(t),this.b.copy(e),this.c.copy(i),this}setFromPointsAndIndices(t,e,i,n){return this.a.copy(t[e]),this.b.copy(t[i]),this.c.copy(t[n]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return Nt.subVectors(this.c,this.b),Qt.subVectors(this.a,this.b),.5*Nt.cross(Qt).length()}getMidpoint(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new P),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Yt.getNormal(this.a,this.b,this.c,t)}getPlane(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Ft),t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Yt.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,i,n,r){return Yt.getUV(t,this.a,this.b,this.c,e,i,n,r)}containsPoint(t){return Yt.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Yt.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new P);const i=this.a,n=this.b,r=this.c;let s,o;Gt.subVectors(n,i),zt.subVectors(r,i),Vt.subVectors(t,i);const a=Gt.dot(Vt),l=zt.dot(Vt);if(a<=0&&l<=0)return e.copy(i);Wt.subVectors(t,n);const c=Gt.dot(Wt),u=zt.dot(Wt);if(c>=0&&u<=c)return e.copy(n);const h=a*u-c*l;if(h<=0&&a>=0&&c<=0)return s=a/(a-c),e.copy(i).addScaledVector(Gt,s);qt.subVectors(t,r);const d=Gt.dot(qt),p=zt.dot(qt);if(p>=0&&d<=p)return e.copy(r);const f=d*l-a*p;if(f<=0&&l>=0&&p<=0)return o=l/(l-p),e.copy(i).addScaledVector(zt,o);const g=c*p-d*u;if(g<=0&&u-c>=0&&d-p>=0)return jt.subVectors(r,n),o=(u-c)/(u-c+(d-p)),e.copy(n).addScaledVector(jt,o);const m=1/(g+f+h);return s=f*m,o=h*m,e.copy(i).addScaledVector(Gt,s).addScaledVector(zt,o)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}const $t={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Jt={h:0,s:0,l:0},Xt={h:0,s:0,l:0};function Kt(t,e,i){return i<0&&(i+=1),i>1&&(i-=1),i<1/6?t+6*(e-t)*i:i<.5?e:i<2/3?t+6*(e-t)*(2/3-i):t}function Zt(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function te(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}class ee{constructor(t,e,i){return Object.defineProperty(this,"isColor",{value:!0}),void 0===e&&void 0===i?this.set(t):this.setRGB(t,e,i)}set(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this}setScalar(t){return this.r=t,this.g=t,this.b=t,this}setHex(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this}setRGB(t,e,i){return this.r=t,this.g=e,this.b=i,this}setHSL(t,e,i){if(t=x.euclideanModulo(t,1),e=x.clamp(e,0,1),i=x.clamp(i,0,1),0===e)this.r=this.g=this.b=i;else{const n=i<=.5?i*(1+e):i+e-i*e,r=2*i-n;this.r=Kt(r,n,t+1/3),this.g=Kt(r,n,t),this.b=Kt(r,n,t-1/3)}return this}setStyle(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}let i;if(i=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(t)){let t;const n=i[1],r=i[2];switch(n){case"rgb":case"rgba":if(t=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(t[1],10))/255,this.g=Math.min(255,parseInt(t[2],10))/255,this.b=Math.min(255,parseInt(t[3],10))/255,e(t[4]),this;if(t=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(t[1],10))/100,this.g=Math.min(100,parseInt(t[2],10))/100,this.b=Math.min(100,parseInt(t[3],10))/100,e(t[4]),this;break;case"hsl":case"hsla":if(t=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(r)){const i=parseFloat(t[1])/360,n=parseInt(t[2],10)/100,r=parseInt(t[3],10)/100;return e(t[4]),this.setHSL(i,n,r)}}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(t)){const t=i[1],e=t.length;if(3===e)return this.r=parseInt(t.charAt(0)+t.charAt(0),16)/255,this.g=parseInt(t.charAt(1)+t.charAt(1),16)/255,this.b=parseInt(t.charAt(2)+t.charAt(2),16)/255,this;if(6===e)return this.r=parseInt(t.charAt(0)+t.charAt(1),16)/255,this.g=parseInt(t.charAt(2)+t.charAt(3),16)/255,this.b=parseInt(t.charAt(4)+t.charAt(5),16)/255,this}return t&&t.length>0?this.setColorName(t):this}setColorName(t){const e=$t[t];return void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+t),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(t){return this.r=t.r,this.g=t.g,this.b=t.b,this}copyGammaToLinear(t,e=2){return this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this}copyLinearToGamma(t,e=2){const i=e>0?1/e:1;return this.r=Math.pow(t.r,i),this.g=Math.pow(t.g,i),this.b=Math.pow(t.b,i),this}convertGammaToLinear(t){return this.copyGammaToLinear(this,t),this}convertLinearToGamma(t){return this.copyLinearToGamma(this,t),this}copySRGBToLinear(t){return this.r=Zt(t.r),this.g=Zt(t.g),this.b=Zt(t.b),this}copyLinearToSRGB(t){return this.r=te(t.r),this.g=te(t.g),this.b=te(t.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});const e=this.r,i=this.g,n=this.b,r=Math.max(e,i,n),s=Math.min(e,i,n);let o,a;const l=(s+r)/2;if(s===r)o=0,a=0;else{const t=r-s;switch(a=l<=.5?t/(r+s):t/(2-r-s),r){case e:o=(i-n)/t+(i<n?6:0);break;case i:o=(n-e)/t+2;break;case n:o=(e-i)/t+4}o/=6}return t.h=o,t.s=a,t.l=l,t}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(t,e,i){return this.getHSL(Jt),Jt.h+=t,Jt.s+=e,Jt.l+=i,this.setHSL(Jt.h,Jt.s,Jt.l),this}add(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this}addColors(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this}addScalar(t){return this.r+=t,this.g+=t,this.b+=t,this}sub(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this}multiply(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this}multiplyScalar(t){return this.r*=t,this.g*=t,this.b*=t,this}lerp(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this}lerpColors(t,e,i){return this.r=t.r+(e.r-t.r)*i,this.g=t.g+(e.g-t.g)*i,this.b=t.b+(e.b-t.b)*i,this}lerpHSL(t,e){this.getHSL(Jt),t.getHSL(Xt);const i=x.lerp(Jt.h,Xt.h,e),n=x.lerp(Jt.s,Xt.s,e),r=x.lerp(Jt.l,Xt.l,e);return this.setHSL(i,n,r),this}equals(t){return t.r===this.r&&t.g===this.g&&t.b===this.b}fromArray(t,e=0){return this.r=t[e],this.g=t[e+1],this.b=t[e+2],this}toArray(t=[],e=0){return t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t}fromBufferAttribute(t,e){return this.r=t.getX(e),this.g=t.getY(e),this.b=t.getZ(e),!0===t.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}ee.NAMES=$t,ee.prototype.r=1,ee.prototype.g=1,ee.prototype.b=1;class ie{constructor(t,e,i,n,r,s=0){this.a=t,this.b=e,this.c=i,this.normal=n&&n.isVector3?n:new P,this.vertexNormals=Array.isArray(n)?n:[],this.color=r&&r.isColor?r:new ee,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=s}clone(){return(new this.constructor).copy(this)}copy(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(let e=0,i=t.vertexNormals.length;e<i;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(let e=0,i=t.vertexColors.length;e<i;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}}let ne=0;function re(){Object.defineProperty(this,"id",{value:ne++}),this.uuid=x.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0}function se(t){re.call(this),this.type="MeshBasicMaterial",this.color=new ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}re.prototype=Object.assign(Object.create(_.prototype),{constructor:re,isMaterial:!0,onBeforeCompile:function(){},customProgramCacheKey:function(){return this.onBeforeCompile.toString()},setValues:function(t){if(void 0!==t)for(const e in t){const i=t[e];if(void 0===i){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===i;continue}const n=this[e];void 0!==n?n&&n.isColor?n.set(i):n&&n.isVector3&&i&&i.isVector3?n.copy(i):this[e]=i:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}},toJSON:function(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function n(t){const e=[];for(const i in t){const n=t[i];delete n.metadata,e.push(n)}return e}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(i.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(t).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(t).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(t).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(t).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(t).uuid,i.reflectivity=this.reflectivity,i.refractionRatio=this.refractionRatio,void 0!==this.combine&&(i.combine=this.combine),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.morphNormals&&(i.morphNormals=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),e){const e=n(t.textures),r=n(t.images);e.length>0&&(i.textures=e),r.length>0&&(i.images=r)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let i=null;if(null!==e){const t=e.length;i=new Array(t);for(let n=0;n!==t;++n)i[n]=e[n].clone()}return this.clippingPlanes=i,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(re.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),se.prototype=Object.create(re.prototype),se.prototype.constructor=se,se.prototype.isMeshBasicMaterial=!0,se.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this};const oe=new P,ae=new C;function le(t,e,i){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===i,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0}function ce(t,e,i){le.call(this,new Int8Array(t),e,i)}function ue(t,e,i){le.call(this,new Uint8Array(t),e,i)}function he(t,e,i){le.call(this,new Uint8ClampedArray(t),e,i)}function de(t,e,i){le.call(this,new Int16Array(t),e,i)}function pe(t,e,i){le.call(this,new Uint16Array(t),e,i)}function fe(t,e,i){le.call(this,new Int32Array(t),e,i)}function ge(t,e,i){le.call(this,new Uint32Array(t),e,i)}function me(t,e,i){le.call(this,new Uint16Array(t),e,i)}function ve(t,e,i){le.call(this,new Float32Array(t),e,i)}function Ae(t,e,i){le.call(this,new Float64Array(t),e,i)}function ye(t){if(0===t.length)return-1/0;let e=t[0];for(let i=1,n=t.length;i<n;++i)t[i]>e&&(e=t[i]);return e}Object.defineProperty(le.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(le.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.itemSize,i*=e.itemSize;for(let n=0,r=this.itemSize;n<r;n++)this.array[t+n]=e.array[i+n];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){const e=this.array;let i=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),r=new ee),e[i++]=r.r,e[i++]=r.g,e[i++]=r.b}return this},copyVector2sArray:function(t){const e=this.array;let i=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),r=new C),e[i++]=r.x,e[i++]=r.y}return this},copyVector3sArray:function(t){const e=this.array;let i=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),r=new P),e[i++]=r.x,e[i++]=r.y,e[i++]=r.z}return this},copyVector4sArray:function(t){const e=this.array;let i=0;for(let n=0,r=t.length;n<r;n++){let r=t[n];void 0===r&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),r=new k),e[i++]=r.x,e[i++]=r.y,e[i++]=r.z,e[i++]=r.w}return this},applyMatrix3:function(t){if(2===this.itemSize)for(let e=0,i=this.count;e<i;e++)ae.fromBufferAttribute(this,e),ae.applyMatrix3(t),this.setXY(e,ae.x,ae.y);else if(3===this.itemSize)for(let e=0,i=this.count;e<i;e++)oe.fromBufferAttribute(this,e),oe.applyMatrix3(t),this.setXYZ(e,oe.x,oe.y,oe.z);return this},applyMatrix4:function(t){for(let e=0,i=this.count;e<i;e++)oe.x=this.getX(e),oe.y=this.getY(e),oe.z=this.getZ(e),oe.applyMatrix4(t),this.setXYZ(e,oe.x,oe.y,oe.z);return this},applyNormalMatrix:function(t){for(let e=0,i=this.count;e<i;e++)oe.x=this.getX(e),oe.y=this.getY(e),oe.z=this.getZ(e),oe.applyNormalMatrix(t),this.setXYZ(e,oe.x,oe.y,oe.z);return this},transformDirection:function(t){for(let e=0,i=this.count;e<i;e++)oe.x=this.getX(e),oe.y=this.getY(e),oe.z=this.getZ(e),oe.transformDirection(t),this.setXYZ(e,oe.x,oe.y,oe.z);return this},set:function(t,e=0){return this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=i,this.array[t+2]=n,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),ce.prototype=Object.create(le.prototype),ce.prototype.constructor=ce,ue.prototype=Object.create(le.prototype),ue.prototype.constructor=ue,he.prototype=Object.create(le.prototype),he.prototype.constructor=he,de.prototype=Object.create(le.prototype),de.prototype.constructor=de,pe.prototype=Object.create(le.prototype),pe.prototype.constructor=pe,fe.prototype=Object.create(le.prototype),fe.prototype.constructor=fe,ge.prototype=Object.create(le.prototype),ge.prototype.constructor=ge,me.prototype=Object.create(le.prototype),me.prototype.constructor=me,me.prototype.isFloat16BufferAttribute=!0,ve.prototype=Object.create(le.prototype),ve.prototype.constructor=ve,Ae.prototype=Object.create(le.prototype),Ae.prototype.constructor=Ae;const _e={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};function be(t,e){return new _e[t](e)}let we=0;const xe=new lt,Ce=new Rt,Ee=new P,Se=new F,Ie=new F,Te=new P;function Me(){Object.defineProperty(this,"id",{value:we++}),this.uuid=x.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Me.prototype=Object.assign(Object.create(_.prototype),{constructor:Me,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){return Array.isArray(t)?this.index=new(ye(t)>65535?ge:pe)(t,1):this.index=t,this},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},deleteAttribute:function(t){return delete this.attributes[t],this},hasAttribute:function(t){return void 0!==this.attributes[t]},addGroup:function(t,e,i=0){this.groups.push({start:t,count:e,materialIndex:i})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix4:function(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const e=(new E).getNormalMatrix(t);i.applyNormalMatrix(e),i.needsUpdate=!0}const n=this.attributes.tangent;return void 0!==n&&(n.transformDirection(t),n.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return xe.makeRotationX(t),this.applyMatrix4(xe),this},rotateY:function(t){return xe.makeRotationY(t),this.applyMatrix4(xe),this},rotateZ:function(t){return xe.makeRotationZ(t),this.applyMatrix4(xe),this},translate:function(t,e,i){return xe.makeTranslation(t,e,i),this.applyMatrix4(xe),this},scale:function(t,e,i){return xe.makeScale(t,e,i),this.applyMatrix4(xe),this},lookAt:function(t){return Ce.lookAt(t),Ce.updateMatrix(),this.applyMatrix4(Ce.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ee).negate(),this.translate(Ee.x,Ee.y,Ee.z),this},setFromPoints:function(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i];e.push(n.x,n.y,n.z||0)}return this.setAttribute("position",new ve(e,3)),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new F);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new P(-1/0,-1/0,-1/0),new P(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let i=0,n=e.length;i<n;i++){const t=e[i];Se.setFromBufferAttribute(t),this.morphTargetsRelative?(Te.addVectors(this.boundingBox.min,Se.min),this.boundingBox.expandByPoint(Te),Te.addVectors(this.boundingBox.max,Se.max),this.boundingBox.expandByPoint(Te)):(this.boundingBox.expandByPoint(Se.min),this.boundingBox.expandByPoint(Se.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Z);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new P,1/0);if(t){const i=this.boundingSphere.center;if(Se.setFromBufferAttribute(t),e)for(let t=0,r=e.length;t<r;t++){const i=e[t];Ie.setFromBufferAttribute(i),this.morphTargetsRelative?(Te.addVectors(Se.min,Ie.min),Se.expandByPoint(Te),Te.addVectors(Se.max,Ie.max),Se.expandByPoint(Te)):(Se.expandByPoint(Ie.min),Se.expandByPoint(Ie.max))}Se.getCenter(i);let n=0;for(let e=0,r=t.count;e<r;e++)Te.fromBufferAttribute(t,e),n=Math.max(n,i.distanceToSquared(Te));if(e)for(let r=0,s=e.length;r<s;r++){const s=e[r],o=this.morphTargetsRelative;for(let e=0,r=s.count;e<r;e++)Te.fromBufferAttribute(s,e),o&&(Ee.fromBufferAttribute(t,e),Te.add(Ee)),n=Math.max(n,i.distanceToSquared(Te))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeTangents:function(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=t.array,n=e.position.array,r=e.normal.array,s=e.uv.array,o=n.length/3;void 0===e.tangent&&this.setAttribute("tangent",new le(new Float32Array(4*o),4));const a=e.tangent.array,l=[],c=[];for(let C=0;C<o;C++)l[C]=new P,c[C]=new P;const u=new P,h=new P,d=new P,p=new C,f=new C,g=new C,m=new P,v=new P;function A(t,e,i){u.fromArray(n,3*t),h.fromArray(n,3*e),d.fromArray(n,3*i),p.fromArray(s,2*t),f.fromArray(s,2*e),g.fromArray(s,2*i),h.sub(u),d.sub(u),f.sub(p),g.sub(p);const r=1/(f.x*g.y-g.x*f.y);isFinite(r)&&(m.copy(h).multiplyScalar(g.y).addScaledVector(d,-f.y).multiplyScalar(r),v.copy(d).multiplyScalar(f.x).addScaledVector(h,-g.x).multiplyScalar(r),l[t].add(m),l[e].add(m),l[i].add(m),c[t].add(v),c[e].add(v),c[i].add(v))}let y=this.groups;0===y.length&&(y=[{start:0,count:i.length}]);for(let C=0,S=y.length;C<S;++C){const t=y[C],e=t.start;for(let n=e,r=e+t.count;n<r;n+=3)A(i[n+0],i[n+1],i[n+2])}const _=new P,b=new P,w=new P,x=new P;function E(t){w.fromArray(r,3*t),x.copy(w);const e=l[t];_.copy(e),_.sub(w.multiplyScalar(w.dot(e))).normalize(),b.crossVectors(x,e);const i=b.dot(c[t])<0?-1:1;a[4*t]=_.x,a[4*t+1]=_.y,a[4*t+2]=_.z,a[4*t+3]=i}for(let C=0,S=y.length;C<S;++C){const t=y[C],e=t.start;for(let n=e,r=e+t.count;n<r;n+=3)E(i[n+0]),E(i[n+1]),E(i[n+2])}},computeVertexNormals:function(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let i=this.getAttribute("normal");if(void 0===i)i=new le(new Float32Array(3*e.count),3),this.setAttribute("normal",i);else for(let t=0,e=i.count;t<e;t++)i.setXYZ(t,0,0,0);const n=new P,r=new P,s=new P,o=new P,a=new P,l=new P,c=new P,u=new P;if(t)for(let h=0,d=t.count;h<d;h+=3){const d=t.getX(h+0),p=t.getX(h+1),f=t.getX(h+2);n.fromBufferAttribute(e,d),r.fromBufferAttribute(e,p),s.fromBufferAttribute(e,f),c.subVectors(s,r),u.subVectors(n,r),c.cross(u),o.fromBufferAttribute(i,d),a.fromBufferAttribute(i,p),l.fromBufferAttribute(i,f),o.add(c),a.add(c),l.add(c),i.setXYZ(d,o.x,o.y,o.z),i.setXYZ(p,a.x,a.y,a.z),i.setXYZ(f,l.x,l.y,l.z)}else for(let t=0,h=e.count;t<h;t+=3)n.fromBufferAttribute(e,t+0),r.fromBufferAttribute(e,t+1),s.fromBufferAttribute(e,t+2),c.subVectors(s,r),u.subVectors(n,r),c.cross(u),i.setXYZ(t+0,c.x,c.y,c.z),i.setXYZ(t+1,c.x,c.y,c.z),i.setXYZ(t+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}},merge:function(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const i=this.attributes;for(const n in i){if(void 0===t.attributes[n])continue;const r=i[n].array,s=t.attributes[n],o=s.array,a=s.itemSize*e,l=Math.min(o.length,r.length-a);for(let t=0,e=a;t<l;t++,e++)r[e]=o[t]}return this},normalizeNormals:function(){const t=this.attributes.normal;for(let e=0,i=t.count;e<i;e++)Te.fromBufferAttribute(t,e),Te.normalize(),t.setXYZ(e,Te.x,Te.y,Te.z)},toNonIndexed:function(){function t(t,e){const i=t.array,n=t.itemSize,r=t.normalized,s=new i.constructor(e.length*n);let o=0,a=0;for(let l=0,c=e.length;l<c;l++){o=e[l]*n;for(let t=0;t<n;t++)s[a++]=i[o++]}return new le(s,n,r)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Me,i=this.index.array,n=this.attributes;for(const o in n){const r=t(n[o],i);e.setAttribute(o,r)}const r=this.morphAttributes;for(const o in r){const n=[],s=r[o];for(let e=0,r=s.length;e<r;e++){const r=t(s[e],i);n.push(r)}e.morphAttributes[o]=n}e.morphTargetsRelative=this.morphTargetsRelative;const s=this.groups;for(let o=0,a=s.length;o<a;o++){const t=s[o];e.addGroup(t.start,t.count,t.materialIndex)}return e},toJSON:function(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const e=this.parameters;for(const i in e)void 0!==e[i]&&(t[i]=e[i]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const i=this.attributes;for(const a in i){const e=i[a],n=e.toJSON(t.data);""!==e.name&&(n.name=e.name),t.data.attributes[a]=n}const n={};let r=!1;for(const a in this.morphAttributes){const e=this.morphAttributes[a],i=[];for(let n=0,r=e.length;n<r;n++){const r=e[n],s=r.toJSON(t.data);""!==r.name&&(s.name=r.name),i.push(s)}i.length>0&&(n[a]=i,r=!0)}r&&(t.data.morphAttributes=n,t.data.morphTargetsRelative=this.morphTargetsRelative);const s=this.groups;s.length>0&&(t.data.groups=JSON.parse(JSON.stringify(s)));const o=this.boundingSphere;return null!==o&&(t.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),t},clone:function(){return(new Me).copy(this)},copy:function(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const i=t.index;null!==i&&this.setIndex(i.clone(e));const n=t.attributes;for(const l in n){const t=n[l];this.setAttribute(l,t.clone(e))}const r=t.morphAttributes;for(const l in r){const t=[],i=r[l];for(let n=0,r=i.length;n<r;n++)t.push(i[n].clone(e));this.morphAttributes[l]=t}this.morphTargetsRelative=t.morphTargetsRelative;const s=t.groups;for(let l=0,c=s.length;l<c;l++){const t=s[l];this.addGroup(t.start,t.count,t.materialIndex)}const o=t.boundingBox;null!==o&&(this.boundingBox=o.clone());const a=t.boundingSphere;return null!==a&&(this.boundingSphere=a.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});const Be=new lt,ke=new at,Le=new Z,Re=new P,Pe=new P,De=new P,Oe=new P,Fe=new P,Ne=new P,Qe=new P,He=new P,Ue=new P,Ge=new C,ze=new C,je=new C,Ve=new P,We=new P;function qe(t=new Me,e=new se){Rt.call(this),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}function Ye(t,e,i,n,r,s,o,a,l,c,u,h){Re.fromBufferAttribute(r,c),Pe.fromBufferAttribute(r,u),De.fromBufferAttribute(r,h);const d=t.morphTargetInfluences;if(e.morphTargets&&s&&d){Qe.set(0,0,0),He.set(0,0,0),Ue.set(0,0,0);for(let t=0,e=s.length;t<e;t++){const e=d[t],i=s[t];0!==e&&(Oe.fromBufferAttribute(i,c),Fe.fromBufferAttribute(i,u),Ne.fromBufferAttribute(i,h),o?(Qe.addScaledVector(Oe,e),He.addScaledVector(Fe,e),Ue.addScaledVector(Ne,e)):(Qe.addScaledVector(Oe.sub(Re),e),He.addScaledVector(Fe.sub(Pe),e),Ue.addScaledVector(Ne.sub(De),e)))}Re.add(Qe),Pe.add(He),De.add(Ue)}t.isSkinnedMesh&&(t.boneTransform(c,Re),t.boneTransform(u,Pe),t.boneTransform(h,De));const p=function(t,e,i,n,r,s,o,a){let l;if(l=1===e.side?n.intersectTriangle(o,s,r,!0,a):n.intersectTriangle(r,s,o,2!==e.side,a),null===l)return null;We.copy(a),We.applyMatrix4(t.matrixWorld);const c=i.ray.origin.distanceTo(We);return c<i.near||c>i.far?null:{distance:c,point:We.clone(),object:t}}(t,e,i,n,Re,Pe,De,Ve);if(p){a&&(Ge.fromBufferAttribute(a,c),ze.fromBufferAttribute(a,u),je.fromBufferAttribute(a,h),p.uv=Yt.getUV(Ve,Re,Pe,De,Ge,ze,je,new C)),l&&(Ge.fromBufferAttribute(l,c),ze.fromBufferAttribute(l,u),je.fromBufferAttribute(l,h),p.uv2=Yt.getUV(Ve,Re,Pe,De,Ge,ze,je,new C));const t=new ie(c,u,h);Yt.getNormal(Re,Pe,De,t.normal),p.face=t}return p}qe.prototype=Object.assign(Object.create(Rt.prototype),{constructor:qe,isMesh:!0,copy:function(t){return Rt.prototype.copy.call(this,t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const t=e[i[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,i=t.length;e<i;e++){const i=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){const i=this.geometry,n=this.material,r=this.matrixWorld;if(void 0===n)return;if(null===i.boundingSphere&&i.computeBoundingSphere(),Le.copy(i.boundingSphere),Le.applyMatrix4(r),!1===t.ray.intersectsSphere(Le))return;if(Be.copy(r).invert(),ke.copy(t.ray).applyMatrix4(Be),null!==i.boundingBox&&!1===ke.intersectsBox(i.boundingBox))return;let s;if(i.isBufferGeometry){const r=i.index,o=i.attributes.position,a=i.morphAttributes.position,l=i.morphTargetsRelative,c=i.attributes.uv,u=i.attributes.uv2,h=i.groups,d=i.drawRange;if(null!==r)if(Array.isArray(n))for(let i=0,p=h.length;i<p;i++){const p=h[i],f=n[p.materialIndex];for(let i=Math.max(p.start,d.start),n=Math.min(p.start+p.count,d.start+d.count);i<n;i+=3){const n=r.getX(i),h=r.getX(i+1),d=r.getX(i+2);s=Ye(this,f,t,ke,o,a,l,c,u,n,h,d),s&&(s.faceIndex=Math.floor(i/3),s.face.materialIndex=p.materialIndex,e.push(s))}}else for(let i=Math.max(0,d.start),p=Math.min(r.count,d.start+d.count);i<p;i+=3){const h=r.getX(i),d=r.getX(i+1),p=r.getX(i+2);s=Ye(this,n,t,ke,o,a,l,c,u,h,d,p),s&&(s.faceIndex=Math.floor(i/3),e.push(s))}else if(void 0!==o)if(Array.isArray(n))for(let i=0,p=h.length;i<p;i++){const r=h[i],p=n[r.materialIndex];for(let i=Math.max(r.start,d.start),n=Math.min(r.start+r.count,d.start+d.count);i<n;i+=3)s=Ye(this,p,t,ke,o,a,l,c,u,i,i+1,i+2),s&&(s.faceIndex=Math.floor(i/3),s.face.materialIndex=r.materialIndex,e.push(s))}else for(let i=Math.max(0,d.start),p=Math.min(o.count,d.start+d.count);i<p;i+=3)s=Ye(this,n,t,ke,o,a,l,c,u,i,i+1,i+2),s&&(s.faceIndex=Math.floor(i/3),e.push(s))}else i.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}});class $e extends Me{constructor(t=1,e=1,i=1,n=1,r=1,s=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:i,widthSegments:n,heightSegments:r,depthSegments:s};const o=this;n=Math.floor(n),r=Math.floor(r),s=Math.floor(s);const a=[],l=[],c=[],u=[];let h=0,d=0;function p(t,e,i,n,r,s,p,f,g,m,v){const A=s/g,y=p/m,_=s/2,b=p/2,w=f/2,x=g+1,C=m+1;let E=0,S=0;const I=new P;for(let o=0;o<C;o++){const s=o*y-b;for(let a=0;a<x;a++){const h=a*A-_;I[t]=h*n,I[e]=s*r,I[i]=w,l.push(I.x,I.y,I.z),I[t]=0,I[e]=0,I[i]=f>0?1:-1,c.push(I.x,I.y,I.z),u.push(a/g),u.push(1-o/m),E+=1}}for(let o=0;o<m;o++)for(let t=0;t<g;t++){const e=h+t+x*o,i=h+t+x*(o+1),n=h+(t+1)+x*(o+1),r=h+(t+1)+x*o;a.push(e,i,r),a.push(i,n,r),S+=6}o.addGroup(d,S,v),d+=S,h+=E}p("z","y","x",-1,-1,i,e,t,s,r,0),p("z","y","x",1,-1,i,e,-t,s,r,1),p("x","z","y",1,1,t,i,e,n,s,2),p("x","z","y",1,-1,t,i,-e,n,s,3),p("x","y","z",1,-1,t,e,i,n,r,4),p("x","y","z",-1,-1,t,e,-i,n,r,5),this.setIndex(a),this.setAttribute("position",new ve(l,3)),this.setAttribute("normal",new ve(c,3)),this.setAttribute("uv",new ve(u,2))}}function Je(t){const e={};for(const i in t){e[i]={};for(const n in t[i]){const r=t[i][n];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[i][n]=r.clone():Array.isArray(r)?e[i][n]=r.slice():e[i][n]=r}}return e}function Xe(t){const e={};for(let i=0;i<t.length;i++){const n=Je(t[i]);for(const t in n)e[t]=n[t]}return e}const Ke={clone:Je,merge:Xe};function Ze(t){re.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function ti(){Rt.call(this),this.type="Camera",this.matrixWorldInverse=new lt,this.projectionMatrix=new lt,this.projectionMatrixInverse=new lt}function ei(t=50,e=1,i=.1,n=2e3){ti.call(this),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=i,this.far=n,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function ii(t,e,i){if(Rt.call(this),this.type="CubeCamera",!0!==i.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=i;const n=new ei(90,1,t,e);n.layers=this.layers,n.up.set(0,-1,0),n.lookAt(new P(1,0,0)),this.add(n);const r=new ei(90,1,t,e);r.layers=this.layers,r.up.set(0,-1,0),r.lookAt(new P(-1,0,0)),this.add(r);const s=new ei(90,1,t,e);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(new P(0,1,0)),this.add(s);const o=new ei(90,1,t,e);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(new P(0,-1,0)),this.add(o);const a=new ei(90,1,t,e);a.layers=this.layers,a.up.set(0,-1,0),a.lookAt(new P(0,0,1)),this.add(a);const l=new ei(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new P(0,0,-1)),this.add(l),this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();const c=t.xr.enabled,u=t.getRenderTarget();t.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,n),t.setRenderTarget(i,1),t.render(e,r),t.setRenderTarget(i,2),t.render(e,s),t.setRenderTarget(i,3),t.render(e,o),t.setRenderTarget(i,4),t.render(e,a),i.texture.generateMipmaps=h,t.setRenderTarget(i,5),t.render(e,l),t.setRenderTarget(u),t.xr.enabled=c}}function ni(t,e,i,n,r,s,o,a,l,c){t=void 0!==t?t:[],e=void 0!==e?e:301,o=void 0!==o?o:1022,M.call(this,t,e,i,n,r,s,o,a,l,c),this.flipY=!1,this._needsFlipEnvMap=!0}Ze.prototype=Object.create(re.prototype),Ze.prototype.constructor=Ze,Ze.prototype.isShaderMaterial=!0,Ze.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=Je(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this},Ze.prototype.toJSON=function(t){const e=re.prototype.toJSON.call(this,t);e.glslVersion=this.glslVersion,e.uniforms={};for(const n in this.uniforms){const i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const i={};for(const n in this.extensions)!0===this.extensions[n]&&(i[n]=!0);return Object.keys(i).length>0&&(e.extensions=i),e},ti.prototype=Object.assign(Object.create(Rt.prototype),{constructor:ti,isCamera:!0,copy:function(t,e){return Rt.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new P),this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){Rt.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()},updateWorldMatrix:function(t,e){Rt.prototype.updateWorldMatrix.call(this,t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()},clone:function(){return(new this.constructor).copy(this)}}),ei.prototype=Object.assign(Object.create(ti.prototype),{constructor:ei,isPerspectiveCamera:!0,copy:function(t,e){return ti.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){const e=.5*this.getFilmHeight()/t;this.fov=2*x.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){const t=Math.tan(.5*x.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*x.RAD2DEG*Math.atan(Math.tan(.5*x.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,i,n,r,s){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=this.near;let e=t*Math.tan(.5*x.DEG2RAD*this.fov)/this.zoom,i=2*e,n=this.aspect*i,r=-.5*n;const s=this.view;if(null!==this.view&&this.view.enabled){const t=s.fullWidth,o=s.fullHeight;r+=s.offsetX*n/t,e-=s.offsetY*i/o,n*=s.width/t,i*=s.height/o}const o=this.filmOffset;0!==o&&(r+=t*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+n,e,e-i,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Rt.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}),ii.prototype=Object.create(Rt.prototype),ii.prototype.constructor=ii,ni.prototype=Object.create(M.prototype),ni.prototype.constructor=ni,ni.prototype.isCubeTexture=!0,Object.defineProperty(ni.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}});class ri extends L{constructor(t,e,i){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=i),super(t,t,e),Object.defineProperty(this,"isWebGLCubeRenderTarget",{value:!0}),e=e||{},this.texture=new ni(void 0,e.mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=1023,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:"\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",fragmentShader:"\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t"},n=new $e(5,5,5),r=new Ze({name:"CubemapFromEquirect",uniforms:Je(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;const s=new qe(n,r),o=e.minFilter;return 1008===e.minFilter&&(e.minFilter=1006),new ii(1,10,this).update(t,s),e.minFilter=o,s.geometry.dispose(),s.material.dispose(),this}clear(t,e,i,n){const r=t.getRenderTarget();for(let s=0;s<6;s++)t.setRenderTarget(this,s),t.clear(e,i,n);t.setRenderTarget(r)}}function si(t,e,i,n,r,s,o,a,l,c,u,h){M.call(this,null,s,o,a,l,c,n,r,u,h),this.image={data:t||null,width:e||1,height:i||1},this.magFilter=void 0!==l?l:1003,this.minFilter=void 0!==c?c:1003,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}si.prototype=Object.create(M.prototype),si.prototype.constructor=si,si.prototype.isDataTexture=!0;const oi=new Z,ai=new P;class li{constructor(t,e,i,n,r,s){this.planes=[void 0!==t?t:new Ft,void 0!==e?e:new Ft,void 0!==i?i:new Ft,void 0!==n?n:new Ft,void 0!==r?r:new Ft,void 0!==s?s:new Ft]}set(t,e,i,n,r,s){const o=this.planes;return o[0].copy(t),o[1].copy(e),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(s),this}clone(){return(new this.constructor).copy(this)}copy(t){const e=this.planes;for(let i=0;i<6;i++)e[i].copy(t.planes[i]);return this}setFromProjectionMatrix(t){const e=this.planes,i=t.elements,n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],l=i[5],c=i[6],u=i[7],h=i[8],d=i[9],p=i[10],f=i[11],g=i[12],m=i[13],v=i[14],A=i[15];return e[0].setComponents(o-n,u-a,f-h,A-g).normalize(),e[1].setComponents(o+n,u+a,f+h,A+g).normalize(),e[2].setComponents(o+r,u+l,f+d,A+m).normalize(),e[3].setComponents(o-r,u-l,f-d,A-m).normalize(),e[4].setComponents(o-s,u-c,f-p,A-v).normalize(),e[5].setComponents(o+s,u+c,f+p,A+v).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),oi.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(oi)}intersectsSprite(t){return oi.center.set(0,0,0),oi.radius=.7071067811865476,oi.applyMatrix4(t.matrixWorld),this.intersectsSphere(oi)}intersectsSphere(t){const e=this.planes,i=t.center,n=-t.radius;for(let r=0;r<6;r++)if(e[r].distanceToPoint(i)<n)return!1;return!0}intersectsBox(t){const e=this.planes;for(let i=0;i<6;i++){const n=e[i];if(ai.x=n.normal.x>0?t.max.x:t.min.x,ai.y=n.normal.y>0?t.max.y:t.min.y,ai.z=n.normal.z>0?t.max.z:t.min.z,n.distanceToPoint(ai)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let i=0;i<6;i++)if(e[i].distanceToPoint(t)<0)return!1;return!0}}function ci(){let t=null,e=!1,i=null,n=null;function r(e,s){i(e,s),n=t.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==i&&(n=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(n),e=!1},setAnimationLoop:function(t){i=t},setContext:function(e){t=e}}}function ui(t,e){const i=e.isWebGL2,n=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),n.get(t)},remove:function(e){e.isInterleavedBufferAttribute&&(e=e.data);const i=n.get(e);i&&(t.deleteBuffer(i.buffer),n.delete(e))},update:function(e,r){if(e.isGLBufferAttribute){const t=n.get(e);return void((!t||t.version<e.version)&&n.set(e,{buffer:e.buffer,type:e.type,bytesPerElement:e.elementSize,version:e.version}))}e.isInterleavedBufferAttribute&&(e=e.data);const s=n.get(e);void 0===s?n.set(e,function(e,n){const r=e.array,s=e.usage,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,r,s),e.onUploadCallback();let a=5126;return r instanceof Float32Array?a=5126:r instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):r instanceof Uint16Array?e.isFloat16BufferAttribute?i?a=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):a=5123:r instanceof Int16Array?a=5122:r instanceof Uint32Array?a=5125:r instanceof Int32Array?a=5124:r instanceof Int8Array?a=5120:r instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:r.BYTES_PER_ELEMENT,version:e.version}}(e,r)):s.version<e.version&&(function(e,n,r){const s=n.array,o=n.updateRange;t.bindBuffer(r,e),-1===o.count?t.bufferSubData(r,0,s):(i?t.bufferSubData(r,o.offset*s.BYTES_PER_ELEMENT,s,o.offset,o.count):t.bufferSubData(r,o.offset*s.BYTES_PER_ELEMENT,s.subarray(o.offset,o.offset+o.count)),o.count=-1)}(s.buffer,e,r),s.version=e.version)}}}class hi extends Me{constructor(t=1,e=1,i=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:i,heightSegments:n};const r=t/2,s=e/2,o=Math.floor(i),a=Math.floor(n),l=o+1,c=a+1,u=t/o,h=e/a,d=[],p=[],f=[],g=[];for(let m=0;m<c;m++){const t=m*h-s;for(let e=0;e<l;e++){const i=e*u-r;p.push(i,-t,0),f.push(0,0,1),g.push(e/o),g.push(1-m/a)}}for(let m=0;m<a;m++)for(let t=0;t<o;t++){const e=t+l*m,i=t+l*(m+1),n=t+1+l*(m+1),r=t+1+l*m;d.push(e,i,r),d.push(i,n,r)}this.setIndex(d),this.setAttribute("position",new ve(p,3)),this.setAttribute("normal",new ve(f,3)),this.setAttribute("uv",new ve(g,2))}}const di={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor.xyz *= color.xyz;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifndef ENVMAP_TYPE_CUBE_UV\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat specularRoughness;\n\tvec3 specularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tmat3 tsn = mat3( S, T, N );\n\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmissionmap_fragment:"#ifdef USE_TRANSMISSIONMAP\n\ttotalTransmission *= texture2D( transmissionMap, vUv ).r;\n#endif",transmissionmap_pars_fragment:"#ifdef USE_TRANSMISSIONMAP\n\tuniform sampler2D transmissionMap;\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSMISSION\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSMISSION\n\tuniform float transmission;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <transmissionmap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#ifdef TRANSMISSION\n\t\tfloat totalTransmission = transmission;\n\t#endif\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <transmissionmap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSMISSION\n\t\tdiffuseColor.a *= mix( saturate( 1. - totalTransmission + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) ), 1.0, metalness );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},pi={common:{diffuse:{value:new ee(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new E},uv2Transform:{value:new E},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new C(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ee(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ee(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},uvTransform:{value:new E}},sprite:{diffuse:{value:new ee(15658734)},opacity:{value:1},center:{value:new C(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},uvTransform:{value:new E}}},fi={basic:{uniforms:Xe([pi.common,pi.specularmap,pi.envmap,pi.aomap,pi.lightmap,pi.fog]),vertexShader:di.meshbasic_vert,fragmentShader:di.meshbasic_frag},lambert:{uniforms:Xe([pi.common,pi.specularmap,pi.envmap,pi.aomap,pi.lightmap,pi.emissivemap,pi.fog,pi.lights,{emissive:{value:new ee(0)}}]),vertexShader:di.meshlambert_vert,fragmentShader:di.meshlambert_frag},phong:{uniforms:Xe([pi.common,pi.specularmap,pi.envmap,pi.aomap,pi.lightmap,pi.emissivemap,pi.bumpmap,pi.normalmap,pi.displacementmap,pi.fog,pi.lights,{emissive:{value:new ee(0)},specular:{value:new ee(1118481)},shininess:{value:30}}]),vertexShader:di.meshphong_vert,fragmentShader:di.meshphong_frag},standard:{uniforms:Xe([pi.common,pi.envmap,pi.aomap,pi.lightmap,pi.emissivemap,pi.bumpmap,pi.normalmap,pi.displacementmap,pi.roughnessmap,pi.metalnessmap,pi.fog,pi.lights,{emissive:{value:new ee(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:di.meshphysical_vert,fragmentShader:di.meshphysical_frag},toon:{uniforms:Xe([pi.common,pi.aomap,pi.lightmap,pi.emissivemap,pi.bumpmap,pi.normalmap,pi.displacementmap,pi.gradientmap,pi.fog,pi.lights,{emissive:{value:new ee(0)}}]),vertexShader:di.meshtoon_vert,fragmentShader:di.meshtoon_frag},matcap:{uniforms:Xe([pi.common,pi.bumpmap,pi.normalmap,pi.displacementmap,pi.fog,{matcap:{value:null}}]),vertexShader:di.meshmatcap_vert,fragmentShader:di.meshmatcap_frag},points:{uniforms:Xe([pi.points,pi.fog]),vertexShader:di.points_vert,fragmentShader:di.points_frag},dashed:{uniforms:Xe([pi.common,pi.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:di.linedashed_vert,fragmentShader:di.linedashed_frag},depth:{uniforms:Xe([pi.common,pi.displacementmap]),vertexShader:di.depth_vert,fragmentShader:di.depth_frag},normal:{uniforms:Xe([pi.common,pi.bumpmap,pi.normalmap,pi.displacementmap,{opacity:{value:1}}]),vertexShader:di.normal_vert,fragmentShader:di.normal_frag},sprite:{uniforms:Xe([pi.sprite,pi.fog]),vertexShader:di.sprite_vert,fragmentShader:di.sprite_frag},background:{uniforms:{uvTransform:{value:new E},t2D:{value:null}},vertexShader:di.background_vert,fragmentShader:di.background_frag},cube:{uniforms:Xe([pi.envmap,{opacity:{value:1}}]),vertexShader:di.cube_vert,fragmentShader:di.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:di.equirect_vert,fragmentShader:di.equirect_frag},distanceRGBA:{uniforms:Xe([pi.common,pi.displacementmap,{referencePosition:{value:new P},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:di.distanceRGBA_vert,fragmentShader:di.distanceRGBA_frag},shadow:{uniforms:Xe([pi.lights,pi.fog,{color:{value:new ee(0)},opacity:{value:1}}]),vertexShader:di.shadow_vert,fragmentShader:di.shadow_frag}};function gi(t,e,i,n,r){const s=new ee(0);let o,a,l=0,c=null,u=0,h=null;function d(t,e){i.buffers.color.setClear(t.r,t.g,t.b,e,r)}return{getClearColor:function(){return s},setClearColor:function(t,e=1){s.set(t),l=e,d(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(t){l=t,d(s,l)},render:function(i,r,p,f){let g=!0===r.isScene?r.background:null;g&&g.isTexture&&(g=e.get(g));const m=t.xr,v=m.getSession&&m.getSession();v&&"additive"===v.environmentBlendMode&&(g=null),null===g?d(s,l):g&&g.isColor&&(d(g,1),f=!0),(t.autoClear||f)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),g&&(g.isCubeTexture||g.isWebGLCubeRenderTarget||306===g.mapping)?(void 0===a&&(a=new qe(new $e(1,1,1),new Ze({name:"BackgroundCubeMaterial",uniforms:Je(fi.cube.uniforms),vertexShader:fi.cube.vertexShader,fragmentShader:fi.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),a.geometry.deleteAttribute("normal"),a.geometry.deleteAttribute("uv"),a.onBeforeRender=function(t,e,i){this.matrixWorld.copyPosition(i.matrixWorld)},Object.defineProperty(a.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),n.update(a)),g.isWebGLCubeRenderTarget&&(g=g.texture),a.material.uniforms.envMap.value=g,a.material.uniforms.flipEnvMap.value=g.isCubeTexture&&g._needsFlipEnvMap?-1:1,c===g&&u===g.version&&h===t.toneMapping||(a.material.needsUpdate=!0,c=g,u=g.version,h=t.toneMapping),i.unshift(a,a.geometry,a.material,0,0,null)):g&&g.isTexture&&(void 0===o&&(o=new qe(new hi(2,2),new Ze({name:"BackgroundMaterial",uniforms:Je(fi.background.uniforms),vertexShader:fi.background.vertexShader,fragmentShader:fi.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),o.geometry.deleteAttribute("normal"),Object.defineProperty(o.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(o)),o.material.uniforms.t2D.value=g,!0===g.matrixAutoUpdate&&g.updateMatrix(),o.material.uniforms.uvTransform.value.copy(g.matrix),c===g&&u===g.version&&h===t.toneMapping||(o.material.needsUpdate=!0,c=g,u=g.version,h=t.toneMapping),i.unshift(o,o.geometry,o.material,0,0,null))}}}function mi(t,e,i,n){const r=t.getParameter(34921),s=n.isWebGL2?null:e.get("OES_vertex_array_object"),o=n.isWebGL2||null!==s,a={},l=d(null);let c=l;function u(e){return n.isWebGL2?t.bindVertexArray(e):s.bindVertexArrayOES(e)}function h(e){return n.isWebGL2?t.deleteVertexArray(e):s.deleteVertexArrayOES(e)}function d(t){const e=[],i=[],n=[];for(let s=0;s<r;s++)e[s]=0,i[s]=0,n[s]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:e,enabledAttributes:i,attributeDivisors:n,object:t,attributes:{},index:null}}function p(){const t=c.newAttributes;for(let e=0,i=t.length;e<i;e++)t[e]=0}function f(t){g(t,0)}function g(i,r){const s=c.newAttributes,o=c.enabledAttributes,a=c.attributeDivisors;s[i]=1,0===o[i]&&(t.enableVertexAttribArray(i),o[i]=1),a[i]!==r&&((n.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](i,r),a[i]=r)}function m(){const e=c.newAttributes,i=c.enabledAttributes;for(let n=0,r=i.length;n<r;n++)i[n]!==e[n]&&(t.disableVertexAttribArray(n),i[n]=0)}function v(e,i,r,s,o,a){!0!==n.isWebGL2||5124!==r&&5125!==r?t.vertexAttribPointer(e,i,r,s,o,a):t.vertexAttribIPointer(e,i,r,o,a)}function A(){y(),c!==l&&(c=l,u(c.object))}function y(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:function(r,l,h,A,y){let _=!1;if(o){const e=function(e,i,r){const o=!0===r.wireframe;let l=a[e.id];void 0===l&&(l={},a[e.id]=l);let c=l[i.id];void 0===c&&(c={},l[i.id]=c);let u=c[o];return void 0===u&&(u=d(n.isWebGL2?t.createVertexArray():s.createVertexArrayOES()),c[o]=u),u}(A,h,l);c!==e&&(c=e,u(c.object)),_=function(t,e){const i=c.attributes,n=t.attributes;let r=0;for(const s in n){const t=i[s],e=n[s];if(void 0===t)return!0;if(t.attribute!==e)return!0;if(t.data!==e.data)return!0;r++}return c.attributesNum!==r||c.index!==e}(A,y),_&&function(t,e){const i={},n=t.attributes;let r=0;for(const s in n){const t=n[s],e={};e.attribute=t,t.data&&(e.data=t.data),i[s]=e,r++}c.attributes=i,c.attributesNum=r,c.index=e}(A,y)}else{const t=!0===l.wireframe;c.geometry===A.id&&c.program===h.id&&c.wireframe===t||(c.geometry=A.id,c.program=h.id,c.wireframe=t,_=!0)}!0===r.isInstancedMesh&&(_=!0),null!==y&&i.update(y,34963),_&&(function(r,s,o,a){if(!1===n.isWebGL2&&(r.isInstancedMesh||a.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;p();const l=a.attributes,c=o.getAttributes(),u=s.defaultAttributeValues;for(const e in c){const n=c[e];if(n>=0){const s=l[e];if(void 0!==s){const e=s.normalized,r=s.itemSize,o=i.get(s);if(void 0===o)continue;const l=o.buffer,c=o.type,u=o.bytesPerElement;if(s.isInterleavedBufferAttribute){const i=s.data,o=i.stride,h=s.offset;i&&i.isInstancedInterleavedBuffer?(g(n,i.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=i.meshPerAttribute*i.count)):f(n),t.bindBuffer(34962,l),v(n,r,c,e,o*u,h*u)}else s.isInstancedBufferAttribute?(g(n,s.meshPerAttribute),void 0===a._maxInstanceCount&&(a._maxInstanceCount=s.meshPerAttribute*s.count)):f(n),t.bindBuffer(34962,l),v(n,r,c,e,0,0)}else if("instanceMatrix"===e){const e=i.get(r.instanceMatrix);if(void 0===e)continue;const s=e.buffer,o=e.type;g(n+0,1),g(n+1,1),g(n+2,1),g(n+3,1),t.bindBuffer(34962,s),t.vertexAttribPointer(n+0,4,o,!1,64,0),t.vertexAttribPointer(n+1,4,o,!1,64,16),t.vertexAttribPointer(n+2,4,o,!1,64,32),t.vertexAttribPointer(n+3,4,o,!1,64,48)}else if("instanceColor"===e){const e=i.get(r.instanceColor);if(void 0===e)continue;const s=e.buffer,o=e.type;g(n,1),t.bindBuffer(34962,s),t.vertexAttribPointer(n,3,o,!1,12,0)}else if(void 0!==u){const i=u[e];if(void 0!==i)switch(i.length){case 2:t.vertexAttrib2fv(n,i);break;case 3:t.vertexAttrib3fv(n,i);break;case 4:t.vertexAttrib4fv(n,i);break;default:t.vertexAttrib1fv(n,i)}}}}m()}(r,l,h,A),null!==y&&t.bindBuffer(34963,i.get(y).buffer))},reset:A,resetDefaultState:y,dispose:function(){A();for(const t in a){const e=a[t];for(const t in e){const i=e[t];for(const t in i)h(i[t].object),delete i[t];delete e[t]}delete a[t]}},releaseStatesOfGeometry:function(t){if(void 0===a[t.id])return;const e=a[t.id];for(const i in e){const t=e[i];for(const e in t)h(t[e].object),delete t[e];delete e[i]}delete a[t.id]},releaseStatesOfProgram:function(t){for(const e in a){const i=a[e];if(void 0===i[t.id])continue;const n=i[t.id];for(const t in n)h(n[t].object),delete n[t];delete i[t.id]}},initAttributes:p,enableAttribute:f,disableUnusedAttributes:m}}function vi(t,e,i,n){const r=n.isWebGL2;let s;this.setMode=function(t){s=t},this.render=function(e,n){t.drawArrays(s,e,n),i.update(n,s,1)},this.renderInstances=function(n,o,a){if(0===a)return;let l,c;if(r)l=t,c="drawArraysInstanced";else if(l=e.get("ANGLE_instanced_arrays"),c="drawArraysInstancedANGLE",null===l)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");l[c](s,n,o,a),i.update(o,s,a)}}function Ai(t,e,i){let n;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const s="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&t instanceof WebGL2ComputeRenderingContext;let o=void 0!==i.precision?i.precision:"highp";const a=r(o);a!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",a,"instead."),o=a);const l=!0===i.logarithmicDepthBuffer,c=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),d=t.getParameter(34076),p=t.getParameter(34921),f=t.getParameter(36347),g=t.getParameter(36348),m=t.getParameter(36349),v=u>0,A=s||!!e.get("OES_texture_float");return{isWebGL2:s,getMaxAnisotropy:function(){if(void 0!==n)return n;const i=e.get("EXT_texture_filter_anisotropic");return n=null!==i?t.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,n},getMaxPrecision:r,precision:o,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:d,maxAttributes:p,maxVertexUniforms:f,maxVaryings:g,maxFragmentUniforms:m,vertexTextures:v,floatFragmentTextures:A,floatVertexTextures:v&&A,maxSamples:s?t.getParameter(36183):0}}function yi(t){const e=this;let i=null,n=0,r=!1,s=!1;const o=new Ft,a=new E,l={value:null,needsUpdate:!1};function c(){l.value!==i&&(l.value=i,l.needsUpdate=n>0),e.numPlanes=n,e.numIntersection=0}function u(t,i,n,r){const s=null!==t?t.length:0;let c=null;if(0!==s){if(c=l.value,!0!==r||null===c){const e=n+4*s,r=i.matrixWorldInverse;a.getNormalMatrix(r),(null===c||c.length<e)&&(c=new Float32Array(e));for(let i=0,l=n;i!==s;++i,l+=4)o.copy(t[i]).applyMatrix4(r,a),o.normal.toArray(c,l),c[l+3]=o.constant}l.value=c,l.needsUpdate=!0}return e.numPlanes=s,e.numIntersection=0,c}this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(t,e,s){const o=0!==t.length||e||0!==n||r;return r=e,i=u(t,s,0),n=t.length,o},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1,c()},this.setState=function(e,o,a){const h=e.clippingPlanes,d=e.clipIntersection,p=e.clipShadows,f=t.get(e);if(!r||null===h||0===h.length||s&&!p)s?u(null):c();else{const t=s?0:n,e=4*t;let r=f.clippingState||null;l.value=r,r=u(h,o,e,a);for(let n=0;n!==e;++n)r[n]=i[n];f.clippingState=r,this.numIntersection=d?this.numPlanes:0,this.numPlanes+=t}}}function _i(t){let e=new WeakMap;function i(t,e){return 303===e?t.mapping=301:304===e&&(t.mapping=302),t}function n(t){const i=t.target;i.removeEventListener("dispose",n);const r=e.get(i);void 0!==r&&(e.delete(i),r.dispose())}return{get:function(r){if(r&&r.isTexture){const s=r.mapping;if(303===s||304===s){if(e.has(r))return i(e.get(r).texture,r.mapping);{const s=r.image;if(s&&s.height>0){const o=t.getRenderList(),a=t.getRenderTarget(),l=new ri(s.height/2);return l.fromEquirectangularTexture(t,r),e.set(r,l),t.setRenderTarget(a),t.setRenderList(o),r.addEventListener("dispose",n),i(l.texture,r.mapping)}return null}}}return r},dispose:function(){e=new WeakMap}}}function bi(t){const e={};function i(i){if(void 0!==e[i])return e[i];let n;switch(i){case"WEBGL_depth_texture":n=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":n=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":n=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":n=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:n=t.getExtension(i)}return e[i]=n,n}return{has:function(t){return null!==i(t)},init:function(t){t.isWebGL2?i("EXT_color_buffer_float"):(i("WEBGL_depth_texture"),i("OES_texture_float"),i("OES_texture_half_float"),i("OES_texture_half_float_linear"),i("OES_standard_derivatives"),i("OES_element_index_uint"),i("OES_vertex_array_object"),i("ANGLE_instanced_arrays")),i("OES_texture_float_linear"),i("EXT_color_buffer_half_float")},get:function(t){const e=i(t);return null===e&&console.warn("THREE.WebGLRenderer: "+t+" extension not supported."),e}}}function wi(t,e,i,n){const r={},s=new WeakMap;function o(t){const a=t.target;null!==a.index&&e.remove(a.index);for(const i in a.attributes)e.remove(a.attributes[i]);a.removeEventListener("dispose",o),delete r[a.id];const l=s.get(a);l&&(e.remove(l),s.delete(a)),n.releaseStatesOfGeometry(a),!0===a.isInstancedBufferGeometry&&delete a._maxInstanceCount,i.memory.geometries--}function a(t){const i=[],n=t.index,r=t.attributes.position;let o=0;if(null!==n){const t=n.array;o=n.version;for(let e=0,n=t.length;e<n;e+=3){const n=t[e+0],r=t[e+1],s=t[e+2];i.push(n,r,r,s,s,n)}}else{const t=r.array;o=r.version;for(let e=0,n=t.length/3-1;e<n;e+=3){const t=e+0,n=e+1,r=e+2;i.push(t,n,n,r,r,t)}}const a=new(ye(i)>65535?ge:pe)(i,1);a.version=o;const l=s.get(t);l&&e.remove(l),s.set(t,a)}return{get:function(t,e){return!0===r[e.id]||(e.addEventListener("dispose",o),r[e.id]=!0,i.memory.geometries++),e},update:function(t){const i=t.attributes;for(const r in i)e.update(i[r],34962);const n=t.morphAttributes;for(const r in n){const t=n[r];for(let i=0,n=t.length;i<n;i++)e.update(t[i],34962)}},getWireframeAttribute:function(t){const e=s.get(t);if(e){const i=t.index;null!==i&&e.version<i.version&&a(t)}else a(t);return s.get(t)}}}function xi(t,e,i,n){const r=n.isWebGL2;let s,o,a;this.setMode=function(t){s=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,n){t.drawElements(s,n,o,e*a),i.update(n,s,1)},this.renderInstances=function(n,l,c){if(0===c)return;let u,h;if(r)u=t,h="drawElementsInstanced";else if(u=e.get("ANGLE_instanced_arrays"),h="drawElementsInstancedANGLE",null===u)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");u[h](s,l,o,n*a,c),i.update(l,s,c)}}function Ci(t){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,i,n){switch(e.calls++,i){case 4:e.triangles+=n*(t/3);break;case 1:e.lines+=n*(t/2);break;case 3:e.lines+=n*(t-1);break;case 2:e.lines+=n*t;break;case 0:e.points+=n*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",i)}}}}function Ei(t,e){return t[0]-e[0]}function Si(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Ii(t){const e={},i=new Float32Array(8),n=[];for(let r=0;r<8;r++)n[r]=[r,0];return{update:function(r,s,o,a){const l=r.morphTargetInfluences,c=void 0===l?0:l.length;let u=e[s.id];if(void 0===u){u=[];for(let t=0;t<c;t++)u[t]=[t,0];e[s.id]=u}for(let t=0;t<c;t++){const e=u[t];e[0]=t,e[1]=l[t]}u.sort(Si);for(let t=0;t<8;t++)t<c&&u[t][1]?(n[t][0]=u[t][0],n[t][1]=u[t][1]):(n[t][0]=Number.MAX_SAFE_INTEGER,n[t][1]=0);n.sort(Ei);const h=o.morphTargets&&s.morphAttributes.position,d=o.morphNormals&&s.morphAttributes.normal;let p=0;for(let t=0;t<8;t++){const e=n[t],r=e[0],o=e[1];r!==Number.MAX_SAFE_INTEGER&&o?(h&&s.getAttribute("morphTarget"+t)!==h[r]&&s.setAttribute("morphTarget"+t,h[r]),d&&s.getAttribute("morphNormal"+t)!==d[r]&&s.setAttribute("morphNormal"+t,d[r]),i[t]=o,p+=o):(h&&!0===s.hasAttribute("morphTarget"+t)&&s.deleteAttribute("morphTarget"+t),d&&!0===s.hasAttribute("morphNormal"+t)&&s.deleteAttribute("morphNormal"+t),i[t]=0)}const f=s.morphTargetsRelative?1:1-p;a.getUniforms().setValue(t,"morphTargetBaseInfluence",f),a.getUniforms().setValue(t,"morphTargetInfluences",i)}}}function Ti(t,e,i,n){let r=new WeakMap;function s(t){const e=t.target;e.removeEventListener("dispose",s),i.remove(e.instanceMatrix),null!==e.instanceColor&&i.remove(e.instanceColor)}return{update:function(t){const o=n.render.frame,a=t.geometry,l=e.get(t,a);return r.get(l)!==o&&(e.update(l),r.set(l,o)),t.isInstancedMesh&&(!1===t.hasEventListener("dispose",s)&&t.addEventListener("dispose",s),i.update(t.instanceMatrix,34962),null!==t.instanceColor&&i.update(t.instanceColor,34962)),l},dispose:function(){r=new WeakMap}}}function Mi(t=null,e=1,i=1,n=1){M.call(this,null),this.image={data:t,width:e,height:i,depth:n},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function Bi(t=null,e=1,i=1,n=1){M.call(this,null),this.image={data:t,width:e,height:i,depth:n},this.magFilter=1003,this.minFilter=1003,this.wrapR=1001,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}fi.physical={uniforms:Xe([fi.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new C(1,1)},clearcoatNormalMap:{value:null},sheen:{value:new ee(0)},transmission:{value:0},transmissionMap:{value:null}}]),vertexShader:di.meshphysical_vert,fragmentShader:di.meshphysical_frag},Mi.prototype=Object.create(M.prototype),Mi.prototype.constructor=Mi,Mi.prototype.isDataTexture2DArray=!0,Bi.prototype=Object.create(M.prototype),Bi.prototype.constructor=Bi,Bi.prototype.isDataTexture3D=!0;const ki=new M,Li=new Mi,Ri=new Bi,Pi=new ni,Di=[],Oi=[],Fi=new Float32Array(16),Ni=new Float32Array(9),Qi=new Float32Array(4);function Hi(t,e,i){const n=t[0];if(n<=0||n>0)return t;const r=e*i;let s=Di[r];if(void 0===s&&(s=new Float32Array(r),Di[r]=s),0!==e){n.toArray(s,0);for(let n=1,r=0;n!==e;++n)r+=i,t[n].toArray(s,r)}return s}function Ui(t,e){if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(t[i]!==e[i])return!1;return!0}function Gi(t,e){for(let i=0,n=e.length;i<n;i++)t[i]=e[i]}function zi(t,e){let i=Oi[e];void 0===i&&(i=new Int32Array(e),Oi[e]=i);for(let n=0;n!==e;++n)i[n]=t.allocateTextureUnit();return i}function ji(t,e){const i=this.cache;i[0]!==e&&(t.uniform1f(this.addr,e),i[0]=e)}function Vi(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),i[0]=e.x,i[1]=e.y);else{if(Ui(i,e))return;t.uniform2fv(this.addr,e),Gi(i,e)}}function Wi(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),i[0]=e.x,i[1]=e.y,i[2]=e.z);else if(void 0!==e.r)i[0]===e.r&&i[1]===e.g&&i[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),i[0]=e.r,i[1]=e.g,i[2]=e.b);else{if(Ui(i,e))return;t.uniform3fv(this.addr,e),Gi(i,e)}}function qi(t,e){const i=this.cache;if(void 0!==e.x)i[0]===e.x&&i[1]===e.y&&i[2]===e.z&&i[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),i[0]=e.x,i[1]=e.y,i[2]=e.z,i[3]=e.w);else{if(Ui(i,e))return;t.uniform4fv(this.addr,e),Gi(i,e)}}function Yi(t,e){const i=this.cache,n=e.elements;if(void 0===n){if(Ui(i,e))return;t.uniformMatrix2fv(this.addr,!1,e),Gi(i,e)}else{if(Ui(i,n))return;Qi.set(n),t.uniformMatrix2fv(this.addr,!1,Qi),Gi(i,n)}}function $i(t,e){const i=this.cache,n=e.elements;if(void 0===n){if(Ui(i,e))return;t.uniformMatrix3fv(this.addr,!1,e),Gi(i,e)}else{if(Ui(i,n))return;Ni.set(n),t.uniformMatrix3fv(this.addr,!1,Ni),Gi(i,n)}}function Ji(t,e){const i=this.cache,n=e.elements;if(void 0===n){if(Ui(i,e))return;t.uniformMatrix4fv(this.addr,!1,e),Gi(i,e)}else{if(Ui(i,n))return;Fi.set(n),t.uniformMatrix4fv(this.addr,!1,Fi),Gi(i,n)}}function Xi(t,e,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.safeSetTexture2D(e||ki,r)}function Ki(t,e,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTexture2DArray(e||Li,r)}function Zi(t,e,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.setTexture3D(e||Ri,r)}function tn(t,e,i){const n=this.cache,r=i.allocateTextureUnit();n[0]!==r&&(t.uniform1i(this.addr,r),n[0]=r),i.safeSetTextureCube(e||Pi,r)}function en(t,e){const i=this.cache;i[0]!==e&&(t.uniform1i(this.addr,e),i[0]=e)}function nn(t,e){const i=this.cache;Ui(i,e)||(t.uniform2iv(this.addr,e),Gi(i,e))}function rn(t,e){const i=this.cache;Ui(i,e)||(t.uniform3iv(this.addr,e),Gi(i,e))}function sn(t,e){const i=this.cache;Ui(i,e)||(t.uniform4iv(this.addr,e),Gi(i,e))}function on(t,e){const i=this.cache;i[0]!==e&&(t.uniform1ui(this.addr,e),i[0]=e)}function an(t,e){t.uniform1fv(this.addr,e)}function ln(t,e){t.uniform1iv(this.addr,e)}function cn(t,e){t.uniform2iv(this.addr,e)}function un(t,e){t.uniform3iv(this.addr,e)}function hn(t,e){t.uniform4iv(this.addr,e)}function dn(t,e){const i=Hi(e,this.size,2);t.uniform2fv(this.addr,i)}function pn(t,e){const i=Hi(e,this.size,3);t.uniform3fv(this.addr,i)}function fn(t,e){const i=Hi(e,this.size,4);t.uniform4fv(this.addr,i)}function gn(t,e){const i=Hi(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,i)}function mn(t,e){const i=Hi(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,i)}function vn(t,e){const i=Hi(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,i)}function An(t,e,i){const n=e.length,r=zi(i,n);t.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)i.safeSetTexture2D(e[s]||ki,r[s])}function yn(t,e,i){const n=e.length,r=zi(i,n);t.uniform1iv(this.addr,r);for(let s=0;s!==n;++s)i.safeSetTextureCube(e[s]||Pi,r[s])}function _n(t,e,i){this.id=t,this.addr=i,this.cache=[],this.setValue=function(t){switch(t){case 5126:return ji;case 35664:return Vi;case 35665:return Wi;case 35666:return qi;case 35674:return Yi;case 35675:return $i;case 35676:return Ji;case 5124:case 35670:return en;case 35667:case 35671:return nn;case 35668:case 35672:return rn;case 35669:case 35673:return sn;case 5125:return on;case 35678:case 36198:case 36298:case 36306:case 35682:return Xi;case 35679:case 36299:case 36307:return Zi;case 35680:case 36300:case 36308:case 36293:return tn;case 36289:case 36303:case 36311:case 36292:return Ki}}(e.type)}function bn(t,e,i){this.id=t,this.addr=i,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return an;case 35664:return dn;case 35665:return pn;case 35666:return fn;case 35674:return gn;case 35675:return mn;case 35676:return vn;case 5124:case 35670:return ln;case 35667:case 35671:return cn;case 35668:case 35672:return un;case 35669:case 35673:return hn;case 35678:case 36198:case 36298:case 36306:case 35682:return An;case 35680:case 36300:case 36308:case 36293:return yn}}(e.type)}function wn(t){this.id=t,this.seq=[],this.map={}}bn.prototype.updateCache=function(t){const e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),Gi(e,t)},wn.prototype.setValue=function(t,e,i){const n=this.seq;for(let r=0,s=n.length;r!==s;++r){const s=n[r];s.setValue(t,e[s.id],i)}};const xn=/(\w+)(\])?(\[|\.)?/g;function Cn(t,e){t.seq.push(e),t.map[e.id]=e}function En(t,e,i){const n=t.name,r=n.length;for(xn.lastIndex=0;;){const s=xn.exec(n),o=xn.lastIndex;let a=s[1];const l="]"===s[2],c=s[3];if(l&&(a|=0),void 0===c||"["===c&&o+2===r){Cn(i,void 0===c?new _n(a,t,e):new bn(a,t,e));break}{let t=i.map[a];void 0===t&&(t=new wn(a),Cn(i,t)),i=t}}}function Sn(t,e){this.seq=[],this.map={};const i=t.getProgramParameter(e,35718);for(let n=0;n<i;++n){const i=t.getActiveUniform(e,n);En(i,t.getUniformLocation(e,i.name),this)}}function In(t,e,i){const n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),n}Sn.prototype.setValue=function(t,e,i,n){const r=this.map[e];void 0!==r&&r.setValue(t,i,n)},Sn.prototype.setOptional=function(t,e,i){const n=e[i];void 0!==n&&this.setValue(t,i,n)},Sn.upload=function(t,e,i,n){for(let r=0,s=e.length;r!==s;++r){const s=e[r],o=i[s.id];!1!==o.needsUpdate&&s.setValue(t,o.value,n)}},Sn.seqWithValue=function(t,e){const i=[];for(let n=0,r=t.length;n!==r;++n){const r=t[n];r.id in e&&i.push(r)}return i};let Tn=0;function Mn(t){switch(t){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",t),["Linear","( value )"]}}function Bn(t,e,i){const n=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return n&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+i+"\n"+r+function(t){const e=t.split("\n");for(let i=0;i<e.length;i++)e[i]=i+1+": "+e[i];return e.join("\n")}(t.getShaderSource(e))}function kn(t,e){const i=Mn(e);return"vec4 "+t+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function Ln(t,e){const i=Mn(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Rn(t,e){let i;switch(e){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="OptimizedCineon";break;case 4:i="ACESFilmic";break;case 5:i="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),i="Linear"}return"vec3 "+t+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Pn(t){return""!==t}function Dn(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function On(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Fn=/^[ \t]*#include +<([\w\d./]+)>/gm;function Nn(t){return t.replace(Fn,Qn)}function Qn(t,e){const i=di[e];if(void 0===i)throw new Error("Can not resolve #include <"+e+">");return Nn(i)}const Hn=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,Un=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Gn(t){return t.replace(Un,jn).replace(Hn,zn)}function zn(t,e,i,n){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),jn(t,e,i,n)}function jn(t,e,i,n){let r="";for(let s=parseInt(e);s<parseInt(i);s++)r+=n.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function Vn(t){let e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function Wn(t,e,i,n){const r=t.getContext(),s=i.defines;let o=i.vertexShader,a=i.fragmentShader;const l=function(t){let e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(i),c=function(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case 301:case 302:e="ENVMAP_TYPE_CUBE";break;case 306:case 307:e="ENVMAP_TYPE_CUBE_UV"}return e}(i),u=function(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case 302:case 307:e="ENVMAP_MODE_REFRACTION"}return e}(i),h=function(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case 0:e="ENVMAP_BLENDING_MULTIPLY";break;case 1:e="ENVMAP_BLENDING_MIX";break;case 2:e="ENVMAP_BLENDING_ADD"}return e}(i),d=t.gammaFactor>0?t.gammaFactor:1,p=i.isWebGL2?"":function(t){return[t.extensionDerivatives||t.envMapCubeUV||t.bumpMap||t.tangentSpaceNormalMap||t.clearcoatNormalMap||t.flatShading||"physical"===t.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Pn).join("\n")}(i),f=function(t){const e=[];for(const i in t){const n=t[i];!1!==n&&e.push("#define "+i+" "+n)}return e.join("\n")}(s),g=r.createProgram();let m,v,A=i.glslVersion?"#version "+i.glslVersion+"\n":"";i.isRawShaderMaterial?(m=[f].filter(Pn).join("\n"),m.length>0&&(m+="\n"),v=[p,f].filter(Pn).join("\n"),v.length>0&&(v+="\n")):(m=[Vn(i),"#define SHADER_NAME "+i.shaderName,f,i.instancing?"#define USE_INSTANCING":"",i.instancingColor?"#define USE_INSTANCING_COLOR":"",i.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+d,"#define MAX_BONES "+i.maxBones,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+u:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.displacementMap&&i.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.flatShading?"#define FLAT_SHADED":"",i.skinning?"#define USE_SKINNING":"",i.useVertexTexture?"#define BONE_TEXTURE":"",i.morphTargets?"#define USE_MORPHTARGETS":"",i.morphNormals&&!1===i.flatShading?"#define USE_MORPHNORMALS":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.sizeAttenuation?"#define USE_SIZEATTENUATION":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Pn).join("\n"),v=[p,Vn(i),"#define SHADER_NAME "+i.shaderName,f,i.alphaTest?"#define ALPHATEST "+i.alphaTest+(i.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+d,i.useFog&&i.fog?"#define USE_FOG":"",i.useFog&&i.fogExp2?"#define FOG_EXP2":"",i.map?"#define USE_MAP":"",i.matcap?"#define USE_MATCAP":"",i.envMap?"#define USE_ENVMAP":"",i.envMap?"#define "+c:"",i.envMap?"#define "+u:"",i.envMap?"#define "+h:"",i.lightMap?"#define USE_LIGHTMAP":"",i.aoMap?"#define USE_AOMAP":"",i.emissiveMap?"#define USE_EMISSIVEMAP":"",i.bumpMap?"#define USE_BUMPMAP":"",i.normalMap?"#define USE_NORMALMAP":"",i.normalMap&&i.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",i.normalMap&&i.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",i.clearcoatMap?"#define USE_CLEARCOATMAP":"",i.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",i.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",i.specularMap?"#define USE_SPECULARMAP":"",i.roughnessMap?"#define USE_ROUGHNESSMAP":"",i.metalnessMap?"#define USE_METALNESSMAP":"",i.alphaMap?"#define USE_ALPHAMAP":"",i.sheen?"#define USE_SHEEN":"",i.transmissionMap?"#define USE_TRANSMISSIONMAP":"",i.vertexTangents?"#define USE_TANGENT":"",i.vertexColors||i.instancingColor?"#define USE_COLOR":"",i.vertexUvs?"#define USE_UV":"",i.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",i.gradientMap?"#define USE_GRADIENTMAP":"",i.flatShading?"#define FLAT_SHADED":"",i.doubleSided?"#define DOUBLE_SIDED":"",i.flipSided?"#define FLIP_SIDED":"",i.shadowMapEnabled?"#define USE_SHADOWMAP":"",i.shadowMapEnabled?"#define "+l:"",i.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",i.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",i.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",i.logarithmicDepthBuffer&&i.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensionShaderTextureLOD||i.envMap)&&i.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==i.toneMapping?"#define TONE_MAPPING":"",0!==i.toneMapping?di.tonemapping_pars_fragment:"",0!==i.toneMapping?Rn("toneMapping",i.toneMapping):"",i.dithering?"#define DITHERING":"",di.encodings_pars_fragment,i.map?kn("mapTexelToLinear",i.mapEncoding):"",i.matcap?kn("matcapTexelToLinear",i.matcapEncoding):"",i.envMap?kn("envMapTexelToLinear",i.envMapEncoding):"",i.emissiveMap?kn("emissiveMapTexelToLinear",i.emissiveMapEncoding):"",i.lightMap?kn("lightMapTexelToLinear",i.lightMapEncoding):"",Ln("linearToOutputTexel",i.outputEncoding),i.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Pn).join("\n")),o=Nn(o),o=Dn(o,i),o=On(o,i),a=Nn(a),a=Dn(a,i),a=On(a,i),o=Gn(o),a=Gn(a),i.isWebGL2&&!0!==i.isRawShaderMaterial&&(A="#version 300 es\n",m=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+m,v=["#define varying in","300 es"===i.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===i.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const y=A+v+a,_=In(r,35633,A+m+o),b=In(r,35632,y);if(r.attachShader(g,_),r.attachShader(g,b),void 0!==i.index0AttributeName?r.bindAttribLocation(g,0,i.index0AttributeName):!0===i.morphTargets&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),t.debug.checkShaderErrors){const t=r.getProgramInfoLog(g).trim(),e=r.getShaderInfoLog(_).trim(),i=r.getShaderInfoLog(b).trim();let n=!0,s=!0;if(!1===r.getProgramParameter(g,35714)){n=!1;const e=Bn(r,_,"vertex"),i=Bn(r,b,"fragment");console.error("THREE.WebGLProgram: shader error: ",r.getError(),"35715",r.getProgramParameter(g,35715),"gl.getProgramInfoLog",t,e,i)}else""!==t?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",t):""!==e&&""!==i||(s=!1);s&&(this.diagnostics={runnable:n,programLog:t,vertexShader:{log:e,prefix:m},fragmentShader:{log:i,prefix:v}})}let w,x;return r.deleteShader(_),r.deleteShader(b),this.getUniforms=function(){return void 0===w&&(w=new Sn(r,g)),w},this.getAttributes=function(){return void 0===x&&(x=function(t,e){const i={},n=t.getProgramParameter(e,35721);for(let r=0;r<n;r++){const n=t.getActiveAttrib(e,r).name;i[n]=t.getAttribLocation(e,n)}return i}(r,g)),x},this.destroy=function(){n.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=i.shaderName,this.id=Tn++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=_,this.fragmentShader=b,this}function qn(t,e,i,n,r,s){const o=[],a=n.isWebGL2,l=n.logarithmicDepthBuffer,c=n.floatVertexTextures,u=n.maxVertexUniforms,h=n.vertexTextures;let d=n.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},f=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen","transmissionMap"];function g(t){let e;return t&&t.isTexture?e=t.encoding:t&&t.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),e=t.texture.encoding):e=3e3,e}return{getParameters:function(r,o,f,m,v){const A=m.fog,y=r.isMeshStandardMaterial?m.environment:null,_=e.get(r.envMap||y),b=p[r.type],w=v.isSkinnedMesh?function(t){const e=t.skeleton.bones;if(c)return 1024;{const t=u,i=Math.floor((t-20)/4),n=Math.min(i,e.length);return n<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+n+"."),0):n}}(v):0;let x,C;if(null!==r.precision&&(d=n.getMaxPrecision(r.precision),d!==r.precision&&console.warn("THREE.WebGLProgram.getParameters:",r.precision,"not supported, using",d,"instead.")),b){const t=fi[b];x=t.vertexShader,C=t.fragmentShader}else x=r.vertexShader,C=r.fragmentShader;const E=t.getRenderTarget();return{isWebGL2:a,shaderID:b,shaderName:r.type,vertexShader:x,fragmentShader:C,defines:r.defines,isRawShaderMaterial:!0===r.isRawShaderMaterial,glslVersion:r.glslVersion,precision:d,instancing:!0===v.isInstancedMesh,instancingColor:!0===v.isInstancedMesh&&null!==v.instanceColor,supportsVertexTextures:h,outputEncoding:null!==E?g(E.texture):t.outputEncoding,map:!!r.map,mapEncoding:g(r.map),matcap:!!r.matcap,matcapEncoding:g(r.matcap),envMap:!!_,envMapMode:_&&_.mapping,envMapEncoding:g(_),envMapCubeUV:!!_&&(306===_.mapping||307===_.mapping),lightMap:!!r.lightMap,lightMapEncoding:g(r.lightMap),aoMap:!!r.aoMap,emissiveMap:!!r.emissiveMap,emissiveMapEncoding:g(r.emissiveMap),bumpMap:!!r.bumpMap,normalMap:!!r.normalMap,objectSpaceNormalMap:1===r.normalMapType,tangentSpaceNormalMap:0===r.normalMapType,clearcoatMap:!!r.clearcoatMap,clearcoatRoughnessMap:!!r.clearcoatRoughnessMap,clearcoatNormalMap:!!r.clearcoatNormalMap,displacementMap:!!r.displacementMap,roughnessMap:!!r.roughnessMap,metalnessMap:!!r.metalnessMap,specularMap:!!r.specularMap,alphaMap:!!r.alphaMap,gradientMap:!!r.gradientMap,sheen:!!r.sheen,transmissionMap:!!r.transmissionMap,combine:r.combine,vertexTangents:r.normalMap&&r.vertexTangents,vertexColors:r.vertexColors,vertexUvs:!!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatMap||r.clearcoatRoughnessMap||r.clearcoatNormalMap||r.displacementMap||r.transmissionMap),uvsVertexOnly:!(r.map||r.bumpMap||r.normalMap||r.specularMap||r.alphaMap||r.emissiveMap||r.roughnessMap||r.metalnessMap||r.clearcoatNormalMap||r.transmissionMap||!r.displacementMap),fog:!!A,useFog:r.fog,fogExp2:A&&A.isFogExp2,flatShading:r.flatShading,sizeAttenuation:r.sizeAttenuation,logarithmicDepthBuffer:l,skinning:r.skinning&&w>0,maxBones:w,useVertexTexture:c,morphTargets:r.morphTargets,morphNormals:r.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:o.directional.length,numPointLights:o.point.length,numSpotLights:o.spot.length,numRectAreaLights:o.rectArea.length,numHemiLights:o.hemi.length,numDirLightShadows:o.directionalShadowMap.length,numPointLightShadows:o.pointShadowMap.length,numSpotLightShadows:o.spotShadowMap.length,numClippingPlanes:s.numPlanes,numClipIntersection:s.numIntersection,dithering:r.dithering,shadowMapEnabled:t.shadowMap.enabled&&f.length>0,shadowMapType:t.shadowMap.type,toneMapping:r.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:r.premultipliedAlpha,alphaTest:r.alphaTest,doubleSided:2===r.side,flipSided:1===r.side,depthPacking:void 0!==r.depthPacking&&r.depthPacking,index0AttributeName:r.index0AttributeName,extensionDerivatives:r.extensions&&r.extensions.derivatives,extensionFragDepth:r.extensions&&r.extensions.fragDepth,extensionDrawBuffers:r.extensions&&r.extensions.drawBuffers,extensionShaderTextureLOD:r.extensions&&r.extensions.shaderTextureLOD,rendererExtensionFragDepth:a||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:a||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:a||i.has("EXT_shader_texture_lod"),customProgramCacheKey:r.customProgramCacheKey()}},getProgramCacheKey:function(e){const i=[];if(e.shaderID?i.push(e.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(const t in e.defines)i.push(t),i.push(e.defines[t]);if(!1===e.isRawShaderMaterial){for(let t=0;t<f.length;t++)i.push(e[f[t]]);i.push(t.outputEncoding),i.push(t.gammaFactor)}return i.push(e.customProgramCacheKey),i.join()},getUniforms:function(t){const e=p[t.type];let i;if(e){const t=fi[e];i=Ke.clone(t.uniforms)}else i=t.uniforms;return i},acquireProgram:function(e,i){let n;for(let t=0,r=o.length;t<r;t++){const e=o[t];if(e.cacheKey===i){n=e,++n.usedTimes;break}}return void 0===n&&(n=new Wn(t,i,e,r),o.push(n)),n},releaseProgram:function(t){if(0==--t.usedTimes){const e=o.indexOf(t);o[e]=o[o.length-1],o.pop(),t.destroy()}},programs:o}}function Yn(){let t=new WeakMap;return{get:function(e){let i=t.get(e);return void 0===i&&(i={},t.set(e,i)),i},remove:function(e){t.delete(e)},update:function(e,i,n){t.get(e)[i]=n},dispose:function(){t=new WeakMap}}}function $n(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Jn(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Xn(t){const e=[];let i=0;const n=[],r=[],s={id:-1};function o(n,r,o,a,l,c){let u=e[i];const h=t.get(o);return void 0===u?(u={id:n.id,object:n,geometry:r,material:o,program:h.program||s,groupOrder:a,renderOrder:n.renderOrder,z:l,group:c},e[i]=u):(u.id=n.id,u.object=n,u.geometry=r,u.material=o,u.program=h.program||s,u.groupOrder=a,u.renderOrder=n.renderOrder,u.z=l,u.group=c),i++,u}return{opaque:n,transparent:r,init:function(){i=0,n.length=0,r.length=0},push:function(t,e,i,s,a,l){const c=o(t,e,i,s,a,l);(!0===i.transparent?r:n).push(c)},unshift:function(t,e,i,s,a,l){const c=o(t,e,i,s,a,l);(!0===i.transparent?r:n).unshift(c)},finish:function(){for(let t=i,n=e.length;t<n;t++){const i=e[t];if(null===i.id)break;i.id=null,i.object=null,i.geometry=null,i.material=null,i.program=null,i.group=null}},sort:function(t,e){n.length>1&&n.sort(t||$n),r.length>1&&r.sort(e||Jn)}}}function Kn(t){let e=new WeakMap;return{get:function(i,n){const r=e.get(i);let s;return void 0===r?(s=new Xn(t),e.set(i,new WeakMap),e.get(i).set(n,s)):(s=r.get(n),void 0===s&&(s=new Xn(t),r.set(n,s))),s},dispose:function(){e=new WeakMap}}}function Zn(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let i;switch(e.type){case"DirectionalLight":i={direction:new P,color:new ee};break;case"SpotLight":i={position:new P,direction:new P,color:new ee,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":i={position:new P,color:new ee,distance:0,decay:0};break;case"HemisphereLight":i={direction:new P,skyColor:new ee,groundColor:new ee};break;case"RectAreaLight":i={color:new ee,position:new P,halfWidth:new P,halfHeight:new P}}return t[e.id]=i,i}}}let tr=0;function er(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function ir(t,e){const i=new Zn,n=function(){const t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];let i;switch(e.type){case"DirectionalLight":case"SpotLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new C};break;case"PointLight":i={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new C,shadowCameraNear:1,shadowCameraFar:1e3}}return t[e.id]=i,i}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let l=0;l<9;l++)r.probe.push(new P);const s=new P,o=new lt,a=new lt;return{setup:function(s){let o=0,a=0,l=0;for(let t=0;t<9;t++)r.probe[t].set(0,0,0);let c=0,u=0,h=0,d=0,p=0,f=0,g=0,m=0;s.sort(er);for(let t=0,e=s.length;t<e;t++){const e=s[t],v=e.color,A=e.intensity,y=e.distance,_=e.shadow&&e.shadow.map?e.shadow.map.texture:null;if(e.isAmbientLight)o+=v.r*A,a+=v.g*A,l+=v.b*A;else if(e.isLightProbe)for(let t=0;t<9;t++)r.probe[t].addScaledVector(e.sh.coefficients[t],A);else if(e.isDirectionalLight){const t=i.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),e.castShadow){const t=e.shadow,i=n.get(e);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,r.directionalShadow[c]=i,r.directionalShadowMap[c]=_,r.directionalShadowMatrix[c]=e.shadow.matrix,f++}r.directional[c]=t,c++}else if(e.isSpotLight){const t=i.get(e);if(t.position.setFromMatrixPosition(e.matrixWorld),t.color.copy(v).multiplyScalar(A),t.distance=y,t.coneCos=Math.cos(e.angle),t.penumbraCos=Math.cos(e.angle*(1-e.penumbra)),t.decay=e.decay,e.castShadow){const t=e.shadow,i=n.get(e);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,r.spotShadow[h]=i,r.spotShadowMap[h]=_,r.spotShadowMatrix[h]=e.shadow.matrix,m++}r.spot[h]=t,h++}else if(e.isRectAreaLight){const t=i.get(e);t.color.copy(v).multiplyScalar(A),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),r.rectArea[d]=t,d++}else if(e.isPointLight){const t=i.get(e);if(t.color.copy(e.color).multiplyScalar(e.intensity),t.distance=e.distance,t.decay=e.decay,e.castShadow){const t=e.shadow,i=n.get(e);i.shadowBias=t.bias,i.shadowNormalBias=t.normalBias,i.shadowRadius=t.radius,i.shadowMapSize=t.mapSize,i.shadowCameraNear=t.camera.near,i.shadowCameraFar=t.camera.far,r.pointShadow[u]=i,r.pointShadowMap[u]=_,r.pointShadowMatrix[u]=e.shadow.matrix,g++}r.point[u]=t,u++}else if(e.isHemisphereLight){const t=i.get(e);t.skyColor.copy(e.color).multiplyScalar(A),t.groundColor.copy(e.groundColor).multiplyScalar(A),r.hemi[p]=t,p++}}d>0&&(e.isWebGL2||!0===t.has("OES_texture_float_linear")?(r.rectAreaLTC1=pi.LTC_FLOAT_1,r.rectAreaLTC2=pi.LTC_FLOAT_2):!0===t.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=pi.LTC_HALF_1,r.rectAreaLTC2=pi.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=o,r.ambient[1]=a,r.ambient[2]=l;const v=r.hash;v.directionalLength===c&&v.pointLength===u&&v.spotLength===h&&v.rectAreaLength===d&&v.hemiLength===p&&v.numDirectionalShadows===f&&v.numPointShadows===g&&v.numSpotShadows===m||(r.directional.length=c,r.spot.length=h,r.rectArea.length=d,r.point.length=u,r.hemi.length=p,r.directionalShadow.length=f,r.directionalShadowMap.length=f,r.pointShadow.length=g,r.pointShadowMap.length=g,r.spotShadow.length=m,r.spotShadowMap.length=m,r.directionalShadowMatrix.length=f,r.pointShadowMatrix.length=g,r.spotShadowMatrix.length=m,v.directionalLength=c,v.pointLength=u,v.spotLength=h,v.rectAreaLength=d,v.hemiLength=p,v.numDirectionalShadows=f,v.numPointShadows=g,v.numSpotShadows=m,r.version=tr++)},setupView:function(t,e){let i=0,n=0,l=0,c=0,u=0;const h=e.matrixWorldInverse;for(let d=0,p=t.length;d<p;d++){const e=t[d];if(e.isDirectionalLight){const t=r.directional[i];t.direction.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(h),i++}else if(e.isSpotLight){const t=r.spot[l];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),t.direction.setFromMatrixPosition(e.matrixWorld),s.setFromMatrixPosition(e.target.matrixWorld),t.direction.sub(s),t.direction.transformDirection(h),l++}else if(e.isRectAreaLight){const t=r.rectArea[c];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),a.identity(),o.copy(e.matrixWorld),o.premultiply(h),a.extractRotation(o),t.halfWidth.set(.5*e.width,0,0),t.halfHeight.set(0,.5*e.height,0),t.halfWidth.applyMatrix4(a),t.halfHeight.applyMatrix4(a),c++}else if(e.isPointLight){const t=r.point[n];t.position.setFromMatrixPosition(e.matrixWorld),t.position.applyMatrix4(h),n++}else if(e.isHemisphereLight){const t=r.hemi[u];t.direction.setFromMatrixPosition(e.matrixWorld),t.direction.transformDirection(h),t.direction.normalize(),u++}}},state:r}}function nr(t,e){const i=new ir(t,e),n=[],r=[];return{init:function(){n.length=0,r.length=0},state:{lightsArray:n,shadowsArray:r,lights:i},setupLights:function(){i.setup(n)},setupLightsView:function(t){i.setupView(n,t)},pushLight:function(t){n.push(t)},pushShadow:function(t){r.push(t)}}}function rr(t,e){let i=new WeakMap;return{get:function(n,r=0){let s;return!1===i.has(n)?(s=new nr(t,e),i.set(n,[]),i.get(n).push(s)):r>=i.get(n).length?(s=new nr(t,e),i.get(n).push(s)):s=i.get(n)[r],s},dispose:function(){i=new WeakMap}}}function sr(t){re.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function or(t){re.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new P,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function ar(t,e,i){let n=new li;const r=new C,s=new C,o=new k,a=[],l=[],c={},u={0:1,1:0,2:2},h=new Ze({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new C},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy ) / resolution ) );\n\tfor ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, i ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean * HALF_SAMPLE_RATE;\n\tsquared_mean = squared_mean * HALF_SAMPLE_RATE;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),d=h.clone();d.defines.HORIZONTAL_PASS=1;const p=new Me;p.setAttribute("position",new le(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const f=new qe(p,h),g=this;function m(i,n){const r=e.update(f);h.uniforms.shadow_pass.value=i.map.texture,h.uniforms.resolution.value=i.mapSize,h.uniforms.radius.value=i.radius,t.setRenderTarget(i.mapPass),t.clear(),t.renderBufferDirect(n,null,r,h,f,null),d.uniforms.shadow_pass.value=i.mapPass.texture,d.uniforms.resolution.value=i.mapSize,d.uniforms.radius.value=i.radius,t.setRenderTarget(i.map),t.clear(),t.renderBufferDirect(n,null,r,d,f,null)}function v(t,e,i){const n=t<<0|e<<1|i<<2;let r=a[n];return void 0===r&&(r=new sr({depthPacking:3201,morphTargets:t,skinning:e}),a[n]=r),r}function A(t,e,i){const n=t<<0|e<<1|i<<2;let r=l[n];return void 0===r&&(r=new or({morphTargets:t,skinning:e}),l[n]=r),r}function y(e,i,n,r,s,o,a){let l=null,h=v,d=e.customDepthMaterial;if(!0===r.isPointLight&&(h=A,d=e.customDistanceMaterial),void 0===d){let t=!1;!0===n.morphTargets&&(t=i.morphAttributes&&i.morphAttributes.position&&i.morphAttributes.position.length>0);let r=!1;!0===e.isSkinnedMesh&&(!0===n.skinning?r=!0:console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e)),l=h(t,r,!0===e.isInstancedMesh)}else l=d;if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){const t=l.uuid,e=n.uuid;let i=c[t];void 0===i&&(i={},c[t]=i);let r=i[e];void 0===r&&(r=l.clone(),i[e]=r),l=r}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=3===a?null!==n.shadowSide?n.shadowSide:n.side:null!==n.shadowSide?n.shadowSide:u[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,!0===r.isPointLight&&!0===l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(r.matrixWorld),l.nearDistance=s,l.farDistance=o),l}function _(i,r,s,o,a){if(!1===i.visible)return;if(i.layers.test(r.layers)&&(i.isMesh||i.isLine||i.isPoints)&&(i.castShadow||i.receiveShadow&&3===a)&&(!i.frustumCulled||n.intersectsObject(i))){i.modelViewMatrix.multiplyMatrices(s.matrixWorldInverse,i.matrixWorld);const n=e.update(i),r=i.material;if(Array.isArray(r)){const e=n.groups;for(let l=0,c=e.length;l<c;l++){const c=e[l],u=r[c.materialIndex];if(u&&u.visible){const e=y(i,n,u,o,s.near,s.far,a);t.renderBufferDirect(s,null,n,e,i,c)}}}else if(r.visible){const e=y(i,n,r,o,s.near,s.far,a);t.renderBufferDirect(s,null,n,e,i,null)}}const l=i.children;for(let t=0,e=l.length;t<e;t++)_(l[t],r,s,o,a)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,a,l){if(!1===g.enabled)return;if(!1===g.autoUpdate&&!1===g.needsUpdate)return;if(0===e.length)return;const c=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(let p=0,f=e.length;p<f;p++){const c=e[p],u=c.shadow;if(void 0===u){console.warn("THREE.WebGLShadowMap:",c,"has no shadow.");continue}if(!1===u.autoUpdate&&!1===u.needsUpdate)continue;r.copy(u.mapSize);const h=u.getFrameExtents();if(r.multiply(h),s.copy(u.mapSize),(r.x>i||r.y>i)&&(r.x>i&&(s.x=Math.floor(i/h.x),r.x=s.x*h.x,u.mapSize.x=s.x),r.y>i&&(s.y=Math.floor(i/h.y),r.y=s.y*h.y,u.mapSize.y=s.y)),null===u.map&&!u.isPointLightShadow&&3===this.type){const t={minFilter:1006,magFilter:1006,format:1023};u.map=new L(r.x,r.y,t),u.map.texture.name=c.name+".shadowMap",u.mapPass=new L(r.x,r.y,t),u.camera.updateProjectionMatrix()}if(null===u.map){const t={minFilter:1003,magFilter:1003,format:1023};u.map=new L(r.x,r.y,t),u.map.texture.name=c.name+".shadowMap",u.camera.updateProjectionMatrix()}t.setRenderTarget(u.map),t.clear();const f=u.getViewportCount();for(let t=0;t<f;t++){const e=u.getViewport(t);o.set(s.x*e.x,s.y*e.y,s.x*e.z,s.y*e.w),d.viewport(o),u.updateMatrices(c,t),n=u.getFrustum(),_(a,l,u.camera,c,this.type)}u.isPointLightShadow||3!==this.type||m(u,l),u.needsUpdate=!1}g.needsUpdate=!1,t.setRenderTarget(c,u,h)}}function lr(t,e,i){const n=i.isWebGL2,r=new function(){let e=!1;const i=new k;let n=null;const r=new k(0,0,0,0);return{setMask:function(i){n===i||e||(t.colorMask(i,i,i,i),n=i)},setLocked:function(t){e=t},setClear:function(e,n,s,o,a){!0===a&&(e*=o,n*=o,s*=o),i.set(e,n,s,o),!1===r.equals(i)&&(t.clearColor(e,n,s,o),r.copy(i))},reset:function(){e=!1,n=null,r.set(-1,0,0,0)}}},s=new function(){let e=!1,i=null,n=null,r=null;return{setTest:function(t){t?P(2929):D(2929)},setMask:function(n){i===n||e||(t.depthMask(n),i=n)},setFunc:function(e){if(n!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517);break;default:t.depthFunc(515)}else t.depthFunc(515);n=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,i=null,n=null,r=null}}},o=new function(){let e=!1,i=null,n=null,r=null,s=null,o=null,a=null,l=null,c=null;return{setTest:function(t){e||(t?P(2960):D(2960))},setMask:function(n){i===n||e||(t.stencilMask(n),i=n)},setFunc:function(e,i,o){n===e&&r===i&&s===o||(t.stencilFunc(e,i,o),n=e,r=i,s=o)},setOp:function(e,i,n){o===e&&a===i&&l===n||(t.stencilOp(e,i,n),o=e,a=i,l=n)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,i=null,n=null,r=null,s=null,o=null,a=null,l=null,c=null}}};let a={},l=null,c=null,u=null,h=null,d=null,p=null,f=null,g=null,m=null,v=!1,A=null,y=null,_=null,b=null,w=null;const x=t.getParameter(35661);let C=!1,E=0;const S=t.getParameter(7938);-1!==S.indexOf("WebGL")?(E=parseFloat(/^WebGL (\d)/.exec(S)[1]),C=E>=1):-1!==S.indexOf("OpenGL ES")&&(E=parseFloat(/^OpenGL ES (\d)/.exec(S)[1]),C=E>=2);let I=null,T={};const M=new k,B=new k;function L(e,i,n){const r=new Uint8Array(4),s=t.createTexture();t.bindTexture(e,s),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(let o=0;o<n;o++)t.texImage2D(i+o,0,6408,1,1,0,6408,5121,r);return s}const R={};function P(e){!0!==a[e]&&(t.enable(e),a[e]=!0)}function D(e){!1!==a[e]&&(t.disable(e),a[e]=!1)}R[3553]=L(3553,3553,1),R[34067]=L(34067,34069,6),r.setClear(0,0,0,1),s.setClear(1),o.setClear(0),P(2929),s.setFunc(3),Q(!1),H(1),P(2884),N(0);const O={100:32774,101:32778,102:32779};if(n)O[103]=32775,O[104]=32776;else{const t=e.get("EXT_blend_minmax");null!==t&&(O[103]=t.MIN_EXT,O[104]=t.MAX_EXT)}const F={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function N(e,i,n,r,s,o,a,l){if(0!==e){if(c||(P(3042),c=!0),5===e)s=s||i,o=o||n,a=a||r,i===h&&s===f||(t.blendEquationSeparate(O[i],O[s]),h=i,f=s),n===d&&r===p&&o===g&&a===m||(t.blendFuncSeparate(F[n],F[r],F[o],F[a]),d=n,p=r,g=o,m=a),u=e,v=null;else if(e!==u||l!==v){if(100===h&&100===f||(t.blendEquation(32774),h=100,f=100),l)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}d=null,p=null,g=null,m=null,u=e,v=l}}else c&&(D(3042),c=!1)}function Q(e){A!==e&&(e?t.frontFace(2304):t.frontFace(2305),A=e)}function H(e){0!==e?(P(2884),e!==y&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):D(2884),y=e}function U(e,i,n){e?(P(32823),b===i&&w===n||(t.polygonOffset(i,n),b=i,w=n)):D(32823)}function G(e){void 0===e&&(e=33984+x-1),I!==e&&(t.activeTexture(e),I=e)}return{buffers:{color:r,depth:s,stencil:o},enable:P,disable:D,useProgram:function(e){return l!==e&&(t.useProgram(e),l=e,!0)},setBlending:N,setMaterial:function(t,e){2===t.side?D(2884):P(2884);let i=1===t.side;e&&(i=!i),Q(i),1===t.blending&&!1===t.transparent?N(0):N(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),s.setFunc(t.depthFunc),s.setTest(t.depthTest),s.setMask(t.depthWrite),r.setMask(t.colorWrite);const n=t.stencilWrite;o.setTest(n),n&&(o.setMask(t.stencilWriteMask),o.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),o.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),U(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:Q,setCullFace:H,setLineWidth:function(e){e!==_&&(C&&t.lineWidth(e),_=e)},setPolygonOffset:U,setScissorTest:function(t){t?P(3089):D(3089)},activeTexture:G,bindTexture:function(e,i){null===I&&G();let n=T[I];void 0===n&&(n={type:void 0,texture:void 0},T[I]=n),n.type===e&&n.texture===i||(t.bindTexture(e,i||R[e]),n.type=e,n.texture=i)},unbindTexture:function(){const e=T[I];void 0!==e&&void 0!==e.type&&(t.bindTexture(e.type,null),e.type=void 0,e.texture=void 0)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===M.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),M.copy(e))},viewport:function(e){!1===B.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),B.copy(e))},reset:function(){a={},I=null,T={},l=null,c=null,u=null,h=null,d=null,p=null,f=null,g=null,m=null,v=!1,A=null,y=null,_=null,b=null,w=null,r.reset(),s.reset(),o.reset()}}}function cr(t,e,i,n,r,s,o){const a=r.isWebGL2,l=r.maxTextures,c=r.maxCubemapSize,u=r.maxTextureSize,h=r.maxSamples,d=new WeakMap;let p,f=!1;try{f="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(t){}function g(t,e){return f?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function m(t,e,i,n){let r=1;if((t.width>n||t.height>n)&&(r=n/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){const n=e?x.floorPowerOfTwo:Math.floor,s=n(r*t.width),o=n(r*t.height);void 0===p&&(p=g(s,o));const a=i?g(s,o):p;return a.width=s,a.height=o,a.getContext("2d").drawImage(t,0,0,s,o),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+s+"x"+o+")."),a}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function v(t){return x.isPowerOfTwo(t.width)&&x.isPowerOfTwo(t.height)}function A(t,e){return t.generateMipmaps&&e&&1003!==t.minFilter&&1006!==t.minFilter}function y(e,i,r,s){t.generateMipmap(e),n.get(i).__maxMipLevel=Math.log(Math.max(r,s))*Math.LOG2E}function _(i,n,r){if(!1===a)return n;if(null!==i){if(void 0!==t[i])return t[i];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+i+"'")}let s=n;return 6403===n&&(5126===r&&(s=33326),5131===r&&(s=33325),5121===r&&(s=33321)),6407===n&&(5126===r&&(s=34837),5131===r&&(s=34843),5121===r&&(s=32849)),6408===n&&(5126===r&&(s=34836),5131===r&&(s=34842),5121===r&&(s=32856)),33325!==s&&33326!==s&&34842!==s&&34836!==s||e.get("EXT_color_buffer_float"),s}function b(t){return 1003===t||1004===t||1005===t?9728:9729}function w(e){const i=e.target;i.removeEventListener("dispose",w),function(e){const i=n.get(e);void 0!==i.__webglInit&&(t.deleteTexture(i.__webglTexture),n.remove(e))}(i),i.isVideoTexture&&d.delete(i),o.memory.textures--}function C(e){const i=e.target;i.removeEventListener("dispose",C),function(e){const i=n.get(e),r=n.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLCubeRenderTarget)for(let e=0;e<6;e++)t.deleteFramebuffer(i.__webglFramebuffer[e]),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer[e]);else t.deleteFramebuffer(i.__webglFramebuffer),i.__webglDepthbuffer&&t.deleteRenderbuffer(i.__webglDepthbuffer),i.__webglMultisampledFramebuffer&&t.deleteFramebuffer(i.__webglMultisampledFramebuffer),i.__webglColorRenderbuffer&&t.deleteRenderbuffer(i.__webglColorRenderbuffer),i.__webglDepthRenderbuffer&&t.deleteRenderbuffer(i.__webglDepthRenderbuffer);n.remove(e.texture),n.remove(e)}}(i),o.memory.textures--}let E=0;function S(t,e){const r=n.get(t);if(t.isVideoTexture&&function(t){const e=o.render.frame;d.get(t)!==e&&(d.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){const i=t.image;if(void 0===i)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==i.complete)return void L(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}i.activeTexture(33984+e),i.bindTexture(3553,r.__webglTexture)}function I(e,r){const o=n.get(e);e.version>0&&o.__version!==e.version?function(e,n,r){if(6!==n.image.length)return;k(e,n),i.activeTexture(33984+r),i.bindTexture(34067,e.__webglTexture),t.pixelStorei(37440,n.flipY),t.pixelStorei(37441,n.premultiplyAlpha),t.pixelStorei(3317,n.unpackAlignment);const o=n&&(n.isCompressedTexture||n.image[0].isCompressedTexture),l=n.image[0]&&n.image[0].isDataTexture,u=[];for(let t=0;t<6;t++)u[t]=o||l?l?n.image[t].image:n.image[t]:m(n.image[t],!1,!0,c);const h=u[0],d=v(h)||a,p=s.convert(n.format),f=s.convert(n.type),g=_(n.internalFormat,p,f);let b;if(B(34067,n,d),o){for(let t=0;t<6;t++){b=u[t].mipmaps;for(let e=0;e<b.length;e++){const r=b[e];1023!==n.format&&1022!==n.format?null!==p?i.compressedTexImage2D(34069+t,e,g,r.width,r.height,0,r.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(34069+t,e,g,r.width,r.height,0,p,f,r.data)}}e.__maxMipLevel=b.length-1}else{b=n.mipmaps;for(let t=0;t<6;t++)if(l){i.texImage2D(34069+t,0,g,u[t].width,u[t].height,0,p,f,u[t].data);for(let e=0;e<b.length;e++){const n=b[e].image[t].image;i.texImage2D(34069+t,e+1,g,n.width,n.height,0,p,f,n.data)}}else{i.texImage2D(34069+t,0,g,p,f,u[t]);for(let e=0;e<b.length;e++){const n=b[e];i.texImage2D(34069+t,e+1,g,p,f,n.image[t])}}e.__maxMipLevel=b.length}A(n,d)&&y(34067,n,h.width,h.height),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}(o,e,r):(i.activeTexture(33984+r),i.bindTexture(34067,o.__webglTexture))}const T={1e3:10497,1001:33071,1002:33648},M={1003:9728,1004:9984,1005:9986,1006:9729,1007:9985,1008:9987};function B(i,s,o){o?(t.texParameteri(i,10242,T[s.wrapS]),t.texParameteri(i,10243,T[s.wrapT]),32879!==i&&35866!==i||t.texParameteri(i,32882,T[s.wrapR]),t.texParameteri(i,10240,M[s.magFilter]),t.texParameteri(i,10241,M[s.minFilter])):(t.texParameteri(i,10242,33071),t.texParameteri(i,10243,33071),32879!==i&&35866!==i||t.texParameteri(i,32882,33071),1001===s.wrapS&&1001===s.wrapT||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(i,10240,b(s.magFilter)),t.texParameteri(i,10241,b(s.minFilter)),1003!==s.minFilter&&1006!==s.minFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter."));const l=e.get("EXT_texture_filter_anisotropic");if(l){if(1015===s.type&&null===e.get("OES_texture_float_linear"))return;if(1016===s.type&&null===(a||e.get("OES_texture_half_float_linear")))return;(s.anisotropy>1||n.get(s).__currentAnisotropy)&&(t.texParameterf(i,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(s.anisotropy,r.getMaxAnisotropy())),n.get(s).__currentAnisotropy=s.anisotropy)}}function k(e,i){void 0===e.__webglInit&&(e.__webglInit=!0,i.addEventListener("dispose",w),e.__webglTexture=t.createTexture(),o.memory.textures++)}function L(e,n,r){let o=3553;n.isDataTexture2DArray&&(o=35866),n.isDataTexture3D&&(o=32879),k(e,n),i.activeTexture(33984+r),i.bindTexture(o,e.__webglTexture),t.pixelStorei(37440,n.flipY),t.pixelStorei(37441,n.premultiplyAlpha),t.pixelStorei(3317,n.unpackAlignment);const l=function(t){return!a&&(1001!==t.wrapS||1001!==t.wrapT||1003!==t.minFilter&&1006!==t.minFilter)}(n)&&!1===v(n.image),c=m(n.image,l,!1,u),h=v(c)||a,d=s.convert(n.format);let p,f=s.convert(n.type),g=_(n.internalFormat,d,f);B(o,n,h);const b=n.mipmaps;if(n.isDepthTexture)g=6402,a?g=1015===n.type?36012:1014===n.type?33190:1020===n.type?35056:33189:1015===n.type&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),1026===n.format&&6402===g&&1012!==n.type&&1014!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),n.type=1012,f=s.convert(n.type)),1027===n.format&&6402===g&&(g=34041,1020!==n.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),n.type=1020,f=s.convert(n.type))),i.texImage2D(3553,0,g,c.width,c.height,0,d,f,null);else if(n.isDataTexture)if(b.length>0&&h){for(let t=0,e=b.length;t<e;t++)p=b[t],i.texImage2D(3553,t,g,p.width,p.height,0,d,f,p.data);n.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,g,c.width,c.height,0,d,f,c.data),e.__maxMipLevel=0;else if(n.isCompressedTexture){for(let t=0,e=b.length;t<e;t++)p=b[t],1023!==n.format&&1022!==n.format?null!==d?i.compressedTexImage2D(3553,t,g,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(3553,t,g,p.width,p.height,0,d,f,p.data);e.__maxMipLevel=b.length-1}else if(n.isDataTexture2DArray)i.texImage3D(35866,0,g,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(n.isDataTexture3D)i.texImage3D(32879,0,g,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(b.length>0&&h){for(let t=0,e=b.length;t<e;t++)p=b[t],i.texImage2D(3553,t,g,d,f,p);n.generateMipmaps=!1,e.__maxMipLevel=b.length-1}else i.texImage2D(3553,0,g,d,f,c),e.__maxMipLevel=0;A(n,h)&&y(o,n,c.width,c.height),e.__version=n.version,n.onUpdate&&n.onUpdate(n)}function R(e,r,o,a){const l=s.convert(r.texture.format),c=s.convert(r.texture.type),u=_(r.texture.internalFormat,l,c);i.texImage2D(a,0,u,r.width,r.height,0,l,c,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,o,a,n.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function P(e,i,n){if(t.bindRenderbuffer(36161,e),i.depthBuffer&&!i.stencilBuffer){let r=33189;if(n){const e=i.depthTexture;e&&e.isDepthTexture&&(1015===e.type?r=36012:1014===e.type&&(r=33190));const n=O(i);t.renderbufferStorageMultisample(36161,n,r,i.width,i.height)}else t.renderbufferStorage(36161,r,i.width,i.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(i.depthBuffer&&i.stencilBuffer){if(n){const e=O(i);t.renderbufferStorageMultisample(36161,e,35056,i.width,i.height)}else t.renderbufferStorage(36161,34041,i.width,i.height);t.framebufferRenderbuffer(36160,33306,36161,e)}else{const e=s.convert(i.texture.format),r=s.convert(i.texture.type),o=_(i.texture.internalFormat,e,r);if(n){const e=O(i);t.renderbufferStorageMultisample(36161,e,o,i.width,i.height)}else t.renderbufferStorage(36161,o,i.width,i.height)}t.bindRenderbuffer(36161,null)}function D(e){const i=n.get(e),r=!0===e.isWebGLCubeRenderTarget;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,i){if(i&&i.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!i.depthTexture||!i.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");n.get(i.depthTexture).__webglTexture&&i.depthTexture.image.width===i.width&&i.depthTexture.image.height===i.height||(i.depthTexture.image.width=i.width,i.depthTexture.image.height=i.height,i.depthTexture.needsUpdate=!0),S(i.depthTexture,0);const r=n.get(i.depthTexture).__webglTexture;if(1026===i.depthTexture.format)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(1027!==i.depthTexture.format)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(i.__webglFramebuffer,e)}else if(r){i.__webglDepthbuffer=[];for(let n=0;n<6;n++)t.bindFramebuffer(36160,i.__webglFramebuffer[n]),i.__webglDepthbuffer[n]=t.createRenderbuffer(),P(i.__webglDepthbuffer[n],e,!1)}else t.bindFramebuffer(36160,i.__webglFramebuffer),i.__webglDepthbuffer=t.createRenderbuffer(),P(i.__webglDepthbuffer,e,!1);t.bindFramebuffer(36160,null)}function O(t){return a&&t.isWebGLMultisampleRenderTarget?Math.min(h,t.samples):0}let F=!1,N=!1;this.allocateTextureUnit=function(){const t=E;return t>=l&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+l),E+=1,t},this.resetTextureUnits=function(){E=0},this.setTexture2D=S,this.setTexture2DArray=function(t,e){const r=n.get(t);t.version>0&&r.__version!==t.version?L(r,t,e):(i.activeTexture(33984+e),i.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){const r=n.get(t);t.version>0&&r.__version!==t.version?L(r,t,e):(i.activeTexture(33984+e),i.bindTexture(32879,r.__webglTexture))},this.setTextureCube=I,this.setupRenderTarget=function(e){const r=n.get(e),l=n.get(e.texture);e.addEventListener("dispose",C),l.__webglTexture=t.createTexture(),o.memory.textures++;const c=!0===e.isWebGLCubeRenderTarget,u=!0===e.isWebGLMultisampleRenderTarget,h=v(e)||a;if(!a||1022!==e.texture.format||1015!==e.texture.type&&1016!==e.texture.type||(e.texture.format=1023,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),c){r.__webglFramebuffer=[];for(let e=0;e<6;e++)r.__webglFramebuffer[e]=t.createFramebuffer()}else if(r.__webglFramebuffer=t.createFramebuffer(),u)if(a){r.__webglMultisampledFramebuffer=t.createFramebuffer(),r.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,r.__webglColorRenderbuffer);const i=s.convert(e.texture.format),n=s.convert(e.texture.type),o=_(e.texture.internalFormat,i,n),a=O(e);t.renderbufferStorageMultisample(36161,a,o,e.width,e.height),t.bindFramebuffer(36160,r.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,r.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),e.depthBuffer&&(r.__webglDepthRenderbuffer=t.createRenderbuffer(),P(r.__webglDepthRenderbuffer,e,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(c){i.bindTexture(34067,l.__webglTexture),B(34067,e.texture,h);for(let t=0;t<6;t++)R(r.__webglFramebuffer[t],e,36064,34069+t);A(e.texture,h)&&y(34067,e.texture,e.width,e.height),i.bindTexture(34067,null)}else i.bindTexture(3553,l.__webglTexture),B(3553,e.texture,h),R(r.__webglFramebuffer,e,36064,3553),A(e.texture,h)&&y(3553,e.texture,e.width,e.height),i.bindTexture(3553,null);e.depthBuffer&&D(e)},this.updateRenderTargetMipmap=function(t){const e=t.texture;if(A(e,v(t)||a)){const r=t.isWebGLCubeRenderTarget?34067:3553,s=n.get(e).__webglTexture;i.bindTexture(r,s),y(r,e,t.width,t.height),i.bindTexture(r,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(a){const i=n.get(e);t.bindFramebuffer(36008,i.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,i.__webglFramebuffer);const r=e.width,s=e.height;let o=16384;e.depthBuffer&&(o|=256),e.stencilBuffer&&(o|=1024),t.blitFramebuffer(0,0,r,s,0,0,r,s,o,9728),t.bindFramebuffer(36160,i.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===F&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),F=!0),t=t.texture),S(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLCubeRenderTarget&&(!1===N&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),N=!0),t=t.texture),I(t,e)}}function ur(t,e,i){const n=i.isWebGL2;return{convert:function(t){let i;if(1009===t)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(1012===t)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(1015===t)return 5126;if(1016===t)return n?5131:(i=e.get("OES_texture_half_float"),null!==i?i.HALF_FLOAT_OES:null);if(1021===t)return 6406;if(1022===t)return 6407;if(1023===t)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(1026===t)return 6402;if(1027===t)return 34041;if(1028===t)return 6403;if(1029===t)return 36244;if(1030===t)return 33319;if(1031===t)return 33320;if(1032===t)return 36248;if(1033===t)return 36249;if(33776===t||33777===t||33778===t||33779===t){if(i=e.get("WEBGL_compressed_texture_s3tc"),null===i)return null;if(33776===t)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===t||35841===t||35842===t||35843===t){if(i=e.get("WEBGL_compressed_texture_pvrtc"),null===i)return null;if(35840===t)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t)return i=e.get("WEBGL_compressed_texture_etc1"),null!==i?i.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===t||37496===t)&&(i=e.get("WEBGL_compressed_texture_etc"),null!==i)){if(37492===t)return i.COMPRESSED_RGB8_ETC2;if(37496===t)return i.COMPRESSED_RGBA8_ETC2_EAC}return 37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t||37840===t||37841===t||37842===t||37843===t||37844===t||37845===t||37846===t||37847===t||37848===t||37849===t||37850===t||37851===t||37852===t||37853===t?(i=e.get("WEBGL_compressed_texture_astc"),null!==i?t:null):36492===t?(i=e.get("EXT_texture_compression_bptc"),null!==i?t:null):1020===t?n?34042:(i=e.get("WEBGL_depth_texture"),null!==i?i.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}function hr(t=[]){ei.call(this),this.cameras=t}function dr(){Rt.call(this),this.type="Group"}function pr(){this._targetRay=null,this._grip=null,this._hand=null}function fr(t,e){const i=this;let n=null,r=1,s=null,o="local-floor",a=null;const l=[],c=new Map,u=new ei;u.layers.enable(1),u.viewport=new k;const h=new ei;h.layers.enable(2),h.viewport=new k;const d=[u,h],p=new hr;p.layers.enable(1),p.layers.enable(2);let f=null,g=null;function m(t){const e=c.get(t.inputSource);e&&e.dispatchEvent({type:t.type,data:t.inputSource})}function v(){c.forEach((function(t,e){t.disconnect(e)})),c.clear(),f=null,g=null,t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),x.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function A(t){const e=n.inputSources;for(let i=0;i<l.length;i++)c.set(e[i],l[i]);for(let i=0;i<t.removed.length;i++){const e=t.removed[i],n=c.get(e);n&&(n.dispatchEvent({type:"disconnected",data:e}),c.delete(e))}for(let i=0;i<t.added.length;i++){const e=t.added[i],n=c.get(e);n&&n.dispatchEvent({type:"connected",data:e})}}this.enabled=!1,this.isPresenting=!1,this.getController=function(t){let e=l[t];return void 0===e&&(e=new pr,l[t]=e),e.getTargetRaySpace()},this.getControllerGrip=function(t){let e=l[t];return void 0===e&&(e=new pr,l[t]=e),e.getGripSpace()},this.getHand=function(t){let e=l[t];return void 0===e&&(e=new pr,l[t]=e),e.getHandSpace()},this.setFramebufferScaleFactor=function(t){r=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(t){o=t,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return s},this.getSession=function(){return n},this.setSession=async function(t){if(n=t,null!==n){n.addEventListener("select",m),n.addEventListener("selectstart",m),n.addEventListener("selectend",m),n.addEventListener("squeeze",m),n.addEventListener("squeezestart",m),n.addEventListener("squeezeend",m),n.addEventListener("end",v),n.addEventListener("inputsourceschange",A);const t=e.getContextAttributes();!0!==t.xrCompatible&&await e.makeXRCompatible();const a={antialias:t.antialias,alpha:t.alpha,depth:t.depth,stencil:t.stencil,framebufferScaleFactor:r},l=new XRWebGLLayer(n,e,a);n.updateRenderState({baseLayer:l}),s=await n.requestReferenceSpace(o),x.setContext(n),x.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}};const y=new P,_=new P;function b(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.copy(t.matrixWorld).invert()}this.getCamera=function(t){p.near=h.near=u.near=t.near,p.far=h.far=u.far=t.far,f===p.near&&g===p.far||(n.updateRenderState({depthNear:p.near,depthFar:p.far}),f=p.near,g=p.far);const e=t.parent,i=p.cameras;b(p,e);for(let n=0;n<i.length;n++)b(i[n],e);t.matrixWorld.copy(p.matrixWorld),t.matrix.copy(p.matrix),t.matrix.decompose(t.position,t.quaternion,t.scale);const r=t.children;for(let n=0,s=r.length;n<s;n++)r[n].updateMatrixWorld(!0);return 2===i.length?function(t,e,i){y.setFromMatrixPosition(e.matrixWorld),_.setFromMatrixPosition(i.matrixWorld);const n=y.distanceTo(_),r=e.projectionMatrix.elements,s=i.projectionMatrix.elements,o=r[14]/(r[10]-1),a=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(s[8]+1)/s[0],d=o*u,p=o*h,f=n/(-u+h),g=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(g),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.copy(t.matrixWorld).invert();const m=o+f,v=a+f,A=d-g,b=p+(n-g),w=l*a/v*m,x=c*a/v*m;t.projectionMatrix.makePerspective(A,b,w,x,m,v)}(p,u,h):p.projectionMatrix.copy(u.projectionMatrix),p};let w=null;const x=new ci;x.setAnimationLoop((function(e,i){if(a=i.getViewerPose(s),null!==a){const e=a.views,i=n.renderState.baseLayer;t.setFramebuffer(i.framebuffer);let r=!1;e.length!==p.cameras.length&&(p.cameras.length=0,r=!0);for(let t=0;t<e.length;t++){const n=e[t],s=i.getViewport(n),o=d[t];o.matrix.fromArray(n.transform.matrix),o.projectionMatrix.fromArray(n.projectionMatrix),o.viewport.set(s.x,s.y,s.width,s.height),0===t&&p.matrix.copy(o.matrix),!0===r&&p.cameras.push(o)}}const r=n.inputSources;for(let t=0;t<l.length;t++){const e=l[t],n=r[t];e.update(n,i,s)}w&&w(e,i)})),this.setAnimationLoop=function(t){w=t},this.dispose=function(){}}function gr(t){function e(e,i){e.opacity.value=i.opacity,i.color&&e.diffuse.value.copy(i.color),i.emissive&&e.emissive.value.copy(i.emissive).multiplyScalar(i.emissiveIntensity),i.map&&(e.map.value=i.map),i.alphaMap&&(e.alphaMap.value=i.alphaMap),i.specularMap&&(e.specularMap.value=i.specularMap);const n=t.get(i).envMap;if(n){e.envMap.value=n,e.flipEnvMap.value=n.isCubeTexture&&n._needsFlipEnvMap?-1:1,e.reflectivity.value=i.reflectivity,e.refractionRatio.value=i.refractionRatio;const r=t.get(n).__maxMipLevel;void 0!==r&&(e.maxMipLevel.value=r)}let r,s;i.lightMap&&(e.lightMap.value=i.lightMap,e.lightMapIntensity.value=i.lightMapIntensity),i.aoMap&&(e.aoMap.value=i.aoMap,e.aoMapIntensity.value=i.aoMapIntensity),i.map?r=i.map:i.specularMap?r=i.specularMap:i.displacementMap?r=i.displacementMap:i.normalMap?r=i.normalMap:i.bumpMap?r=i.bumpMap:i.roughnessMap?r=i.roughnessMap:i.metalnessMap?r=i.metalnessMap:i.alphaMap?r=i.alphaMap:i.emissiveMap?r=i.emissiveMap:i.clearcoatMap?r=i.clearcoatMap:i.clearcoatNormalMap?r=i.clearcoatNormalMap:i.clearcoatRoughnessMap&&(r=i.clearcoatRoughnessMap),void 0!==r&&(r.isWebGLRenderTarget&&(r=r.texture),!0===r.matrixAutoUpdate&&r.updateMatrix(),e.uvTransform.value.copy(r.matrix)),i.aoMap?s=i.aoMap:i.lightMap&&(s=i.lightMap),void 0!==s&&(s.isWebGLRenderTarget&&(s=s.texture),!0===s.matrixAutoUpdate&&s.updateMatrix(),e.uv2Transform.value.copy(s.matrix))}function i(e,i){e.roughness.value=i.roughness,e.metalness.value=i.metalness,i.roughnessMap&&(e.roughnessMap.value=i.roughnessMap),i.metalnessMap&&(e.metalnessMap.value=i.metalnessMap),i.emissiveMap&&(e.emissiveMap.value=i.emissiveMap),i.bumpMap&&(e.bumpMap.value=i.bumpMap,e.bumpScale.value=i.bumpScale,1===i.side&&(e.bumpScale.value*=-1)),i.normalMap&&(e.normalMap.value=i.normalMap,e.normalScale.value.copy(i.normalScale),1===i.side&&e.normalScale.value.negate()),i.displacementMap&&(e.displacementMap.value=i.displacementMap,e.displacementScale.value=i.displacementScale,e.displacementBias.value=i.displacementBias),t.get(i).envMap&&(e.envMapIntensity.value=i.envMapIntensity)}return{refreshFogUniforms:function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)},refreshMaterialUniforms:function(t,n,r,s){n.isMeshBasicMaterial?e(t,n):n.isMeshLambertMaterial?(e(t,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(t,n)):n.isMeshToonMaterial?(e(t,n),function(t,e){e.gradientMap&&(t.gradientMap.value=e.gradientMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,n)):n.isMeshPhongMaterial?(e(t,n),function(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,n)):n.isMeshStandardMaterial?(e(t,n),n.isMeshPhysicalMaterial?function(t,e){i(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatMap&&(t.clearcoatMap.value=e.clearcoatMap),e.clearcoatRoughnessMap&&(t.clearcoatRoughnessMap.value=e.clearcoatRoughnessMap),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transmission.value=e.transmission,e.transmissionMap&&(t.transmissionMap.value=e.transmissionMap)}(t,n):i(t,n)):n.isMeshMatcapMaterial?(e(t,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,n)):n.isMeshDepthMaterial?(e(t,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,n)):n.isMeshDistanceMaterial?(e(t,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(t,n)):n.isMeshNormalMaterial?(e(t,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(t,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(t,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(t,n)):n.isPointsMaterial?function(t,e,i,n){let r;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*i,t.scale.value=.5*n,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?r=e.map:e.alphaMap&&(r=e.alphaMap),void 0!==r&&(!0===r.matrixAutoUpdate&&r.updateMatrix(),t.uvTransform.value.copy(r.matrix))}(t,n,r,s):n.isSpriteMaterial?function(t,e){let i;t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.map?i=e.map:e.alphaMap&&(i=e.alphaMap),void 0!==i&&(!0===i.matrixAutoUpdate&&i.updateMatrix(),t.uvTransform.value.copy(i.matrix))}(t,n):n.isShadowMaterial?(t.color.value.copy(n.color),t.opacity.value=n.opacity):n.isShaderMaterial&&(n.uniformsNeedUpdate=!1)}}}function mr(t){const e=void 0!==(t=t||{}).canvas?t.canvas:function(){const t=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return t.style.display="block",t}(),i=void 0!==t.context?t.context:null,n=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,s=void 0===t.stencil||t.stencil,o=void 0!==t.antialias&&t.antialias,a=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat;let h=null,d=null;const p=[];this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=3e3,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1,this.maxMorphTargets=8,this.maxMorphNormals=4;const f=this;let g=!1,m=null,v=0,A=0,y=null,_=null,b=-1,w=null;const E=new k,S=new k;let I=null,T=e.width,M=e.height,B=1,L=null,R=null;const D=new k(0,0,T,M),O=new k(0,0,T,M);let F=!1;const N=new li;let Q=!1,H=!1;const U=new lt,G=new P,z={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function j(){return null===y?B:1}let V,W,q,Y,$,J,X,K,Z,tt,et,it,nt,rt,st,ot,at,ct,ut,ht,dt,pt=i;function ft(t,i){for(let n=0;n<t.length;n++){const r=t[n],s=e.getContext(r,i);if(null!==s)return s}return null}try{const t={alpha:n,depth:r,stencil:s,antialias:o,premultipliedAlpha:a,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u};if(e.addEventListener("webglcontextlost",At,!1),e.addEventListener("webglcontextrestored",yt,!1),null===pt){const e=["webgl2","webgl","experimental-webgl"];if(!0===f.isWebGL1Renderer&&e.shift(),pt=ft(e,t),null===pt)throw ft(e)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===pt.getShaderPrecisionFormat&&(pt.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function gt(){V=new bi(pt),W=new Ai(pt,V,t),V.init(W),ht=new ur(pt,V,W),q=new lr(pt,V,W),q.scissor(S.copy(O).multiplyScalar(B).floor()),q.viewport(E.copy(D).multiplyScalar(B).floor()),Y=new Ci(pt),$=new Yn,J=new cr(pt,V,q,$,W,ht,Y),X=new _i(f),K=new ui(pt,W),dt=new mi(pt,V,K,W),Z=new wi(pt,K,Y,dt),tt=new Ti(pt,Z,K,Y),at=new Ii(pt),st=new yi($),et=new qn(f,X,V,W,dt,st),it=new gr($),nt=new Kn($),rt=new rr(V,W),ot=new gi(f,X,q,tt,a),ct=new vi(pt,V,Y,W),ut=new xi(pt,V,Y,W),Y.programs=et.programs,f.capabilities=W,f.extensions=V,f.properties=$,f.renderLists=nt,f.state=q,f.info=Y}gt();const mt=new fr(f,pt);this.xr=mt;const vt=new ar(f,tt,W.maxTextureSize);function At(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function yt(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1,gt()}function _t(t){const e=t.target;e.removeEventListener("dispose",_t),function(t){bt(t),$.remove(t)}(e)}function bt(t){const e=$.get(t).program;void 0!==e&&et.releaseProgram(e)}this.shadowMap=vt,this.getContext=function(){return pt},this.getContextAttributes=function(){return pt.getContextAttributes()},this.forceContextLoss=function(){const t=V.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){const t=V.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return B},this.setPixelRatio=function(t){void 0!==t&&(B=t,this.setSize(T,M,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new C),t.set(T,M)},this.setSize=function(t,i,n){mt.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(T=t,M=i,e.width=Math.floor(t*B),e.height=Math.floor(i*B),!1!==n&&(e.style.width=t+"px",e.style.height=i+"px"),this.setViewport(0,0,t,i))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new C),t.set(T*B,M*B).floor()},this.setDrawingBufferSize=function(t,i,n){T=t,M=i,B=n,e.width=Math.floor(t*n),e.height=Math.floor(i*n),this.setViewport(0,0,t,i)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new k),t.copy(E)},this.getViewport=function(t){return t.copy(D)},this.setViewport=function(t,e,i,n){t.isVector4?D.set(t.x,t.y,t.z,t.w):D.set(t,e,i,n),q.viewport(E.copy(D).multiplyScalar(B).floor())},this.getScissor=function(t){return t.copy(O)},this.setScissor=function(t,e,i,n){t.isVector4?O.set(t.x,t.y,t.z,t.w):O.set(t,e,i,n),q.scissor(S.copy(O).multiplyScalar(B).floor())},this.getScissorTest=function(){return F},this.setScissorTest=function(t){q.setScissorTest(F=t)},this.setOpaqueSort=function(t){L=t},this.setTransparentSort=function(t){R=t},this.getClearColor=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getClearColor() now requires a Color as an argument"),t=new ee),t.copy(ot.getClearColor())},this.setClearColor=function(){ot.setClearColor.apply(ot,arguments)},this.getClearAlpha=function(){return ot.getClearAlpha()},this.setClearAlpha=function(){ot.setClearAlpha.apply(ot,arguments)},this.clear=function(t,e,i){let n=0;(void 0===t||t)&&(n|=16384),(void 0===e||e)&&(n|=256),(void 0===i||i)&&(n|=1024),pt.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",At,!1),e.removeEventListener("webglcontextrestored",yt,!1),nt.dispose(),rt.dispose(),$.dispose(),X.dispose(),tt.dispose(),dt.dispose(),mt.dispose(),xt.stop()},this.renderBufferImmediate=function(t,e){dt.initAttributes();const i=$.get(t);t.hasPositions&&!i.position&&(i.position=pt.createBuffer()),t.hasNormals&&!i.normal&&(i.normal=pt.createBuffer()),t.hasUvs&&!i.uv&&(i.uv=pt.createBuffer()),t.hasColors&&!i.color&&(i.color=pt.createBuffer());const n=e.getAttributes();t.hasPositions&&(pt.bindBuffer(34962,i.position),pt.bufferData(34962,t.positionArray,35048),dt.enableAttribute(n.position),pt.vertexAttribPointer(n.position,3,5126,!1,0,0)),t.hasNormals&&(pt.bindBuffer(34962,i.normal),pt.bufferData(34962,t.normalArray,35048),dt.enableAttribute(n.normal),pt.vertexAttribPointer(n.normal,3,5126,!1,0,0)),t.hasUvs&&(pt.bindBuffer(34962,i.uv),pt.bufferData(34962,t.uvArray,35048),dt.enableAttribute(n.uv),pt.vertexAttribPointer(n.uv,2,5126,!1,0,0)),t.hasColors&&(pt.bindBuffer(34962,i.color),pt.bufferData(34962,t.colorArray,35048),dt.enableAttribute(n.color),pt.vertexAttribPointer(n.color,3,5126,!1,0,0)),dt.disableUnusedAttributes(),pt.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,i,n,r,s){null===e&&(e=z);const o=r.isMesh&&r.matrixWorld.determinant()<0,a=Tt(t,e,n,r);q.setMaterial(n,o);let l=i.index;const c=i.attributes.position;if(null===l){if(void 0===c||0===c.count)return}else if(0===l.count)return;let u,h=1;!0===n.wireframe&&(l=Z.getWireframeAttribute(i),h=2),(n.morphTargets||n.morphNormals)&&at.update(r,i,n,a),dt.setup(r,n,a,i,l);let d=ct;null!==l&&(u=K.get(l),d=ut,d.setIndex(u));const p=null!==l?l.count:c.count,f=i.drawRange.start*h,g=i.drawRange.count*h,m=null!==s?s.start*h:0,v=null!==s?s.count*h:1/0,A=Math.max(f,m),y=Math.min(p,f+g,m+v)-1,_=Math.max(0,y-A+1);if(0!==_){if(r.isMesh)!0===n.wireframe?(q.setLineWidth(n.wireframeLinewidth*j()),d.setMode(1)):d.setMode(4);else if(r.isLine){let t=n.linewidth;void 0===t&&(t=1),q.setLineWidth(t*j()),r.isLineSegments?d.setMode(1):r.isLineLoop?d.setMode(2):d.setMode(3)}else r.isPoints?d.setMode(0):r.isSprite&&d.setMode(4);if(r.isInstancedMesh)d.renderInstances(A,_,r.count);else if(i.isInstancedBufferGeometry){const t=Math.min(i.instanceCount,i._maxInstanceCount);d.renderInstances(A,_,t)}else d.render(A,_)}},this.compile=function(t,e){d=rt.get(t),d.init(),t.traverseVisible((function(t){t.isLight&&t.layers.test(e.layers)&&(d.pushLight(t),t.castShadow&&d.pushShadow(t))})),d.setupLights();const i=new WeakMap;t.traverse((function(e){const n=e.material;if(n)if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];!1===i.has(s)&&(It(s,t,e),i.set(s))}else!1===i.has(n)&&(It(n,t,e),i.set(n))}))};let wt=null;const xt=new ci;function Ct(t,e,i,n){if(!1===t.visible)return;if(t.layers.test(e.layers))if(t.isGroup)i=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)d.pushLight(t),t.castShadow&&d.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||N.intersectsSprite(t)){n&&G.setFromMatrixPosition(t.matrixWorld).applyMatrix4(U);const e=tt.update(t),r=t.material;r.visible&&h.push(t,e,r,i,G.z,null)}}else if(t.isImmediateRenderObject)n&&G.setFromMatrixPosition(t.matrixWorld).applyMatrix4(U),h.push(t,null,t.material,i,G.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==Y.render.frame&&(t.skeleton.update(),t.skeleton.frame=Y.render.frame),!t.frustumCulled||N.intersectsObject(t))){n&&G.setFromMatrixPosition(t.matrixWorld).applyMatrix4(U);const e=tt.update(t),r=t.material;if(Array.isArray(r)){const n=e.groups;for(let s=0,o=n.length;s<o;s++){const o=n[s],a=r[o.materialIndex];a&&a.visible&&h.push(t,e,a,i,G.z,o)}}else r.visible&&h.push(t,e,r,i,G.z,null)}const r=t.children;for(let s=0,o=r.length;s<o;s++)Ct(r[s],e,i,n)}function Et(t,e,i){const n=!0===e.isScene?e.overrideMaterial:null;for(let r=0,s=t.length;r<s;r++){const s=t[r],o=s.object,a=s.geometry,l=null===n?s.material:n,c=s.group;if(i.isArrayCamera){const t=i.cameras;for(let i=0,n=t.length;i<n;i++){const n=t[i];o.layers.test(n.layers)&&(q.viewport(E.copy(n.viewport)),d.setupLightsView(n),St(o,e,n,a,l,c))}}else St(o,e,i,a,l,c)}}function St(t,e,i,n,r,s){if(t.onBeforeRender(f,e,i,n,r,s),t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){const n=Tt(i,e,r,t);q.setMaterial(r),dt.reset(),function(t,e){t.render((function(t){f.renderBufferImmediate(t,e)}))}(t,n)}else f.renderBufferDirect(i,e,n,r,t,s);t.onAfterRender(f,e,i,n,r,s)}function It(t,e,i){!0!==e.isScene&&(e=z);const n=$.get(t),r=d.state.lights,s=d.state.shadowsArray,o=r.state.version,a=et.getParameters(t,r.state,s,e,i),l=et.getProgramCacheKey(a);let c=n.program,u=!0;if(n.environment=t.isMeshStandardMaterial?e.environment:null,n.fog=e.fog,n.envMap=X.get(t.envMap||n.environment),void 0===c)t.addEventListener("dispose",_t);else if(c.cacheKey!==l)bt(t);else if(n.lightsStateVersion!==o)u=!1;else{if(void 0!==a.shaderID)return;u=!1}u&&(a.uniforms=et.getUniforms(t),t.onBeforeCompile(a,f),c=et.acquireProgram(a,l),n.program=c,n.uniforms=a.uniforms,n.outputEncoding=a.outputEncoding);const h=n.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(n.numClippingPlanes=st.numPlanes,n.numIntersection=st.numIntersection,h.clippingPlanes=st.uniform),n.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshToonMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),n.lightsStateVersion=o,n.needsLights&&(h.ambientLightColor.value=r.state.ambient,h.lightProbe.value=r.state.probe,h.directionalLights.value=r.state.directional,h.directionalLightShadows.value=r.state.directionalShadow,h.spotLights.value=r.state.spot,h.spotLightShadows.value=r.state.spotShadow,h.rectAreaLights.value=r.state.rectArea,h.ltc_1.value=r.state.rectAreaLTC1,h.ltc_2.value=r.state.rectAreaLTC2,h.pointLights.value=r.state.point,h.pointLightShadows.value=r.state.pointShadow,h.hemisphereLights.value=r.state.hemi,h.directionalShadowMap.value=r.state.directionalShadowMap,h.directionalShadowMatrix.value=r.state.directionalShadowMatrix,h.spotShadowMap.value=r.state.spotShadowMap,h.spotShadowMatrix.value=r.state.spotShadowMatrix,h.pointShadowMap.value=r.state.pointShadowMap,h.pointShadowMatrix.value=r.state.pointShadowMatrix);const p=n.program.getUniforms(),g=Sn.seqWithValue(p.seq,h);n.uniformsList=g}function Tt(t,e,i,n){!0!==e.isScene&&(e=z),J.resetTextureUnits();const r=e.fog,s=i.isMeshStandardMaterial?e.environment:null,o=null===y?f.outputEncoding:y.texture.encoding,a=X.get(i.envMap||s),l=$.get(i),c=d.state.lights;if(!0===Q&&(!0===H||t!==w)){const e=t===w&&i.id===b;st.setState(i,t,e)}i.version===l.__version?i.fog&&l.fog!==r||l.environment!==s||l.needsLights&&l.lightsStateVersion!==c.state.version?It(i,e,n):void 0===l.numClippingPlanes||l.numClippingPlanes===st.numPlanes&&l.numIntersection===st.numIntersection?(l.outputEncoding!==o||l.envMap!==a)&&It(i,e,n):It(i,e,n):(It(i,e,n),l.__version=i.version);let u=!1,h=!1,p=!1;const g=l.program,m=g.getUniforms(),v=l.uniforms;if(q.useProgram(g.program)&&(u=!0,h=!0,p=!0),i.id!==b&&(b=i.id,h=!0),u||w!==t){if(m.setValue(pt,"projectionMatrix",t.projectionMatrix),W.logarithmicDepthBuffer&&m.setValue(pt,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),w!==t&&(w=t,h=!0,p=!0),i.isShaderMaterial||i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshStandardMaterial||i.envMap){const e=m.map.cameraPosition;void 0!==e&&e.setValue(pt,G.setFromMatrixPosition(t.matrixWorld))}(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial)&&m.setValue(pt,"isOrthographic",!0===t.isOrthographicCamera),(i.isMeshPhongMaterial||i.isMeshToonMaterial||i.isMeshLambertMaterial||i.isMeshBasicMaterial||i.isMeshStandardMaterial||i.isShaderMaterial||i.isShadowMaterial||i.skinning)&&m.setValue(pt,"viewMatrix",t.matrixWorldInverse)}if(i.skinning){m.setOptional(pt,n,"bindMatrix"),m.setOptional(pt,n,"bindMatrixInverse");const t=n.skeleton;if(t){const e=t.bones;if(W.floatVertexTextures){if(null===t.boneTexture){let i=Math.sqrt(4*e.length);i=x.ceilPowerOfTwo(i),i=Math.max(i,4);const n=new Float32Array(i*i*4);n.set(t.boneMatrices);const r=new si(n,i,i,1023,1015);t.boneMatrices=n,t.boneTexture=r,t.boneTextureSize=i}m.setValue(pt,"boneTexture",t.boneTexture,J),m.setValue(pt,"boneTextureSize",t.boneTextureSize)}else m.setOptional(pt,t,"boneMatrices")}}var A,_;return(h||l.receiveShadow!==n.receiveShadow)&&(l.receiveShadow=n.receiveShadow,m.setValue(pt,"receiveShadow",n.receiveShadow)),h&&(m.setValue(pt,"toneMappingExposure",f.toneMappingExposure),l.needsLights&&(_=p,(A=v).ambientLightColor.needsUpdate=_,A.lightProbe.needsUpdate=_,A.directionalLights.needsUpdate=_,A.directionalLightShadows.needsUpdate=_,A.pointLights.needsUpdate=_,A.pointLightShadows.needsUpdate=_,A.spotLights.needsUpdate=_,A.spotLightShadows.needsUpdate=_,A.rectAreaLights.needsUpdate=_,A.hemisphereLights.needsUpdate=_),r&&i.fog&&it.refreshFogUniforms(v,r),it.refreshMaterialUniforms(v,i,B,M),Sn.upload(pt,l.uniformsList,v,J)),i.isShaderMaterial&&!0===i.uniformsNeedUpdate&&(Sn.upload(pt,l.uniformsList,v,J),i.uniformsNeedUpdate=!1),i.isSpriteMaterial&&m.setValue(pt,"center",n.center),m.setValue(pt,"modelViewMatrix",n.modelViewMatrix),m.setValue(pt,"normalMatrix",n.normalMatrix),m.setValue(pt,"modelMatrix",n.matrixWorld),g}xt.setAnimationLoop((function(t){mt.isPresenting||wt&&wt(t)})),"undefined"!=typeof window&&xt.setContext(window),this.setAnimationLoop=function(t){wt=t,mt.setAnimationLoop(t),null===t?xt.stop():xt.start()},this.render=function(t,e){let i,n;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),i=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),n=arguments[3]),void 0!==e&&!0!==e.isCamera)return void console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");if(!0===g)return;dt.resetDefaultState(),b=-1,w=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),!0===mt.enabled&&!0===mt.isPresenting&&(e=mt.getCamera(e)),!0===t.isScene&&t.onBeforeRender(f,t,e,i||y),d=rt.get(t,p.length),d.init(),p.push(d),U.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),N.setFromProjectionMatrix(U),H=this.localClippingEnabled,Q=st.init(this.clippingPlanes,H,e),h=nt.get(t,e),h.init(),Ct(t,e,0,f.sortObjects),h.finish(),!0===f.sortObjects&&h.sort(L,R),!0===Q&&st.beginShadows();const r=d.state.shadowsArray;vt.render(r,t,e),d.setupLights(),d.setupLightsView(e),!0===Q&&st.endShadows(),!0===this.info.autoReset&&this.info.reset(),void 0!==i&&this.setRenderTarget(i),ot.render(h,t,e,n);const s=h.opaque,o=h.transparent;s.length>0&&Et(s,t,e),o.length>0&&Et(o,t,e),!0===t.isScene&&t.onAfterRender(f,t,e),null!==y&&(J.updateRenderTargetMipmap(y),J.updateMultisampleRenderTarget(y)),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1),p.pop(),d=p.length>0?p[p.length-1]:null,h=null},this.setFramebuffer=function(t){m!==t&&null===y&&pt.bindFramebuffer(36160,t),m=t},this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return A},this.getRenderList=function(){return h},this.setRenderList=function(t){h=t},this.getRenderTarget=function(){return y},this.setRenderTarget=function(t,e=0,i=0){y=t,v=e,A=i,t&&void 0===$.get(t).__webglFramebuffer&&J.setupRenderTarget(t);let n=m,r=!1;if(t){const i=$.get(t).__webglFramebuffer;t.isWebGLCubeRenderTarget?(n=i[e],r=!0):n=t.isWebGLMultisampleRenderTarget?$.get(t).__webglMultisampledFramebuffer:i,E.copy(t.viewport),S.copy(t.scissor),I=t.scissorTest}else E.copy(D).multiplyScalar(B).floor(),S.copy(O).multiplyScalar(B).floor(),I=F;if(_!==n&&(pt.bindFramebuffer(36160,n),_=n),q.viewport(E),q.scissor(S),q.setScissorTest(I),r){const n=$.get(t.texture);pt.framebufferTexture2D(36160,36064,34069+e,n.__webglTexture,i)}},this.readRenderTargetPixels=function(t,e,i,n,r,s,o){if(!t||!t.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let a=$.get(t).__webglFramebuffer;if(t.isWebGLCubeRenderTarget&&void 0!==o&&(a=a[o]),a){let o=!1;a!==_&&(pt.bindFramebuffer(36160,a),o=!0);try{const a=t.texture,l=a.format,c=a.type;if(1023!==l&&ht.convert(l)!==pt.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const u=1016===c&&(V.has("EXT_color_buffer_half_float")||W.isWebGL2&&V.has("EXT_color_buffer_float"));if(!(1009===c||ht.convert(c)===pt.getParameter(35738)||1015===c&&(W.isWebGL2||V.has("OES_texture_float")||V.has("WEBGL_color_buffer_float"))||u))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===pt.checkFramebufferStatus(36160)?e>=0&&e<=t.width-n&&i>=0&&i<=t.height-r&&pt.readPixels(e,i,n,r,ht.convert(l),ht.convert(c),s):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{o&&pt.bindFramebuffer(36160,_)}}},this.copyFramebufferToTexture=function(t,e,i=0){const n=Math.pow(2,-i),r=Math.floor(e.image.width*n),s=Math.floor(e.image.height*n),o=ht.convert(e.format);J.setTexture2D(e,0),pt.copyTexImage2D(3553,i,o,t.x,t.y,r,s,0),q.unbindTexture()},this.copyTextureToTexture=function(t,e,i,n=0){const r=e.image.width,s=e.image.height,o=ht.convert(i.format),a=ht.convert(i.type);J.setTexture2D(i,0),pt.pixelStorei(37440,i.flipY),pt.pixelStorei(37441,i.premultiplyAlpha),pt.pixelStorei(3317,i.unpackAlignment),e.isDataTexture?pt.texSubImage2D(3553,n,t.x,t.y,r,s,o,a,e.image.data):e.isCompressedTexture?pt.compressedTexSubImage2D(3553,n,t.x,t.y,e.mipmaps[0].width,e.mipmaps[0].height,o,e.mipmaps[0].data):pt.texSubImage2D(3553,n,t.x,t.y,o,a,e.image),0===n&&i.generateMipmaps&&pt.generateMipmap(3553),q.unbindTexture()},this.initTexture=function(t){J.setTexture2D(t,0),q.unbindTexture()},this.resetState=function(){q.reset(),dt.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function vr(t){mr.call(this,t)}sr.prototype=Object.create(re.prototype),sr.prototype.constructor=sr,sr.prototype.isMeshDepthMaterial=!0,sr.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},or.prototype=Object.create(re.prototype),or.prototype.constructor=or,or.prototype.isMeshDistanceMaterial=!0,or.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},hr.prototype=Object.assign(Object.create(ei.prototype),{constructor:hr,isArrayCamera:!0}),dr.prototype=Object.assign(Object.create(Rt.prototype),{constructor:dr,isGroup:!0}),Object.assign(pr.prototype,{constructor:pr,getHandSpace:function(){return null===this._hand&&(this._hand=new dr,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand},getTargetRaySpace:function(){return null===this._targetRay&&(this._targetRay=new dr,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1),this._targetRay},getGripSpace:function(){return null===this._grip&&(this._grip=new dr,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1),this._grip},dispatchEvent:function(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this},disconnect:function(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this},update:function(t,e,i){let n=null,r=null,s=null;const o=this._targetRay,a=this._grip,l=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(l&&t.hand){s=!0;for(const s of t.hand.values()){const t=e.getJointPose(s,i);if(void 0===l.joints[s.jointName]){const t=new dr;t.matrixAutoUpdate=!1,t.visible=!1,l.joints[s.jointName]=t,l.add(t)}const n=l.joints[s.jointName];null!==t&&(n.matrix.fromArray(t.transform.matrix),n.matrix.decompose(n.position,n.rotation,n.scale),n.jointRadius=t.radius),n.visible=null!==t}const n=l.joints["index-finger-tip"],r=l.joints["thumb-tip"],o=n.position.distanceTo(r.position),a=.02,c=.005;l.inputState.pinching&&o>a+c?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!l.inputState.pinching&&o<=a-c&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==o&&(n=e.getPose(t.targetRaySpace,i),null!==n&&(o.matrix.fromArray(n.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale))),null!==a&&t.gripSpace&&(r=e.getPose(t.gripSpace,i),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale)));return null!==o&&(o.visible=null!==n),null!==a&&(a.visible=null!==r),null!==l&&(l.visible=null!==s),this}}),Object.assign(fr.prototype,_.prototype),vr.prototype=Object.assign(Object.create(mr.prototype),{constructor:vr,isWebGL1Renderer:!0});class Ar extends Rt{constructor(){super(),Object.defineProperty(this,"isScene",{value:!0}),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.environment&&(e.object.environment=this.environment.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}function yr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=35044,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=x.generateUUID()}Object.defineProperty(yr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(yr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setUsage:function(t){return this.usage=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this},copyAt:function(t,e,i){t*=this.stride,i*=e.stride;for(let n=0,r=this.stride;n<r;n++)this.array[t+n]=e.array[i+n];return this},set:function(t,e=0){return this.array.set(t,e),this},clone:function(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=x.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new yr(new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),this.stride);return e.setUsage(this.usage),e},onUpload:function(t){return this.onUploadCallback=t,this},toJSON:function(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=x.generateUUID()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}});const _r=new P;function br(t,e,i,n){this.name="",this.data=t,this.itemSize=e,this.offset=i,this.normalized=!0===n}function wr(t){re.call(this),this.type="SpriteMaterial",this.color=new ee(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}let xr;Object.defineProperties(br.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}},needsUpdate:{set:function(t){this.data.needsUpdate=t}}}),Object.assign(br.prototype,{isInterleavedBufferAttribute:!0,applyMatrix4:function(t){for(let e=0,i=this.data.count;e<i;e++)_r.x=this.getX(e),_r.y=this.getY(e),_r.z=this.getZ(e),_r.applyMatrix4(t),this.setXYZ(e,_r.x,_r.y,_r.z);return this},setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this},setXYZ:function(t,e,i,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this},setXYZW:function(t,e,i,n,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=i,this.data.array[t+2]=n,this.data.array[t+3]=r,this},clone:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return new le(new this.array.constructor(t),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new br(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)},toJSON:function(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const t=[];for(let e=0;e<this.count;e++){const i=e*this.data.stride+this.offset;for(let e=0;e<this.itemSize;e++)t.push(this.data.array[i+e])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}),wr.prototype=Object.create(re.prototype),wr.prototype.constructor=wr,wr.prototype.isSpriteMaterial=!0,wr.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};const Cr=new P,Er=new P,Sr=new P,Ir=new C,Tr=new C,Mr=new lt,Br=new P,kr=new P,Lr=new P,Rr=new C,Pr=new C,Dr=new C;function Or(t){if(Rt.call(this),this.type="Sprite",void 0===xr){xr=new Me;const t=new yr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);xr.setIndex([0,1,2,0,2,3]),xr.setAttribute("position",new br(t,3,0,!1)),xr.setAttribute("uv",new br(t,2,3,!1))}this.geometry=xr,this.material=void 0!==t?t:new wr,this.center=new C(.5,.5)}function Fr(t,e,i,n,r,s){Ir.subVectors(t,i).addScalar(.5).multiply(n),void 0!==r?(Tr.x=s*Ir.x-r*Ir.y,Tr.y=r*Ir.x+s*Ir.y):Tr.copy(Ir),t.copy(e),t.x+=Tr.x,t.y+=Tr.y,t.applyMatrix4(Mr)}Or.prototype=Object.assign(Object.create(Rt.prototype),{constructor:Or,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Er.setFromMatrixScale(this.matrixWorld),Mr.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Sr.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Er.multiplyScalar(-Sr.z);const i=this.material.rotation;let n,r;0!==i&&(r=Math.cos(i),n=Math.sin(i));const s=this.center;Fr(Br.set(-.5,-.5,0),Sr,s,Er,n,r),Fr(kr.set(.5,-.5,0),Sr,s,Er,n,r),Fr(Lr.set(.5,.5,0),Sr,s,Er,n,r),Rr.set(0,0),Pr.set(1,0),Dr.set(1,1);let o=t.ray.intersectTriangle(Br,kr,Lr,!1,Cr);if(null===o&&(Fr(kr.set(-.5,.5,0),Sr,s,Er,n,r),Pr.set(0,1),o=t.ray.intersectTriangle(Br,Lr,kr,!1,Cr),null===o))return;const a=t.ray.origin.distanceTo(Cr);a<t.near||a>t.far||e.push({distance:a,point:Cr.clone(),uv:Yt.getUV(Cr,Br,kr,Lr,Rr,Pr,Dr,new C),face:null,object:this})},copy:function(t){return Rt.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}});const Nr=new P,Qr=new P;function Hr(){Rt.call(this),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}Hr.prototype=Object.assign(Object.create(Rt.prototype),{constructor:Hr,isLOD:!0,copy:function(t){Rt.prototype.copy.call(this,t,!1);const e=t.levels;for(let i=0,n=e.length;i<n;i++){const t=e[i];this.addLevel(t.object.clone(),t.distance)}return this.autoUpdate=t.autoUpdate,this},addLevel:function(t,e=0){e=Math.abs(e);const i=this.levels;let n;for(n=0;n<i.length&&!(e<i[n].distance);n++);return i.splice(n,0,{distance:e,object:t}),this.add(t),this},getCurrentLevel:function(){return this._currentLevel},getObjectForDistance:function(t){const e=this.levels;if(e.length>0){let i,n;for(i=1,n=e.length;i<n&&!(t<e[i].distance);i++);return e[i-1].object}return null},raycast:function(t,e){if(this.levels.length>0){Nr.setFromMatrixPosition(this.matrixWorld);const i=t.ray.origin.distanceTo(Nr);this.getObjectForDistance(i).raycast(t,e)}},update:function(t){const e=this.levels;if(e.length>1){Nr.setFromMatrixPosition(t.matrixWorld),Qr.setFromMatrixPosition(this.matrixWorld);const i=Nr.distanceTo(Qr)/t.zoom;let n,r;for(e[0].object.visible=!0,n=1,r=e.length;n<r&&i>=e[n].distance;n++)e[n-1].object.visible=!1,e[n].object.visible=!0;for(this._currentLevel=n-1;n<r;n++)e[n].object.visible=!1}},toJSON:function(t){const e=Rt.prototype.toJSON.call(this,t);!1===this.autoUpdate&&(e.object.autoUpdate=!1),e.object.levels=[];const i=this.levels;for(let n=0,r=i.length;n<r;n++){const t=i[n];e.object.levels.push({object:t.object.uuid,distance:t.distance})}return e}});const Ur=new P,Gr=new k,zr=new k,jr=new P,Vr=new lt;function Wr(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),qe.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new lt,this.bindMatrixInverse=new lt}function qr(){Rt.call(this),this.type="Bone"}Wr.prototype=Object.assign(Object.create(qe.prototype),{constructor:Wr,isSkinnedMesh:!0,copy:function(t){return qe.prototype.copy.call(this,t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this},bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){const t=new k,e=this.geometry.attributes.skinWeight;for(let i=0,n=e.count;i<n;i++){t.x=e.getX(i),t.y=e.getY(i),t.z=e.getZ(i),t.w=e.getW(i);const n=1/t.manhattanLength();n!==1/0?t.multiplyScalar(n):t.set(1,0,0,0),e.setXYZW(i,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){qe.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},boneTransform:function(t,e){const i=this.skeleton,n=this.geometry;Gr.fromBufferAttribute(n.attributes.skinIndex,t),zr.fromBufferAttribute(n.attributes.skinWeight,t),Ur.fromBufferAttribute(n.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let r=0;r<4;r++){const t=zr.getComponent(r);if(0!==t){const n=Gr.getComponent(r);Vr.multiplyMatrices(i.bones[n].matrixWorld,i.boneInverses[n]),e.addScaledVector(jr.copy(Ur).applyMatrix4(Vr),t)}}return e.applyMatrix4(this.bindMatrixInverse)}}),qr.prototype=Object.assign(Object.create(Rt.prototype),{constructor:qr,isBone:!0});const Yr=new lt,$r=new lt;function Jr(t=[],e=[]){this.uuid=x.generateUUID(),this.bones=t.slice(0),this.boneInverses=e,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}Object.assign(Jr.prototype,{init:function(){const t=this.bones,e=this.boneInverses;if(this.boneMatrices=new Float32Array(16*t.length),0===e.length)this.calculateInverses();else if(t.length!==e.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let t=0,e=this.bones.length;t<e;t++)this.boneInverses.push(new lt)}},calculateInverses:function(){this.boneInverses.length=0;for(let t=0,e=this.bones.length;t<e;t++){const e=new lt;this.bones[t]&&e.copy(this.bones[t].matrixWorld).invert(),this.boneInverses.push(e)}},pose:function(){for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&e.matrixWorld.copy(this.boneInverses[t]).invert()}for(let t=0,e=this.bones.length;t<e;t++){const e=this.bones[t];e&&(e.parent&&e.parent.isBone?(e.matrix.copy(e.parent.matrixWorld).invert(),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))}},update:function(){const t=this.bones,e=this.boneInverses,i=this.boneMatrices,n=this.boneTexture;for(let r=0,s=t.length;r<s;r++){const n=t[r]?t[r].matrixWorld:$r;Yr.multiplyMatrices(n,e[r]),Yr.toArray(i,16*r)}null!==n&&(n.needsUpdate=!0)},clone:function(){return new Jr(this.bones,this.boneInverses)},getBoneByName:function(t){for(let e=0,i=this.bones.length;e<i;e++){const i=this.bones[e];if(i.name===t)return i}},dispose:function(){null!==this.boneTexture&&(this.boneTexture.dispose(),this.boneTexture=null)},fromJSON:function(t,e){this.uuid=t.uuid;for(let i=0,n=t.bones.length;i<n;i++){const n=t.bones[i];let r=e[n];void 0===r&&(console.warn("THREE.Skeleton: No bone found with UUID:",n),r=new qr),this.bones.push(r),this.boneInverses.push((new lt).fromArray(t.boneInverses[i]))}return this.init(),this},toJSON:function(){const t={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};t.uuid=this.uuid;const e=this.bones,i=this.boneInverses;for(let n=0,r=e.length;n<r;n++){const r=e[n];t.bones.push(r.uuid);const s=i[n];t.boneInverses.push(s.toArray())}return t}});const Xr=new lt,Kr=new lt,Zr=[],ts=new qe;function es(t,e,i){qe.call(this,t,e),this.instanceMatrix=new le(new Float32Array(16*i),16),this.instanceColor=null,this.count=i,this.frustumCulled=!1}function is(t){re.call(this),this.type="LineBasicMaterial",this.color=new ee(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.morphTargets=!1,this.setValues(t)}es.prototype=Object.assign(Object.create(qe.prototype),{constructor:es,isInstancedMesh:!0,copy:function(t){return qe.prototype.copy.call(this,t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this},getColorAt:function(t,e){e.fromArray(this.instanceColor.array,3*t)},getMatrixAt:function(t,e){e.fromArray(this.instanceMatrix.array,16*t)},raycast:function(t,e){const i=this.matrixWorld,n=this.count;if(ts.geometry=this.geometry,ts.material=this.material,void 0!==ts.material)for(let r=0;r<n;r++){this.getMatrixAt(r,Xr),Kr.multiplyMatrices(i,Xr),ts.matrixWorld=Kr,ts.raycast(t,Zr);for(let t=0,i=Zr.length;t<i;t++){const i=Zr[t];i.instanceId=r,i.object=this,e.push(i)}Zr.length=0}},setColorAt:function(t,e){null===this.instanceColor&&(this.instanceColor=new le(new Float32Array(3*this.count),3)),e.toArray(this.instanceColor.array,3*t)},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){},dispose:function(){this.dispatchEvent({type:"dispose"})}}),is.prototype=Object.create(re.prototype),is.prototype.constructor=is,is.prototype.isLineBasicMaterial=!0,is.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this.morphTargets=t.morphTargets,this};const ns=new P,rs=new P,ss=new lt,os=new at,as=new Z;function ls(t=new Me,e=new is){Rt.call(this),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}ls.prototype=Object.assign(Object.create(Rt.prototype),{constructor:ls,isLine:!0,copy:function(t){return Rt.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,i=[0];for(let t=1,n=e.count;t<n;t++)ns.fromBufferAttribute(e,t-1),rs.fromBufferAttribute(e,t),i[t]=i[t-1],i[t]+=ns.distanceTo(rs);t.setAttribute("lineDistance",new ve(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this},raycast:function(t,e){const i=this.geometry,n=this.matrixWorld,r=t.params.Line.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),as.copy(i.boundingSphere),as.applyMatrix4(n),as.radius+=r,!1===t.ray.intersectsSphere(as))return;ss.copy(n).invert(),os.copy(t.ray).applyMatrix4(ss);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,a=new P,l=new P,c=new P,u=new P,h=this.isLineSegments?2:1;if(i.isBufferGeometry){const n=i.index,r=i.attributes.position;if(null!==n){const i=n.array;for(let n=0,s=i.length-1;n<s;n+=h){const s=i[n],h=i[n+1];if(a.fromBufferAttribute(r,s),l.fromBufferAttribute(r,h),os.distanceSqToSegment(a,l,u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const d=t.ray.origin.distanceTo(u);d<t.near||d>t.far||e.push({distance:d,point:c.clone().applyMatrix4(this.matrixWorld),index:n,face:null,faceIndex:null,object:this})}}else for(let i=0,s=r.count-1;i<s;i+=h){if(a.fromBufferAttribute(r,i),l.fromBufferAttribute(r,i+1),os.distanceSqToSegment(a,l,u,c)>o)continue;u.applyMatrix4(this.matrixWorld);const n=t.ray.origin.distanceTo(u);n<t.near||n>t.far||e.push({distance:n,point:c.clone().applyMatrix4(this.matrixWorld),index:i,face:null,faceIndex:null,object:this})}}else i.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const t=e[i[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,i=t.length;e<i;e++){const i=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}});const cs=new P,us=new P;function hs(t,e){ls.call(this,t,e),this.type="LineSegments"}function ds(t,e){ls.call(this,t,e),this.type="LineLoop"}function ps(t){re.call(this),this.type="PointsMaterial",this.color=new ee(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}hs.prototype=Object.assign(Object.create(ls.prototype),{constructor:hs,isLineSegments:!0,computeLineDistances:function(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,i=[];for(let t=0,n=e.count;t<n;t+=2)cs.fromBufferAttribute(e,t),us.fromBufferAttribute(e,t+1),i[t]=0===t?0:i[t-1],i[t+1]=i[t]+cs.distanceTo(us);t.setAttribute("lineDistance",new ve(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}),ds.prototype=Object.assign(Object.create(ls.prototype),{constructor:ds,isLineLoop:!0}),ps.prototype=Object.create(re.prototype),ps.prototype.constructor=ps,ps.prototype.isPointsMaterial=!0,ps.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};const fs=new lt,gs=new at,ms=new Z,vs=new P;function As(t=new Me,e=new ps){Rt.call(this),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}function ys(t,e,i,n,r,s,o){const a=gs.distanceSqToPoint(t);if(a<i){const i=new P;gs.closestPointToPoint(t,i),i.applyMatrix4(n);const l=r.ray.origin.distanceTo(i);if(l<r.near||l>r.far)return;s.push({distance:l,distanceToRay:Math.sqrt(a),point:i,index:e,face:null,object:o})}}function _s(t,e,i,n,r,s,o,a,l){M.call(this,t,e,i,n,r,s,o,a,l),this.format=void 0!==o?o:1022,this.minFilter=void 0!==s?s:1006,this.magFilter=void 0!==r?r:1006,this.generateMipmaps=!1;const c=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback((function e(){c.needsUpdate=!0,t.requestVideoFrameCallback(e)}))}function bs(t,e,i,n,r,s,o,a,l,c,u,h){M.call(this,null,s,o,a,l,c,n,r,u,h),this.image={width:e,height:i},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function ws(t,e,i,n,r,s,o,a,l){M.call(this,t,e,i,n,r,s,o,a,l),this.needsUpdate=!0}function xs(t,e,i,n,r,s,o,a,l,c){if(1026!==(c=void 0!==c?c:1026)&&1027!==c)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&1026===c&&(i=1012),void 0===i&&1027===c&&(i=1020),M.call(this,null,n,r,s,o,a,c,i,l),this.image={width:t,height:e},this.magFilter=void 0!==o?o:1003,this.minFilter=void 0!==a?a:1003,this.flipY=!1,this.generateMipmaps=!1}As.prototype=Object.assign(Object.create(Rt.prototype),{constructor:As,isPoints:!0,copy:function(t){return Rt.prototype.copy.call(this,t),this.material=t.material,this.geometry=t.geometry,this},raycast:function(t,e){const i=this.geometry,n=this.matrixWorld,r=t.params.Points.threshold;if(null===i.boundingSphere&&i.computeBoundingSphere(),ms.copy(i.boundingSphere),ms.applyMatrix4(n),ms.radius+=r,!1===t.ray.intersectsSphere(ms))return;fs.copy(n).invert(),gs.copy(t.ray).applyMatrix4(fs);const s=r/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s;if(i.isBufferGeometry){const r=i.index,s=i.attributes.position;if(null!==r){const i=r.array;for(let r=0,a=i.length;r<a;r++){const a=i[r];vs.fromBufferAttribute(s,a),ys(vs,a,o,n,t,e,this)}}else for(let i=0,a=s.count;i<a;i++)vs.fromBufferAttribute(s,i),ys(vs,i,o,n,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")},updateMorphTargets:function(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,i=Object.keys(e);if(i.length>0){const t=e[i[0]];if(void 0!==t){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let e=0,i=t.length;e<i;e++){const i=t[e].name||String(e);this.morphTargetInfluences.push(0),this.morphTargetDictionary[i]=e}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}),_s.prototype=Object.assign(Object.create(M.prototype),{constructor:_s,clone:function(){return new this.constructor(this.image).copy(this)},isVideoTexture:!0,update:function(){const t=this.image;!1==="requestVideoFrameCallback"in t&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),bs.prototype=Object.create(M.prototype),bs.prototype.constructor=bs,bs.prototype.isCompressedTexture=!0,ws.prototype=Object.create(M.prototype),ws.prototype.constructor=ws,ws.prototype.isCanvasTexture=!0,xs.prototype=Object.create(M.prototype),xs.prototype.constructor=xs,xs.prototype.isDepthTexture=!0,new P,new P,new P,new Yt;const Cs=function(t,e,i){i=i||2;const n=e&&e.length,r=n?e[0]*i:t.length;let s=Es(t,0,r,i,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,c,u,h,d,p;if(n&&(s=function(t,e,i,n){const r=[];let s,o,a,l,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,l=s<o-1?e[s+1]*n:t.length,c=Es(t,a,l,n,!1),c===c.next&&(c.steiner=!0),r.push(Os(c));for(r.sort(Ls),s=0;s<r.length;s++)Rs(r[s],i),i=Ss(i,i.next);return i}(t,e,s,i)),t.length>80*i){a=c=t[0],l=u=t[1];for(let e=i;e<r;e+=i)h=t[e],d=t[e+1],h<a&&(a=h),d<l&&(l=d),h>c&&(c=h),d>u&&(u=d);p=Math.max(c-a,u-l),p=0!==p?1/p:0}return Is(s,o,i,a,l,p),o};function Es(t,e,i,n,r){let s,o;if(r===function(t,e,i,n){let r=0;for(let s=e,o=i-n;s<i;s+=n)r+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return r}(t,e,i,n)>0)for(s=e;s<i;s+=n)o=Ws(s,t[s],t[s+1],o);else for(s=i-n;s>=e;s-=n)o=Ws(s,t[s],t[s+1],o);return o&&Hs(o,o.next)&&(qs(o),o=o.next),o}function Ss(t,e){if(!t)return t;e||(e=t);let i,n=t;do{if(i=!1,n.steiner||!Hs(n,n.next)&&0!==Qs(n.prev,n,n.next))n=n.next;else{if(qs(n),n=e=n.prev,n===n.next)break;i=!0}}while(i||n!==e);return e}function Is(t,e,i,n,r,s,o){if(!t)return;!o&&s&&function(t,e,i,n){let r=t;do{null===r.z&&(r.z=Ds(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){let e,i,n,r,s,o,a,l,c=1;do{for(i=t,t=null,s=null,o=0;i;){for(o++,n=i,a=0,e=0;e<c&&(a++,n=n.nextZ,n);e++);for(l=c;a>0||l>0&&n;)0!==a&&(0===l||!n||i.z<=n.z)?(r=i,i=i.nextZ,a--):(r=n,n=n.nextZ,l--),s?s.nextZ=r:t=r,r.prevZ=s,s=r;i=n}s.nextZ=null,c*=2}while(o>1)}(r)}(t,n,r,s);let a,l,c=t;for(;t.prev!==t.next;)if(a=t.prev,l=t.next,s?Ms(t,n,r,s):Ts(t))e.push(a.i/i),e.push(t.i/i),e.push(l.i/i),qs(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?Is(t=Bs(Ss(t),e,i),e,i,n,r,s,2):2===o&&ks(t,e,i,n,r,s):Is(Ss(t),e,i,n,r,s,1);break}}function Ts(t){const e=t.prev,i=t,n=t.next;if(Qs(e,i,n)>=0)return!1;let r=t.next.next;for(;r!==t.prev;){if(Fs(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&Qs(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function Ms(t,e,i,n){const r=t.prev,s=t,o=t.next;if(Qs(r,s,o)>=0)return!1;const a=r.x<s.x?r.x<o.x?r.x:o.x:s.x<o.x?s.x:o.x,l=r.y<s.y?r.y<o.y?r.y:o.y:s.y<o.y?s.y:o.y,c=r.x>s.x?r.x>o.x?r.x:o.x:s.x>o.x?s.x:o.x,u=r.y>s.y?r.y>o.y?r.y:o.y:s.y>o.y?s.y:o.y,h=Ds(a,l,e,i,n),d=Ds(c,u,e,i,n);let p=t.prevZ,f=t.nextZ;for(;p&&p.z>=h&&f&&f.z<=d;){if(p!==t.prev&&p!==t.next&&Fs(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Qs(p.prev,p,p.next)>=0)return!1;if(p=p.prevZ,f!==t.prev&&f!==t.next&&Fs(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&Qs(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&Fs(r.x,r.y,s.x,s.y,o.x,o.y,p.x,p.y)&&Qs(p.prev,p,p.next)>=0)return!1;p=p.prevZ}for(;f&&f.z<=d;){if(f!==t.prev&&f!==t.next&&Fs(r.x,r.y,s.x,s.y,o.x,o.y,f.x,f.y)&&Qs(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function Bs(t,e,i){let n=t;do{const r=n.prev,s=n.next.next;!Hs(r,s)&&Us(r,n,n.next,s)&&js(r,s)&&js(s,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(s.i/i),qs(n),qs(n.next),n=t=s),n=n.next}while(n!==t);return Ss(n)}function ks(t,e,i,n,r,s){let o=t;do{let t=o.next.next;for(;t!==o.prev;){if(o.i!==t.i&&Ns(o,t)){let a=Vs(o,t);return o=Ss(o,o.next),a=Ss(a,a.next),Is(o,e,i,n,r,s),void Is(a,e,i,n,r,s)}t=t.next}o=o.next}while(o!==t)}function Ls(t,e){return t.x-e.x}function Rs(t,e){if(e=function(t,e){let i=e;const n=t.x,r=t.y;let s,o=-1/0;do{if(r<=i.y&&r>=i.next.y&&i.next.y!==i.y){const t=i.x+(r-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(t<=n&&t>o){if(o=t,t===n){if(r===i.y)return i;if(r===i.next.y)return i.next}s=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!s)return null;if(n===o)return s;const a=s,l=s.x,c=s.y;let u,h=1/0;i=s;do{n>=i.x&&i.x>=l&&n!==i.x&&Fs(r<c?n:o,r,l,c,r<c?o:n,r,i.x,i.y)&&(u=Math.abs(r-i.y)/(n-i.x),js(i,t)&&(u<h||u===h&&(i.x>s.x||i.x===s.x&&Ps(s,i)))&&(s=i,h=u)),i=i.next}while(i!==a);return s}(t,e)){const i=Vs(e,t);Ss(e,e.next),Ss(i,i.next)}}function Ps(t,e){return Qs(t.prev,t,e.prev)<0&&Qs(e.next,t,t.next)<0}function Ds(t,e,i,n,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-i)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-n)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Os(t){let e=t,i=t;do{(e.x<i.x||e.x===i.x&&e.y<i.y)&&(i=e),e=e.next}while(e!==t);return i}function Fs(t,e,i,n,r,s,o,a){return(r-o)*(e-a)-(t-o)*(s-a)>=0&&(t-o)*(n-a)-(i-o)*(e-a)>=0&&(i-o)*(s-a)-(r-o)*(n-a)>=0}function Ns(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){let i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&Us(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}(t,e)&&(js(t,e)&&js(e,t)&&function(t,e){let i=t,n=!1;const r=(t.x+e.x)/2,s=(t.y+e.y)/2;do{i.y>s!=i.next.y>s&&i.next.y!==i.y&&r<(i.next.x-i.x)*(s-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next}while(i!==t);return n}(t,e)&&(Qs(t.prev,t,e.prev)||Qs(t,e.prev,e))||Hs(t,e)&&Qs(t.prev,t,t.next)>0&&Qs(e.prev,e,e.next)>0)}function Qs(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function Hs(t,e){return t.x===e.x&&t.y===e.y}function Us(t,e,i,n){const r=zs(Qs(t,e,i)),s=zs(Qs(t,e,n)),o=zs(Qs(i,n,t)),a=zs(Qs(i,n,e));return r!==s&&o!==a||!(0!==r||!Gs(t,i,e))||!(0!==s||!Gs(t,n,e))||!(0!==o||!Gs(i,t,n))||!(0!==a||!Gs(i,e,n))}function Gs(t,e,i){return e.x<=Math.max(t.x,i.x)&&e.x>=Math.min(t.x,i.x)&&e.y<=Math.max(t.y,i.y)&&e.y>=Math.min(t.y,i.y)}function zs(t){return t>0?1:t<0?-1:0}function js(t,e){return Qs(t.prev,t,t.next)<0?Qs(t,e,t.next)>=0&&Qs(t,t.prev,e)>=0:Qs(t,e,t.prev)<0||Qs(t,t.next,e)<0}function Vs(t,e){const i=new Ys(t.i,t.x,t.y),n=new Ys(e.i,e.x,e.y),r=t.next,s=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,s.next=n,n.prev=s,n}function Ws(t,e,i,n){const r=new Ys(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function qs(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ys(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}const $s={area:function(t){const e=t.length;let i=0;for(let n=e-1,r=0;r<e;n=r++)i+=t[n].x*t[r].y-t[r].x*t[n].y;return.5*i},isClockWise:function(t){return $s.area(t)<0},triangulateShape:function(t,e){const i=[],n=[],r=[];Js(t),Xs(i,t);let s=t.length;e.forEach(Js);for(let a=0;a<e.length;a++)n.push(s),s+=e[a].length,Xs(i,e[a]);const o=Cs(i,n);for(let a=0;a<o.length;a+=3)r.push(o.slice(a,a+3));return r}};function Js(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Xs(t,e){for(let i=0;i<e.length;i++)t.push(e[i].x),t.push(e[i].y)}class Ks extends Me{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const i=this,n=[],r=[];for(let o=0,a=t.length;o<a;o++)s(t[o]);function s(t){const s=[],o=void 0!==e.curveSegments?e.curveSegments:12,a=void 0!==e.steps?e.steps:1;let l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:u-2,d=void 0!==e.bevelOffset?e.bevelOffset:0,p=void 0!==e.bevelSegments?e.bevelSegments:3;const f=e.extrudePath,g=void 0!==e.UVGenerator?e.UVGenerator:Zs;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);let m,v,A,y,_,b=!1;f&&(m=f.getSpacedPoints(a),b=!0,c=!1,v=f.computeFrenetFrames(a,!1),A=new P,y=new P,_=new P),c||(p=0,u=0,h=0,d=0);const w=t.extractPoints(o);let x=w.shape;const E=w.holes;if(!$s.isClockWise(x)){x=x.reverse();for(let t=0,e=E.length;t<e;t++){const e=E[t];$s.isClockWise(e)&&(E[t]=e.reverse())}}const S=$s.triangulateShape(x,E),I=x;for(let e=0,i=E.length;e<i;e++){const t=E[e];x=x.concat(t)}function T(t,e,i){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(i).add(t)}const M=x.length,B=S.length;function k(t,e,i){let n,r,s;const o=t.x-e.x,a=t.y-e.y,l=i.x-t.x,c=i.y-t.y,u=o*o+a*a,h=o*c-a*l;if(Math.abs(h)>Number.EPSILON){const h=Math.sqrt(u),d=Math.sqrt(l*l+c*c),p=e.x-a/h,f=e.y+o/h,g=((i.x-c/d-p)*c-(i.y+l/d-f)*l)/(o*c-a*l);n=p+o*g-t.x,r=f+a*g-t.y;const m=n*n+r*r;if(m<=2)return new C(n,r);s=Math.sqrt(m/2)}else{let t=!1;o>Number.EPSILON?l>Number.EPSILON&&(t=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(t=!0):Math.sign(a)===Math.sign(c)&&(t=!0),t?(n=-a,r=o,s=Math.sqrt(u)):(n=o,r=a,s=Math.sqrt(u/2))}return new C(n/s,r/s)}const L=[];for(let e=0,i=I.length,n=i-1,r=e+1;e<i;e++,n++,r++)n===i&&(n=0),r===i&&(r=0),L[e]=k(I[e],I[n],I[r]);const R=[];let D,O=L.concat();for(let e=0,i=E.length;e<i;e++){const t=E[e];D=[];for(let e=0,i=t.length,n=i-1,r=e+1;e<i;e++,n++,r++)n===i&&(n=0),r===i&&(r=0),D[e]=k(t[e],t[n],t[r]);R.push(D),O=O.concat(D)}for(let e=0;e<p;e++){const t=e/p,i=u*Math.cos(t*Math.PI/2),n=h*Math.sin(t*Math.PI/2)+d;for(let e=0,r=I.length;e<r;e++){const t=T(I[e],L[e],n);Q(t.x,t.y,-i)}for(let e=0,r=E.length;e<r;e++){const t=E[e];D=R[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],D[e],n);Q(r.x,r.y,-i)}}}const F=h+d;for(let e=0;e<M;e++){const t=c?T(x[e],O[e],F):x[e];b?(y.copy(v.normals[0]).multiplyScalar(t.x),A.copy(v.binormals[0]).multiplyScalar(t.y),_.copy(m[0]).add(y).add(A),Q(_.x,_.y,_.z)):Q(t.x,t.y,0)}for(let e=1;e<=a;e++)for(let t=0;t<M;t++){const i=c?T(x[t],O[t],F):x[t];b?(y.copy(v.normals[e]).multiplyScalar(i.x),A.copy(v.binormals[e]).multiplyScalar(i.y),_.copy(m[e]).add(y).add(A),Q(_.x,_.y,_.z)):Q(i.x,i.y,l/a*e)}for(let e=p-1;e>=0;e--){const t=e/p,i=u*Math.cos(t*Math.PI/2),n=h*Math.sin(t*Math.PI/2)+d;for(let e=0,r=I.length;e<r;e++){const t=T(I[e],L[e],n);Q(t.x,t.y,l+i)}for(let e=0,r=E.length;e<r;e++){const t=E[e];D=R[e];for(let e=0,r=t.length;e<r;e++){const r=T(t[e],D[e],n);b?Q(r.x,r.y+m[a-1].y,m[a-1].x+i):Q(r.x,r.y,l+i)}}}function N(t,e){let i=t.length;for(;--i>=0;){const n=i;let r=i-1;r<0&&(r=t.length-1);for(let t=0,i=a+2*p;t<i;t++){const i=M*t,s=M*(t+1);U(e+n+i,e+r+i,e+r+s,e+n+s)}}}function Q(t,e,i){s.push(t),s.push(e),s.push(i)}function H(t,e,r){G(t),G(e),G(r);const s=n.length/3,o=g.generateTopUV(i,n,s-3,s-2,s-1);z(o[0]),z(o[1]),z(o[2])}function U(t,e,r,s){G(t),G(e),G(s),G(e),G(r),G(s);const o=n.length/3,a=g.generateSideWallUV(i,n,o-6,o-3,o-2,o-1);z(a[0]),z(a[1]),z(a[3]),z(a[1]),z(a[2]),z(a[3])}function G(t){n.push(s[3*t+0]),n.push(s[3*t+1]),n.push(s[3*t+2])}function z(t){r.push(t.x),r.push(t.y)}!function(){const t=n.length/3;if(c){let t=0,e=M*t;for(let i=0;i<B;i++){const t=S[i];H(t[2]+e,t[1]+e,t[0]+e)}t=a+2*p,e=M*t;for(let i=0;i<B;i++){const t=S[i];H(t[0]+e,t[1]+e,t[2]+e)}}else{for(let t=0;t<B;t++){const e=S[t];H(e[2],e[1],e[0])}for(let t=0;t<B;t++){const e=S[t];H(e[0]+M*a,e[1]+M*a,e[2]+M*a)}}i.addGroup(t,n.length/3-t,0)}(),function(){const t=n.length/3;let e=0;N(I,e),e+=I.length;for(let i=0,n=E.length;i<n;i++){const t=E[i];N(t,e),e+=t.length}i.addGroup(t,n.length/3-t,1)}()}this.setAttribute("position",new ve(n,3)),this.setAttribute("uv",new ve(r,2)),this.computeVertexNormals()}toJSON(){const t=Me.prototype.toJSON.call(this);return function(t,e,i){if(i.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const e=t[n];i.shapes.push(e.uuid)}else i.shapes.push(t.uuid);return void 0!==e.extrudePath&&(i.options.extrudePath=e.extrudePath.toJSON()),i}(this.parameters.shapes,this.parameters.options,t)}}const Zs={generateTopUV:function(t,e,i,n,r){const s=e[3*i],o=e[3*i+1],a=e[3*n],l=e[3*n+1],c=e[3*r],u=e[3*r+1];return[new C(s,o),new C(a,l),new C(c,u)]},generateSideWallUV:function(t,e,i,n,r,s){const o=e[3*i],a=e[3*i+1],l=e[3*i+2],c=e[3*n],u=e[3*n+1],h=e[3*n+2],d=e[3*r],p=e[3*r+1],f=e[3*r+2],g=e[3*s],m=e[3*s+1],v=e[3*s+2];return Math.abs(a-u)<.01?[new C(o,1-l),new C(c,1-h),new C(d,1-f),new C(g,1-v)]:[new C(a,1-l),new C(u,1-h),new C(p,1-f),new C(m,1-v)]}};function to(t,e,i){Me.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:i};const n=[],r=[],s=[],o=[],a=1e-5,l=new P,c=new P,u=new P,h=new P,d=new P;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");const p=e+1;for(let f=0;f<=i;f++){const n=f/i;for(let i=0;i<=e;i++){const p=i/e;t(p,n,c),r.push(c.x,c.y,c.z),p-a>=0?(t(p-a,n,u),h.subVectors(c,u)):(t(p+a,n,u),h.subVectors(u,c)),n-a>=0?(t(p,n-a,u),d.subVectors(c,u)):(t(p,n+a,u),d.subVectors(u,c)),l.crossVectors(h,d).normalize(),s.push(l.x,l.y,l.z),o.push(p,n)}}for(let f=0;f<i;f++)for(let t=0;t<e;t++){const e=f*p+t,i=f*p+t+1,r=(f+1)*p+t+1,s=(f+1)*p+t;n.push(e,i,s),n.push(i,r,s)}this.setIndex(n),this.setAttribute("position",new ve(r,3)),this.setAttribute("normal",new ve(s,3)),this.setAttribute("uv",new ve(o,2))}to.prototype=Object.create(Me.prototype),to.prototype.constructor=to;class eo extends Me{constructor(t,e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const i=[],n=[],r=[],s=[];let o=0,a=0;if(!1===Array.isArray(t))l(t);else for(let c=0;c<t.length;c++)l(t[c]),this.addGroup(o,a,c),o+=a,a=0;function l(t){const o=n.length/3,l=t.extractPoints(e);let c=l.shape;const u=l.holes;!1===$s.isClockWise(c)&&(c=c.reverse());for(let e=0,i=u.length;e<i;e++){const t=u[e];!0===$s.isClockWise(t)&&(u[e]=t.reverse())}const h=$s.triangulateShape(c,u);for(let e=0,i=u.length;e<i;e++){const t=u[e];c=c.concat(t)}for(let e=0,i=c.length;e<i;e++){const t=c[e];n.push(t.x,t.y,0),r.push(0,0,1),s.push(t.x,t.y)}for(let e=0,n=h.length;e<n;e++){const t=h[e],n=t[0]+o,r=t[1]+o,s=t[2]+o;i.push(n,r,s),a+=3}}this.setIndex(i),this.setAttribute("position",new ve(n,3)),this.setAttribute("normal",new ve(r,3)),this.setAttribute("uv",new ve(s,2))}toJSON(){const t=Me.prototype.toJSON.call(this);return function(t,e){if(e.shapes=[],Array.isArray(t))for(let i=0,n=t.length;i<n;i++){const n=t[i];e.shapes.push(n.uuid)}else e.shapes.push(t.uuid);return e}(this.parameters.shapes,t)}}function io(t){re.call(this),this.type="ShadowMaterial",this.color=new ee(0),this.transparent=!0,this.setValues(t)}function no(t){Ze.call(this,t),this.type="RawShaderMaterial"}function ro(t){re.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ee(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new C(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.vertexTangents=!1,this.setValues(t)}function so(t){ro.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoat=0,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new C(1,1),this.clearcoatNormalMap=null,this.reflectivity=.5,Object.defineProperty(this,"ior",{get:function(){return(1+.4*this.reflectivity)/(1-.4*this.reflectivity)},set:function(t){this.reflectivity=x.clamp(2.5*(t-1)/(t+1),0,1)}}),this.sheen=null,this.transmission=0,this.transmissionMap=null,this.setValues(t)}function oo(t){re.call(this),this.type="MeshPhongMaterial",this.color=new ee(16777215),this.specular=new ee(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new C(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ao(t){re.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ee(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new C(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function lo(t){re.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new C(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function co(t){re.call(this),this.type="MeshLambertMaterial",this.color=new ee(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ee(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function uo(t){re.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ee(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new C(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ho(t){is.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}io.prototype=Object.create(re.prototype),io.prototype.constructor=io,io.prototype.isShadowMaterial=!0,io.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this},no.prototype=Object.create(Ze.prototype),no.prototype.constructor=no,no.prototype.isRawShaderMaterial=!0,ro.prototype=Object.create(re.prototype),ro.prototype.constructor=ro,ro.prototype.isMeshStandardMaterial=!0,ro.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.vertexTangents=t.vertexTangents,this},so.prototype=Object.create(ro.prototype),so.prototype.constructor=so,so.prototype.isMeshPhysicalMaterial=!0,so.prototype.copy=function(t){return ro.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.reflectivity=t.reflectivity,t.sheen?this.sheen=(this.sheen||new ee).copy(t.sheen):this.sheen=null,this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this},oo.prototype=Object.create(re.prototype),oo.prototype.constructor=oo,oo.prototype.isMeshPhongMaterial=!0,oo.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ao.prototype=Object.create(re.prototype),ao.prototype.constructor=ao,ao.prototype.isMeshToonMaterial=!0,ao.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},lo.prototype=Object.create(re.prototype),lo.prototype.constructor=lo,lo.prototype.isMeshNormalMaterial=!0,lo.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},co.prototype=Object.create(re.prototype),co.prototype.constructor=co,co.prototype.isMeshLambertMaterial=!0,co.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},uo.prototype=Object.create(re.prototype),uo.prototype.constructor=uo,uo.prototype.isMeshMatcapMaterial=!0,uo.prototype.copy=function(t){return re.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ho.prototype=Object.create(is.prototype),ho.prototype.constructor=ho,ho.prototype.isLineDashedMaterial=!0,ho.prototype.copy=function(t){return is.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var po=Object.freeze({__proto__:null,ShadowMaterial:io,SpriteMaterial:wr,RawShaderMaterial:no,ShaderMaterial:Ze,PointsMaterial:ps,MeshPhysicalMaterial:so,MeshStandardMaterial:ro,MeshPhongMaterial:oo,MeshToonMaterial:ao,MeshNormalMaterial:lo,MeshLambertMaterial:co,MeshDepthMaterial:sr,MeshDistanceMaterial:or,MeshBasicMaterial:se,MeshMatcapMaterial:uo,LineDashedMaterial:ho,LineBasicMaterial:is,Material:re});const fo={arraySlice:function(t,e,i){return fo.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==i?i:t.length)):t.slice(e,i)},convertArray:function(t,e,i){return!t||!i&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){const e=t.length,i=new Array(e);for(let n=0;n!==e;++n)i[n]=n;return i.sort((function(e,i){return t[e]-t[i]})),i},sortedArray:function(t,e,i){const n=t.length,r=new t.constructor(n);for(let s=0,o=0;o!==n;++s){const n=i[s]*e;for(let i=0;i!==e;++i)r[o++]=t[n+i]}return r},flattenJSON:function(t,e,i,n){let r=1,s=t[0];for(;void 0!==s&&void 0===s[n];)s=t[r++];if(void 0===s)return;let o=s[n];if(void 0!==o)if(Array.isArray(o))do{o=s[n],void 0!==o&&(e.push(s.time),i.push.apply(i,o)),s=t[r++]}while(void 0!==s);else if(void 0!==o.toArray)do{o=s[n],void 0!==o&&(e.push(s.time),o.toArray(i,i.length)),s=t[r++]}while(void 0!==s);else do{o=s[n],void 0!==o&&(e.push(s.time),i.push(o)),s=t[r++]}while(void 0!==s)},subclip:function(t,e,i,n,r=30){const s=t.clone();s.name=e;const o=[];for(let l=0;l<s.tracks.length;++l){const t=s.tracks[l],e=t.getValueSize(),a=[],c=[];for(let s=0;s<t.times.length;++s){const o=t.times[s]*r;if(!(o<i||o>=n)){a.push(t.times[s]);for(let i=0;i<e;++i)c.push(t.values[s*e+i])}}0!==a.length&&(t.times=fo.convertArray(a,t.times.constructor),t.values=fo.convertArray(c,t.values.constructor),o.push(t))}s.tracks=o;let a=1/0;for(let l=0;l<s.tracks.length;++l)a>s.tracks[l].times[0]&&(a=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*a);return s.resetDuration(),s},makeClipAdditive:function(t,e=0,i=t,n=30){n<=0&&(n=30);const r=i.tracks.length,s=e/n;for(let o=0;o<r;++o){const e=i.tracks[o],n=e.ValueTypeName;if("bool"===n||"string"===n)continue;const r=t.tracks.find((function(t){return t.name===e.name&&t.ValueTypeName===n}));if(void 0===r)continue;let a=0;const l=e.getValueSize();e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(a=l/3);let c=0;const u=r.getValueSize();r.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=u/3);const h=e.times.length-1;let d;if(s<=e.times[0]){const t=a,i=l-a;d=fo.arraySlice(e.values,t,i)}else if(s>=e.times[h]){const t=h*l+a,i=t+l-a;d=fo.arraySlice(e.values,t,i)}else{const t=e.createInterpolant(),i=a,n=l-a;t.evaluate(s),d=fo.arraySlice(t.resultBuffer,i,n)}"quaternion"===n&&(new R).fromArray(d).normalize().conjugate().toArray(d);const p=r.times.length;for(let t=0;t<p;++t){const e=t*u+c;if("quaternion"===n)R.multiplyQuaternionsFlat(r.values,e,d,0,r.values,e);else{const t=u-2*c;for(let i=0;i<t;++i)r.values[e+i]-=d[i]}}}return t.blendMode=2501,t}};function go(t,e,i,n){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new e.constructor(i),this.sampleValues=e,this.valueSize=i}function mo(t,e,i,n){go.call(this,t,e,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function vo(t,e,i,n){go.call(this,t,e,i,n)}function Ao(t,e,i,n){go.call(this,t,e,i,n)}function yo(t,e,i,n){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=fo.convertArray(e,this.TimeBufferType),this.values=fo.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}function _o(t,e,i){yo.call(this,t,e,i)}function bo(t,e,i,n){yo.call(this,t,e,i,n)}function wo(t,e,i,n){yo.call(this,t,e,i,n)}function xo(t,e,i,n){go.call(this,t,e,i,n)}function Co(t,e,i,n){yo.call(this,t,e,i,n)}function Eo(t,e,i,n){yo.call(this,t,e,i,n)}function So(t,e,i,n){yo.call(this,t,e,i,n)}function Io(t,e=-1,i,n=2500){this.name=t,this.tracks=i,this.duration=e,this.blendMode=n,this.uuid=x.generateUUID(),this.duration<0&&this.resetDuration()}function To(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return wo;case"vector":case"vector2":case"vector3":case"vector4":return So;case"color":return bo;case"quaternion":return Co;case"bool":case"boolean":return _o;case"string":return Eo}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){const e=[],i=[];fo.flattenJSON(t.keys,e,i,"value"),t.times=e,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(go.prototype,{evaluate:function(t){const e=this.parameterPositions;let i=this._cachedIndex,n=e[i],r=e[i-1];t:{e:{let s;i:{n:if(!(t<n)){for(let s=i+2;;){if(void 0===n){if(t<r)break n;return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,t,r)}if(i===s)break;if(r=n,n=e[++i],t<n)break e}s=e.length;break i}if(t>=r)break t;{const o=e[1];t<o&&(i=2,r=o);for(let s=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(i===s)break;if(n=r,r=e[--i-1],t>=r)break e}s=i,i=0}}for(;i<s;){const n=i+s>>>1;t<e[n]?s=n:i=n+1}if(n=e[i],r=e[i-1],void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,n);if(void 0===n)return i=e.length,this._cachedIndex=i,this.afterEnd_(i-1,r,t)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,t,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){const e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n;for(let s=0;s!==n;++s)e[s]=i[r+s];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(go.prototype,{beforeStart_:go.prototype.copySampleValue_,afterEnd_:go.prototype.copySampleValue_}),mo.prototype=Object.assign(Object.create(go.prototype),{constructor:mo,DefaultSettings_:{endingStart:2400,endingEnd:2400},intervalChanged_:function(t,e,i){const n=this.parameterPositions;let r=t-2,s=t+1,o=n[r],a=n[s];if(void 0===o)switch(this.getSettings_().endingStart){case 2401:r=t,o=2*e-i;break;case 2402:r=n.length-2,o=e+n[r]-n[r+1];break;default:r=t,o=i}if(void 0===a)switch(this.getSettings_().endingEnd){case 2401:s=t,a=2*i-e;break;case 2402:s=1,a=i+n[1]-n[0];break;default:s=t-1,a=e}const l=.5*(i-e),c=this.valueSize;this._weightPrev=l/(e-o),this._weightNext=l/(a-i),this._offsetPrev=r*c,this._offsetNext=s*c},interpolate_:function(t,e,i,n){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,l=a-o,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,d=this._weightNext,p=(i-e)/(n-e),f=p*p,g=f*p,m=-h*g+2*h*f-h*p,v=(1+h)*g+(-1.5-2*h)*f+(-.5+h)*p+1,A=(-1-d)*g+(1.5+d)*f+.5*p,y=d*g-d*f;for(let _=0;_!==o;++_)r[_]=m*s[c+_]+v*s[l+_]+A*s[a+_]+y*s[u+_];return r}}),vo.prototype=Object.assign(Object.create(go.prototype),{constructor:vo,interpolate_:function(t,e,i,n){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=t*o,l=a-o,c=(i-e)/(n-e),u=1-c;for(let h=0;h!==o;++h)r[h]=s[l+h]*u+s[a+h]*c;return r}}),Ao.prototype=Object.assign(Object.create(go.prototype),{constructor:Ao,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(yo,{toJSON:function(t){const e=t.constructor;let i;if(void 0!==e.toJSON)i=e.toJSON(t);else{i={name:t.name,times:fo.convertArray(t.times,Array),values:fo.convertArray(t.values,Array)};const e=t.getInterpolation();e!==t.DefaultInterpolation&&(i.interpolation=e)}return i.type=t.ValueTypeName,i}}),Object.assign(yo.prototype,{constructor:yo,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(t){return new Ao(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new vo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new mo(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const e="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(e);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",e),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]+=t}return this},scale:function(t){if(1!==t){const e=this.times;for(let i=0,n=e.length;i!==n;++i)e[i]*=t}return this},trim:function(t,e){const i=this.times,n=i.length;let r=0,s=n-1;for(;r!==n&&i[r]<t;)++r;for(;-1!==s&&i[s]>e;)--s;if(++s,0!==r||s!==n){r>=s&&(s=Math.max(s,1),r=s-1);const t=this.getValueSize();this.times=fo.arraySlice(i,r,s),this.values=fo.arraySlice(this.values,r*t,s*t)}return this},validate:function(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const i=this.times,n=this.values,r=i.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let s=null;for(let o=0;o!==r;o++){const e=i[o];if("number"==typeof e&&isNaN(e)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,e),t=!1;break}if(null!==s&&s>e){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,e,s),t=!1;break}s=e}if(void 0!==n&&fo.isTypedArray(n))for(let o=0,a=n.length;o!==a;++o){const e=n[o];if(isNaN(e)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,e),t=!1;break}}return t},optimize:function(){const t=fo.arraySlice(this.times),e=fo.arraySlice(this.values),i=this.getValueSize(),n=2302===this.getInterpolation(),r=t.length-1;let s=1;for(let o=1;o<r;++o){let r=!1;const a=t[o];if(a!==t[o+1]&&(1!==o||a!==t[0]))if(n)r=!0;else{const t=o*i,n=t-i,s=t+i;for(let o=0;o!==i;++o){const i=e[t+o];if(i!==e[n+o]||i!==e[s+o]){r=!0;break}}}if(r){if(o!==s){t[s]=t[o];const n=o*i,r=s*i;for(let t=0;t!==i;++t)e[r+t]=e[n+t]}++s}}if(r>0){t[s]=t[r];for(let t=r*i,n=s*i,o=0;o!==i;++o)e[n+o]=e[t+o];++s}return s!==t.length?(this.times=fo.arraySlice(t,0,s),this.values=fo.arraySlice(e,0,s*i)):(this.times=t,this.values=e),this},clone:function(){const t=fo.arraySlice(this.times,0),e=fo.arraySlice(this.values,0),i=new(0,this.constructor)(this.name,t,e);return i.createInterpolant=this.createInterpolant,i}}),_o.prototype=Object.assign(Object.create(yo.prototype),{constructor:_o,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),bo.prototype=Object.assign(Object.create(yo.prototype),{constructor:bo,ValueTypeName:"color"}),wo.prototype=Object.assign(Object.create(yo.prototype),{constructor:wo,ValueTypeName:"number"}),xo.prototype=Object.assign(Object.create(go.prototype),{constructor:xo,interpolate_:function(t,e,i,n){const r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=(i-e)/(n-e);let l=t*o;for(let c=l+o;l!==c;l+=4)R.slerpFlat(r,0,s,l-o,s,l,a);return r}}),Co.prototype=Object.assign(Object.create(yo.prototype),{constructor:Co,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(t){return new xo(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),Eo.prototype=Object.assign(Object.create(yo.prototype),{constructor:Eo,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),So.prototype=Object.assign(Object.create(yo.prototype),{constructor:So,ValueTypeName:"vector"}),Object.assign(Io,{parse:function(t){const e=[],i=t.tracks,n=1/(t.fps||1);for(let s=0,o=i.length;s!==o;++s)e.push(To(i[s]).scale(n));const r=new Io(t.name,t.duration,e,t.blendMode);return r.uuid=t.uuid,r},toJSON:function(t){const e=[],i=t.tracks,n={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let r=0,s=i.length;r!==s;++r)e.push(yo.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(t,e,i,n){const r=e.length,s=[];for(let o=0;o<r;o++){let t=[],a=[];t.push((o+r-1)%r,o,(o+1)%r),a.push(0,1,0);const l=fo.getKeyframeOrder(t);t=fo.sortedArray(t,1,l),a=fo.sortedArray(a,1,l),n||0!==t[0]||(t.push(r),a.push(a[0])),s.push(new wo(".morphTargetInfluences["+e[o].name+"]",t,a).scale(1/i))}return new Io(t,-1,s)},findByName:function(t,e){let i=t;if(!Array.isArray(t)){const e=t;i=e.geometry&&e.geometry.animations||e.animations}for(let n=0;n<i.length;n++)if(i[n].name===e)return i[n];return null},CreateClipsFromMorphTargetSequences:function(t,e,i){const n={},r=/^([\w-]*?)([\d]+)$/;for(let o=0,a=t.length;o<a;o++){const e=t[o],i=e.name.match(r);if(i&&i.length>1){const t=i[1];let r=n[t];r||(n[t]=r=[]),r.push(e)}}const s=[];for(const o in n)s.push(Io.CreateFromMorphTargetSequence(o,n[o],e,i));return s},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(t,e,i,n,r){if(0!==i.length){const s=[],o=[];fo.flattenJSON(i,s,o,n),0!==s.length&&r.push(new t(e,s,o))}},n=[],r=t.name||"default",s=t.fps||30,o=t.blendMode;let a=t.length||-1;const l=t.hierarchy||[];for(let c=0;c<l.length;c++){const t=l[c].keys;if(t&&0!==t.length)if(t[0].morphTargets){const e={};let i;for(i=0;i<t.length;i++)if(t[i].morphTargets)for(let n=0;n<t[i].morphTargets.length;n++)e[t[i].morphTargets[n]]=-1;for(const r in e){const e=[],s=[];for(let n=0;n!==t[i].morphTargets.length;++n){const n=t[i];e.push(n.time),s.push(n.morphTarget===r?1:0)}n.push(new wo(".morphTargetInfluence["+r+"]",e,s))}a=e.length*(s||1)}else{const r=".bones["+e[c].name+"]";i(So,r+".position",t,"pos",n),i(Co,r+".quaternion",t,"rot",n),i(So,r+".scale",t,"scl",n)}}return 0===n.length?null:new Io(r,a,n,o)}}),Object.assign(Io.prototype,{resetDuration:function(){let t=0;for(let e=0,i=this.tracks.length;e!==i;++e){const i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new Io(this.name,this.duration,t,this.blendMode)},toJSON:function(){return Io.toJSON(this)}});const Mo={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}},Bo=new function(t,e,i){const n=this;let r=!1,s=0,o=0,a=void 0;const l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=i,this.itemStart=function(t){o++,!1===r&&void 0!==n.onStart&&n.onStart(t,s,o),r=!0},this.itemEnd=function(t){s++,void 0!==n.onProgress&&n.onProgress(t,s,o),s===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(t){void 0!==n.onError&&n.onError(t)},this.resolveURL=function(t){return a?a(t):t},this.setURLModifier=function(t){return a=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){const e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(let e=0,i=l.length;e<i;e+=2){const i=l[e],n=l[e+1];if(i.global&&(i.lastIndex=0),i.test(t))return n}return null}};function ko(t){this.manager=void 0!==t?t:Bo,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}Object.assign(ko.prototype,{load:function(){},loadAsync:function(t,e){const i=this;return new Promise((function(n,r){i.load(t,n,e,r)}))},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}});const Lo={};function Ro(t){ko.call(this,t)}function Po(t){ko.call(this,t)}function Do(t){ko.call(this,t)}function Oo(t){ko.call(this,t)}function Fo(t){ko.call(this,t)}function No(t){ko.call(this,t)}function Qo(t){ko.call(this,t)}function Ho(){this.type="Curve",this.arcLengthDivisions=200}function Uo(t,e,i,n,r,s,o,a){Ho.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=i||1,this.yRadius=n||1,this.aStartAngle=r||0,this.aEndAngle=s||2*Math.PI,this.aClockwise=o||!1,this.aRotation=a||0}function Go(t,e,i,n,r,s){Uo.call(this,t,e,i,i,n,r,s),this.type="ArcCurve"}function zo(){let t=0,e=0,i=0,n=0;function r(r,s,o,a){t=r,e=o,i=-3*r+3*s-2*o-a,n=2*r-2*s+o+a}return{initCatmullRom:function(t,e,i,n,s){r(e,i,s*(i-t),s*(n-e))},initNonuniformCatmullRom:function(t,e,i,n,s,o,a){let l=(e-t)/s-(i-t)/(s+o)+(i-e)/o,c=(i-e)/o-(n-e)/(o+a)+(n-i)/a;l*=o,c*=o,r(e,i,l,c)},calc:function(r){const s=r*r;return t+e*r+i*s+n*(s*r)}}}Ro.prototype=Object.assign(Object.create(ko.prototype),{constructor:Ro,load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Mo.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;if(void 0!==Lo[t])return void Lo[t].push({onLoad:e,onProgress:i,onError:n});const o=t.match(/^data:(.*?)(;base64)?,(.*)$/);let a;if(o){const i=o[1],s=!!o[2];let a=o[3];a=decodeURIComponent(a),s&&(a=atob(a));try{let n;const s=(this.responseType||"").toLowerCase();switch(s){case"arraybuffer":case"blob":const t=new Uint8Array(a.length);for(let i=0;i<a.length;i++)t[i]=a.charCodeAt(i);n="blob"===s?new Blob([t.buffer],{type:i}):t.buffer;break;case"document":const e=new DOMParser;n=e.parseFromString(a,i);break;case"json":n=JSON.parse(a);break;default:n=a}setTimeout((function(){e&&e(n),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{Lo[t]=[],Lo[t].push({onLoad:e,onProgress:i,onError:n}),a=new XMLHttpRequest,a.open("GET",t,!0),a.addEventListener("load",(function(e){const i=this.response,n=Lo[t];if(delete Lo[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),Mo.add(t,i);for(let t=0,e=n.length;t<e;t++){const e=n[t];e.onLoad&&e.onLoad(i)}r.manager.itemEnd(t)}else{for(let t=0,i=n.length;t<i;t++){const i=n[t];i.onError&&i.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),a.addEventListener("progress",(function(e){const i=Lo[t];for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onProgress&&n.onProgress(e)}}),!1),a.addEventListener("error",(function(e){const i=Lo[t];delete Lo[t];for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),a.addEventListener("abort",(function(e){const i=Lo[t];delete Lo[t];for(let t=0,n=i.length;t<n;t++){const n=i[t];n.onError&&n.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(a.responseType=this.responseType),void 0!==this.withCredentials&&(a.withCredentials=this.withCredentials),a.overrideMimeType&&a.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const t in this.requestHeader)a.setRequestHeader(t,this.requestHeader[t]);a.send(null)}return r.manager.itemStart(t),a},setResponseType:function(t){return this.responseType=t,this},setMimeType:function(t){return this.mimeType=t,this}}),Po.prototype=Object.assign(Object.create(ko.prototype),{constructor:Po,load:function(t,e,i,n){const r=this,s=new Ro(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(i){try{e(r.parse(JSON.parse(i)))}catch(e){n?n(e):console.error(e),r.manager.itemError(t)}}),i,n)},parse:function(t){const e=[];for(let i=0;i<t.length;i++){const n=Io.parse(t[i]);e.push(n)}return e}}),Do.prototype=Object.assign(Object.create(ko.prototype),{constructor:Do,load:function(t,e,i,n){const r=this,s=[],o=new bs,a=new Ro(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(r.withCredentials);let l=0;function c(c){a.load(t[c],(function(t){const i=r.parse(t,!0);s[c]={width:i.width,height:i.height,format:i.format,mipmaps:i.mipmaps},l+=1,6===l&&(1===i.mipmapCount&&(o.minFilter=1006),o.image=s,o.format=i.format,o.needsUpdate=!0,e&&e(o))}),i,n)}if(Array.isArray(t))for(let u=0,h=t.length;u<h;++u)c(u);else a.load(t,(function(t){const i=r.parse(t,!0);if(i.isCubemap){const t=i.mipmaps.length/i.mipmapCount;for(let e=0;e<t;e++){s[e]={mipmaps:[]};for(let t=0;t<i.mipmapCount;t++)s[e].mipmaps.push(i.mipmaps[e*i.mipmapCount+t]),s[e].format=i.format,s[e].width=i.width,s[e].height=i.height}o.image=s}else o.image.width=i.width,o.image.height=i.height,o.mipmaps=i.mipmaps;1===i.mipmapCount&&(o.minFilter=1006),o.format=i.format,o.needsUpdate=!0,e&&e(o)}),i,n);return o}}),Oo.prototype=Object.assign(Object.create(ko.prototype),{constructor:Oo,load:function(t,e,i,n){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Mo.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;const o=document.createElementNS("http://www.w3.org/1999/xhtml","img");function a(){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),Mo.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){o.removeEventListener("load",a,!1),o.removeEventListener("error",l,!1),n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)}return o.addEventListener("load",a,!1),o.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),r.manager.itemStart(t),o.src=t,o}}),Fo.prototype=Object.assign(Object.create(ko.prototype),{constructor:Fo,load:function(t,e,i,n){const r=new ni,s=new Oo(this.manager);s.setCrossOrigin(this.crossOrigin),s.setPath(this.path);let o=0;function a(i){s.load(t[i],(function(t){r.images[i]=t,o++,6===o&&(r.needsUpdate=!0,e&&e(r))}),void 0,n)}for(let l=0;l<t.length;++l)a(l);return r}}),No.prototype=Object.assign(Object.create(ko.prototype),{constructor:No,load:function(t,e,i,n){const r=this,s=new si,o=new Ro(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(r.withCredentials),o.load(t,(function(t){const i=r.parse(t);i&&(void 0!==i.image?s.image=i.image:void 0!==i.data&&(s.image.width=i.width,s.image.height=i.height,s.image.data=i.data),s.wrapS=void 0!==i.wrapS?i.wrapS:1001,s.wrapT=void 0!==i.wrapT?i.wrapT:1001,s.magFilter=void 0!==i.magFilter?i.magFilter:1006,s.minFilter=void 0!==i.minFilter?i.minFilter:1006,s.anisotropy=void 0!==i.anisotropy?i.anisotropy:1,void 0!==i.encoding&&(s.encoding=i.encoding),void 0!==i.flipY&&(s.flipY=i.flipY),void 0!==i.format&&(s.format=i.format),void 0!==i.type&&(s.type=i.type),void 0!==i.mipmaps&&(s.mipmaps=i.mipmaps,s.minFilter=1008),1===i.mipmapCount&&(s.minFilter=1006),s.needsUpdate=!0,e&&e(s,i))}),i,n),s}}),Qo.prototype=Object.assign(Object.create(ko.prototype),{constructor:Qo,load:function(t,e,i,n){const r=new M,s=new Oo(this.manager);return s.setCrossOrigin(this.crossOrigin),s.setPath(this.path),s.load(t,(function(i){r.image=i;const n=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=n?1022:1023,r.needsUpdate=!0,void 0!==e&&e(r)}),i,n),r}}),Object.assign(Ho.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){const i=this.getUtoTmapping(t);return this.getPoint(i,e)},getPoints:function(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return e},getSpacedPoints:function(t=5){const e=[];for(let i=0;i<=t;i++)e.push(this.getPointAt(i/t));return e},getLength:function(){const t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let i,n=this.getPoint(0),r=0;e.push(0);for(let s=1;s<=t;s++)i=this.getPoint(s/t),r+=i.distanceTo(n),e.push(r),n=i;return this.cacheArcLengths=e,e},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){const i=this.getLengths();let n=0;const r=i.length;let s;s=e||t*i[r-1];let o,a=0,l=r-1;for(;a<=l;)if(n=Math.floor(a+(l-a)/2),o=i[n]-s,o<0)a=n+1;else{if(!(o>0)){l=n;break}l=n-1}if(n=l,i[n]===s)return n/(r-1);const c=i[n];return(n+(s-c)/(i[n+1]-c))/(r-1)},getTangent:function(t,e){const i=1e-4;let n=t-i,r=t+i;n<0&&(n=0),r>1&&(r=1);const s=this.getPoint(n),o=this.getPoint(r),a=e||(s.isVector2?new C:new P);return a.copy(o).sub(s).normalize(),a},getTangentAt:function(t,e){const i=this.getUtoTmapping(t);return this.getTangent(i,e)},computeFrenetFrames:function(t,e){const i=new P,n=[],r=[],s=[],o=new P,a=new lt;for(let d=0;d<=t;d++){const e=d/t;n[d]=this.getTangentAt(e,new P),n[d].normalize()}r[0]=new P,s[0]=new P;let l=Number.MAX_VALUE;const c=Math.abs(n[0].x),u=Math.abs(n[0].y),h=Math.abs(n[0].z);c<=l&&(l=c,i.set(1,0,0)),u<=l&&(l=u,i.set(0,1,0)),h<=l&&i.set(0,0,1),o.crossVectors(n[0],i).normalize(),r[0].crossVectors(n[0],o),s[0].crossVectors(n[0],r[0]);for(let d=1;d<=t;d++){if(r[d]=r[d-1].clone(),s[d]=s[d-1].clone(),o.crossVectors(n[d-1],n[d]),o.length()>Number.EPSILON){o.normalize();const t=Math.acos(x.clamp(n[d-1].dot(n[d]),-1,1));r[d].applyMatrix4(a.makeRotationAxis(o,t))}s[d].crossVectors(n[d],r[d])}if(!0===e){let e=Math.acos(x.clamp(r[0].dot(r[t]),-1,1));e/=t,n[0].dot(o.crossVectors(r[0],r[t]))>0&&(e=-e);for(let i=1;i<=t;i++)r[i].applyMatrix4(a.makeRotationAxis(n[i],e*i)),s[i].crossVectors(n[i],r[i])}return{tangents:n,normals:r,binormals:s}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Uo.prototype=Object.create(Ho.prototype),Uo.prototype.constructor=Uo,Uo.prototype.isEllipseCurve=!0,Uo.prototype.getPoint=function(t,e){const i=e||new C,n=2*Math.PI;let r=this.aEndAngle-this.aStartAngle;const s=Math.abs(r)<Number.EPSILON;for(;r<0;)r+=n;for(;r>n;)r-=n;r<Number.EPSILON&&(r=s?0:n),!0!==this.aClockwise||s||(r===n?r=-n:r-=n);const o=this.aStartAngle+t*r;let a=this.aX+this.xRadius*Math.cos(o),l=this.aY+this.yRadius*Math.sin(o);if(0!==this.aRotation){const t=Math.cos(this.aRotation),e=Math.sin(this.aRotation),i=a-this.aX,n=l-this.aY;a=i*t-n*e+this.aX,l=i*e+n*t+this.aY}return i.set(a,l)},Uo.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Uo.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Uo.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Go.prototype=Object.create(Uo.prototype),Go.prototype.constructor=Go,Go.prototype.isArcCurve=!0;const jo=new P,Vo=new zo,Wo=new zo,qo=new zo;function Yo(t=[],e=!1,i="centripetal",n=.5){Ho.call(this),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=i,this.tension=n}function $o(t,e,i,n,r){const s=.5*(n-e),o=.5*(r-i),a=t*t;return(2*i-2*n+s+o)*(t*a)+(-3*i+3*n-2*s-o)*a+s*t+i}function Jo(t,e,i,n){return function(t,e){const i=1-t;return i*i*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,i)+function(t,e){return t*t*e}(t,n)}function Xo(t,e,i,n,r){return function(t,e){const i=1-t;return i*i*i*e}(t,e)+function(t,e){const i=1-t;return 3*i*i*t*e}(t,i)+function(t,e){return 3*(1-t)*t*t*e}(t,n)+function(t,e){return t*t*t*e}(t,r)}function Ko(t=new C,e=new C,i=new C,n=new C){Ho.call(this),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=i,this.v3=n}function Zo(t=new P,e=new P,i=new P,n=new P){Ho.call(this),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=i,this.v3=n}function ta(t=new C,e=new C){Ho.call(this),this.type="LineCurve",this.v1=t,this.v2=e}function ea(t=new P,e=new P){Ho.call(this),this.type="LineCurve3",this.v1=t,this.v2=e}function ia(t=new C,e=new C,i=new C){Ho.call(this),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=i}function na(t=new P,e=new P,i=new P){Ho.call(this),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=i}function ra(t=[]){Ho.call(this),this.type="SplineCurve",this.points=t}Yo.prototype=Object.create(Ho.prototype),Yo.prototype.constructor=Yo,Yo.prototype.isCatmullRomCurve3=!0,Yo.prototype.getPoint=function(t,e=new P){const i=e,n=this.points,r=n.length,s=(r-(this.closed?0:1))*t;let o,a,l=Math.floor(s),c=s-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/r)+1)*r:0===c&&l===r-1&&(l=r-2,c=1),this.closed||l>0?o=n[(l-1)%r]:(jo.subVectors(n[0],n[1]).add(n[0]),o=jo);const u=n[l%r],h=n[(l+1)%r];if(this.closed||l+2<r?a=n[(l+2)%r]:(jo.subVectors(n[r-1],n[r-2]).add(n[r-1]),a=jo),"centripetal"===this.curveType||"chordal"===this.curveType){const t="chordal"===this.curveType?.5:.25;let e=Math.pow(o.distanceToSquared(u),t),i=Math.pow(u.distanceToSquared(h),t),n=Math.pow(h.distanceToSquared(a),t);i<1e-4&&(i=1),e<1e-4&&(e=i),n<1e-4&&(n=i),Vo.initNonuniformCatmullRom(o.x,u.x,h.x,a.x,e,i,n),Wo.initNonuniformCatmullRom(o.y,u.y,h.y,a.y,e,i,n),qo.initNonuniformCatmullRom(o.z,u.z,h.z,a.z,e,i,n)}else"catmullrom"===this.curveType&&(Vo.initCatmullRom(o.x,u.x,h.x,a.x,this.tension),Wo.initCatmullRom(o.y,u.y,h.y,a.y,this.tension),qo.initCatmullRom(o.z,u.z,h.z,a.z,this.tension));return i.set(Vo.calc(c),Wo.calc(c),qo.calc(c)),i},Yo.prototype.copy=function(t){Ho.prototype.copy.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Yo.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Yo.prototype.fromJSON=function(t){Ho.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new P).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Ko.prototype=Object.create(Ho.prototype),Ko.prototype.constructor=Ko,Ko.prototype.isCubicBezierCurve=!0,Ko.prototype.getPoint=function(t,e=new C){const i=e,n=this.v0,r=this.v1,s=this.v2,o=this.v3;return i.set(Xo(t,n.x,r.x,s.x,o.x),Xo(t,n.y,r.y,s.y,o.y)),i},Ko.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ko.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ko.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Zo.prototype=Object.create(Ho.prototype),Zo.prototype.constructor=Zo,Zo.prototype.isCubicBezierCurve3=!0,Zo.prototype.getPoint=function(t,e=new P){const i=e,n=this.v0,r=this.v1,s=this.v2,o=this.v3;return i.set(Xo(t,n.x,r.x,s.x,o.x),Xo(t,n.y,r.y,s.y,o.y),Xo(t,n.z,r.z,s.z,o.z)),i},Zo.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Zo.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Zo.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},ta.prototype=Object.create(Ho.prototype),ta.prototype.constructor=ta,ta.prototype.isLineCurve=!0,ta.prototype.getPoint=function(t,e=new C){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},ta.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ta.prototype.getTangent=function(t,e){const i=e||new C;return i.copy(this.v2).sub(this.v1).normalize(),i},ta.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ta.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ta.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ea.prototype=Object.create(Ho.prototype),ea.prototype.constructor=ea,ea.prototype.isLineCurve3=!0,ea.prototype.getPoint=function(t,e=new P){const i=e;return 1===t?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(t).add(this.v1)),i},ea.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},ea.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ea.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ea.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ia.prototype=Object.create(Ho.prototype),ia.prototype.constructor=ia,ia.prototype.isQuadraticBezierCurve=!0,ia.prototype.getPoint=function(t,e=new C){const i=e,n=this.v0,r=this.v1,s=this.v2;return i.set(Jo(t,n.x,r.x,s.x),Jo(t,n.y,r.y,s.y)),i},ia.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},ia.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},ia.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},na.prototype=Object.create(Ho.prototype),na.prototype.constructor=na,na.prototype.isQuadraticBezierCurve3=!0,na.prototype.getPoint=function(t,e=new P){const i=e,n=this.v0,r=this.v1,s=this.v2;return i.set(Jo(t,n.x,r.x,s.x),Jo(t,n.y,r.y,s.y),Jo(t,n.z,r.z,s.z)),i},na.prototype.copy=function(t){return Ho.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},na.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},na.prototype.fromJSON=function(t){return Ho.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},ra.prototype=Object.create(Ho.prototype),ra.prototype.constructor=ra,ra.prototype.isSplineCurve=!0,ra.prototype.getPoint=function(t,e=new C){const i=e,n=this.points,r=(n.length-1)*t,s=Math.floor(r),o=r-s,a=n[0===s?s:s-1],l=n[s],c=n[s>n.length-2?n.length-1:s+1],u=n[s>n.length-3?n.length-1:s+2];return i.set($o(o,a.x,l.x,c.x,u.x),$o(o,a.y,l.y,c.y,u.y)),i},ra.prototype.copy=function(t){Ho.prototype.copy.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push(i.clone())}return this},ra.prototype.toJSON=function(){const t=Ho.prototype.toJSON.call(this);t.points=[];for(let e=0,i=this.points.length;e<i;e++){const i=this.points[e];t.points.push(i.toArray())}return t},ra.prototype.fromJSON=function(t){Ho.prototype.fromJSON.call(this,t),this.points=[];for(let e=0,i=t.points.length;e<i;e++){const i=t.points[e];this.points.push((new C).fromArray(i))}return this};var sa=Object.freeze({__proto__:null,ArcCurve:Go,CatmullRomCurve3:Yo,CubicBezierCurve:Ko,CubicBezierCurve3:Zo,EllipseCurve:Uo,LineCurve:ta,LineCurve3:ea,QuadraticBezierCurve:ia,QuadraticBezierCurve3:na,SplineCurve:ra});function oa(){Ho.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function aa(t){oa.call(this),this.type="Path",this.currentPoint=new C,t&&this.setFromPoints(t)}function la(t){aa.call(this,t),this.uuid=x.generateUUID(),this.type="Shape",this.holes=[]}function ca(t,e=1){Rt.call(this),this.type="Light",this.color=new ee(t),this.intensity=e}function ua(t,e,i){ca.call(this,t,i),this.type="HemisphereLight",this.position.copy(Rt.DefaultUp),this.updateMatrix(),this.groundColor=new ee(e)}function ha(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.mapSize=new C(512,512),this.map=null,this.mapPass=null,this.matrix=new lt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new li,this._frameExtents=new C(1,1),this._viewportCount=1,this._viewports=[new k(0,0,1,1)]}function da(){ha.call(this,new ei(50,1,.5,500)),this.focus=1}function pa(t,e,i,n,r,s){ca.call(this,t,e),this.type="SpotLight",this.position.copy(Rt.DefaultUp),this.updateMatrix(),this.target=new Rt,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==s?s:1,this.shadow=new da}function fa(){ha.call(this,new ei(90,1,.5,500)),this._frameExtents=new C(4,2),this._viewportCount=6,this._viewports=[new k(2,1,1,1),new k(0,1,1,1),new k(3,1,1,1),new k(1,1,1,1),new k(3,0,1,1),new k(1,0,1,1)],this._cubeDirections=[new P(1,0,0),new P(-1,0,0),new P(0,0,1),new P(0,0,-1),new P(0,1,0),new P(0,-1,0)],this._cubeUps=[new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,1,0),new P(0,0,1),new P(0,0,-1)]}function ga(t,e,i,n){ca.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new fa}function ma(t=-1,e=1,i=1,n=-1,r=.1,s=2e3){ti.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=i,this.bottom=n,this.near=r,this.far=s,this.updateProjectionMatrix()}function va(){ha.call(this,new ma(-5,5,5,-5,.5,500))}function Aa(t,e){ca.call(this,t,e),this.type="DirectionalLight",this.position.copy(Rt.DefaultUp),this.updateMatrix(),this.target=new Rt,this.shadow=new va}function ya(t,e){ca.call(this,t,e),this.type="AmbientLight"}function _a(t,e,i,n){ca.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==i?i:10,this.height=void 0!==n?n:10}oa.prototype=Object.assign(Object.create(Ho.prototype),{constructor:oa,add:function(t){this.curves.push(t)},closePath:function(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new ta(e,t))},getPoint:function(t){const e=t*this.getLength(),i=this.getCurveLengths();let n=0;for(;n<i.length;){if(i[n]>=e){const t=i[n]-e,r=this.curves[n],s=r.getLength(),o=0===s?0:1-t/s;return r.getPointAt(o)}n++}return null},getLength:function(){const t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let i=0,n=this.curves.length;i<n;i++)e+=this.curves[i].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t=40){const e=[];for(let i=0;i<=t;i++)e.push(this.getPoint(i/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t=12){const e=[];let i;for(let n=0,r=this.curves;n<r.length;n++){const s=r[n],o=s&&s.isEllipseCurve?2*t:s&&(s.isLineCurve||s.isLineCurve3)?1:s&&s.isSplineCurve?t*s.points.length:t,a=s.getPoints(o);for(let t=0;t<a.length;t++){const n=a[t];i&&i.equals(n)||(e.push(n),i=n)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e},copy:function(t){Ho.prototype.copy.call(this,t),this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){const t=Ho.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(let e=0,i=this.curves.length;e<i;e++){const i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){Ho.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,i=t.curves.length;e<i;e++){const i=t.curves[e];this.curves.push((new sa[i.type]).fromJSON(i))}return this}}),aa.prototype=Object.assign(Object.create(oa.prototype),{constructor:aa,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(let e=1,i=t.length;e<i;e++)this.lineTo(t[e].x,t[e].y);return this},moveTo:function(t,e){return this.currentPoint.set(t,e),this},lineTo:function(t,e){const i=new ta(this.currentPoint.clone(),new C(t,e));return this.curves.push(i),this.currentPoint.set(t,e),this},quadraticCurveTo:function(t,e,i,n){const r=new ia(this.currentPoint.clone(),new C(t,e),new C(i,n));return this.curves.push(r),this.currentPoint.set(i,n),this},bezierCurveTo:function(t,e,i,n,r,s){const o=new Ko(this.currentPoint.clone(),new C(t,e),new C(i,n),new C(r,s));return this.curves.push(o),this.currentPoint.set(r,s),this},splineThru:function(t){const e=new ra([this.currentPoint.clone()].concat(t));return this.curves.push(e),this.currentPoint.copy(t[t.length-1]),this},arc:function(t,e,i,n,r,s){const o=this.currentPoint.x,a=this.currentPoint.y;return this.absarc(t+o,e+a,i,n,r,s),this},absarc:function(t,e,i,n,r,s){return this.absellipse(t,e,i,i,n,r,s),this},ellipse:function(t,e,i,n,r,s,o,a){const l=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(t+l,e+c,i,n,r,s,o,a),this},absellipse:function(t,e,i,n,r,s,o,a){const l=new Uo(t,e,i,n,r,s,o,a);if(this.curves.length>0){const t=l.getPoint(0);t.equals(this.currentPoint)||this.lineTo(t.x,t.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this},copy:function(t){return oa.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){const t=oa.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return oa.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),la.prototype=Object.assign(Object.create(aa.prototype),{constructor:la,getPointsHoles:function(t){const e=[];for(let i=0,n=this.holes.length;i<n;i++)e[i]=this.holes[i].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){aa.prototype.copy.call(this,t),this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){const t=aa.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(let e=0,i=this.holes.length;e<i;e++){const i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){aa.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(let e=0,i=t.holes.length;e<i;e++){const i=t.holes[e];this.holes.push((new aa).fromJSON(i))}return this}}),ca.prototype=Object.assign(Object.create(Rt.prototype),{constructor:ca,isLight:!0,copy:function(t){return Rt.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){const e=Rt.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),ua.prototype=Object.assign(Object.create(ca.prototype),{constructor:ua,isHemisphereLight:!0,copy:function(t){return ca.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(ha.prototype,{_projScreenMatrix:new lt,_lightPositionWorld:new P,_lookTarget:new P,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){const e=this.camera,i=this.matrix,n=this._projScreenMatrix,r=this._lookTarget,s=this._lightPositionWorld;s.setFromMatrixPosition(t.matrixWorld),e.position.copy(s),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),n.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(n),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(e.projectionMatrix),i.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),da.prototype=Object.assign(Object.create(ha.prototype),{constructor:da,isSpotLightShadow:!0,updateMatrices:function(t){const e=this.camera,i=2*x.RAD2DEG*t.angle*this.focus,n=this.mapSize.width/this.mapSize.height,r=t.distance||e.far;i===e.fov&&n===e.aspect&&r===e.far||(e.fov=i,e.aspect=n,e.far=r,e.updateProjectionMatrix()),ha.prototype.updateMatrices.call(this,t)}}),pa.prototype=Object.assign(Object.create(ca.prototype),{constructor:pa,isSpotLight:!0,copy:function(t){return ca.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),fa.prototype=Object.assign(Object.create(ha.prototype),{constructor:fa,isPointLightShadow:!0,updateMatrices:function(t,e=0){const i=this.camera,n=this.matrix,r=this._lightPositionWorld,s=this._lookTarget,o=this._projScreenMatrix;r.setFromMatrixPosition(t.matrixWorld),i.position.copy(r),s.copy(i.position),s.add(this._cubeDirections[e]),i.up.copy(this._cubeUps[e]),i.lookAt(s),i.updateMatrixWorld(),n.makeTranslation(-r.x,-r.y,-r.z),o.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(o)}}),ga.prototype=Object.assign(Object.create(ca.prototype),{constructor:ga,isPointLight:!0,copy:function(t){return ca.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),ma.prototype=Object.assign(Object.create(ti.prototype),{constructor:ma,isOrthographicCamera:!0,copy:function(t,e){return ti.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,i,n,r,s){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=i,this.view.offsetY=n,this.view.width=r,this.view.height=s,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;let r=i-t,s=i+t,o=n+e,a=n-e;if(null!==this.view&&this.view.enabled){const t=(this.right-this.left)/this.view.fullWidth/this.zoom,e=(this.top-this.bottom)/this.view.fullHeight/this.zoom;r+=t*this.view.offsetX,s=r+t*this.view.width,o-=e*this.view.offsetY,a=o-e*this.view.height}this.projectionMatrix.makeOrthographic(r,s,o,a,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()},toJSON:function(t){const e=Rt.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),va.prototype=Object.assign(Object.create(ha.prototype),{constructor:va,isDirectionalLightShadow:!0,updateMatrices:function(t){ha.prototype.updateMatrices.call(this,t)}}),Aa.prototype=Object.assign(Object.create(ca.prototype),{constructor:Aa,isDirectionalLight:!0,copy:function(t){return ca.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),ya.prototype=Object.assign(Object.create(ca.prototype),{constructor:ya,isAmbientLight:!0}),_a.prototype=Object.assign(Object.create(ca.prototype),{constructor:_a,isRectAreaLight:!0,copy:function(t){return ca.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){const e=ca.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}});class ba{constructor(){Object.defineProperty(this,"isSphericalHarmonics3",{value:!0}),this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new P)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const i=t.x,n=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.282095),e.addScaledVector(s[1],.488603*n),e.addScaledVector(s[2],.488603*r),e.addScaledVector(s[3],.488603*i),e.addScaledVector(s[4],i*n*1.092548),e.addScaledVector(s[5],n*r*1.092548),e.addScaledVector(s[6],.315392*(3*r*r-1)),e.addScaledVector(s[7],i*r*1.092548),e.addScaledVector(s[8],.546274*(i*i-n*n)),e}getIrradianceAt(t,e){const i=t.x,n=t.y,r=t.z,s=this.coefficients;return e.copy(s[0]).multiplyScalar(.886227),e.addScaledVector(s[1],1.023328*n),e.addScaledVector(s[2],1.023328*r),e.addScaledVector(s[3],1.023328*i),e.addScaledVector(s[4],.858086*i*n),e.addScaledVector(s[5],.858086*n*r),e.addScaledVector(s[6],.743125*r*r-.247708),e.addScaledVector(s[7],.858086*i*r),e.addScaledVector(s[8],.429043*(i*i-n*n)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let i=0;i<9;i++)this.coefficients[i].addScaledVector(t.coefficients[i],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let i=0;i<9;i++)this.coefficients[i].lerp(t.coefficients[i],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].fromArray(t,e+3*n);return this}toArray(t=[],e=0){const i=this.coefficients;for(let n=0;n<9;n++)i[n].toArray(t,e+3*n);return t}static getBasisAt(t,e){const i=t.x,n=t.y,r=t.z;e[0]=.282095,e[1]=.488603*n,e[2]=.488603*r,e[3]=.488603*i,e[4]=1.092548*i*n,e[5]=1.092548*n*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*i*r,e[8]=.546274*(i*i-n*n)}}function wa(t,e){ca.call(this,void 0,e),this.type="LightProbe",this.sh=void 0!==t?t:new ba}function xa(t){ko.call(this,t),this.textures={}}wa.prototype=Object.assign(Object.create(ca.prototype),{constructor:wa,isLightProbe:!0,copy:function(t){return ca.prototype.copy.call(this,t),this.sh.copy(t.sh),this},fromJSON:function(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this},toJSON:function(t){const e=ca.prototype.toJSON.call(this,t);return e.object.sh=this.sh.toArray(),e}}),xa.prototype=Object.assign(Object.create(ko.prototype),{constructor:xa,load:function(t,e,i,n){const r=this,s=new Ro(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(i){try{e(r.parse(JSON.parse(i)))}catch(e){n?n(e):console.error(e),r.manager.itemError(t)}}),i,n)},parse:function(t){const e=this.textures;function i(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}const n=new po[t.type];if(void 0!==t.uuid&&(n.uuid=t.uuid),void 0!==t.name&&(n.name=t.name),void 0!==t.color&&void 0!==n.color&&n.color.setHex(t.color),void 0!==t.roughness&&(n.roughness=t.roughness),void 0!==t.metalness&&(n.metalness=t.metalness),void 0!==t.sheen&&(n.sheen=(new ee).setHex(t.sheen)),void 0!==t.emissive&&void 0!==n.emissive&&n.emissive.setHex(t.emissive),void 0!==t.specular&&void 0!==n.specular&&n.specular.setHex(t.specular),void 0!==t.shininess&&(n.shininess=t.shininess),void 0!==t.clearcoat&&(n.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(n.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.fog&&(n.fog=t.fog),void 0!==t.flatShading&&(n.flatShading=t.flatShading),void 0!==t.blending&&(n.blending=t.blending),void 0!==t.combine&&(n.combine=t.combine),void 0!==t.side&&(n.side=t.side),void 0!==t.opacity&&(n.opacity=t.opacity),void 0!==t.transparent&&(n.transparent=t.transparent),void 0!==t.alphaTest&&(n.alphaTest=t.alphaTest),void 0!==t.depthTest&&(n.depthTest=t.depthTest),void 0!==t.depthWrite&&(n.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(n.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(n.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(n.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(n.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(n.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(n.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(n.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(n.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(n.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(n.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(n.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(n.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(n.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(n.rotation=t.rotation),1!==t.linewidth&&(n.linewidth=t.linewidth),void 0!==t.dashSize&&(n.dashSize=t.dashSize),void 0!==t.gapSize&&(n.gapSize=t.gapSize),void 0!==t.scale&&(n.scale=t.scale),void 0!==t.polygonOffset&&(n.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(n.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(n.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(n.skinning=t.skinning),void 0!==t.morphTargets&&(n.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(n.morphNormals=t.morphNormals),void 0!==t.dithering&&(n.dithering=t.dithering),void 0!==t.vertexTangents&&(n.vertexTangents=t.vertexTangents),void 0!==t.visible&&(n.visible=t.visible),void 0!==t.toneMapped&&(n.toneMapped=t.toneMapped),void 0!==t.userData&&(n.userData=t.userData),void 0!==t.vertexColors&&("number"==typeof t.vertexColors?n.vertexColors=t.vertexColors>0:n.vertexColors=t.vertexColors),void 0!==t.uniforms)for(const r in t.uniforms){const e=t.uniforms[r];switch(n.uniforms[r]={},e.type){case"t":n.uniforms[r].value=i(e.value);break;case"c":n.uniforms[r].value=(new ee).setHex(e.value);break;case"v2":n.uniforms[r].value=(new C).fromArray(e.value);break;case"v3":n.uniforms[r].value=(new P).fromArray(e.value);break;case"v4":n.uniforms[r].value=(new k).fromArray(e.value);break;case"m3":n.uniforms[r].value=(new E).fromArray(e.value);break;case"m4":n.uniforms[r].value=(new lt).fromArray(e.value);break;default:n.uniforms[r].value=e.value}}if(void 0!==t.defines&&(n.defines=t.defines),void 0!==t.vertexShader&&(n.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(n.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(const r in t.extensions)n.extensions[r]=t.extensions[r];if(void 0!==t.shading&&(n.flatShading=1===t.shading),void 0!==t.size&&(n.size=t.size),void 0!==t.sizeAttenuation&&(n.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(n.map=i(t.map)),void 0!==t.matcap&&(n.matcap=i(t.matcap)),void 0!==t.alphaMap&&(n.alphaMap=i(t.alphaMap)),void 0!==t.bumpMap&&(n.bumpMap=i(t.bumpMap)),void 0!==t.bumpScale&&(n.bumpScale=t.bumpScale),void 0!==t.normalMap&&(n.normalMap=i(t.normalMap)),void 0!==t.normalMapType&&(n.normalMapType=t.normalMapType),void 0!==t.normalScale){let e=t.normalScale;!1===Array.isArray(e)&&(e=[e,e]),n.normalScale=(new C).fromArray(e)}return void 0!==t.displacementMap&&(n.displacementMap=i(t.displacementMap)),void 0!==t.displacementScale&&(n.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(n.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(n.roughnessMap=i(t.roughnessMap)),void 0!==t.metalnessMap&&(n.metalnessMap=i(t.metalnessMap)),void 0!==t.emissiveMap&&(n.emissiveMap=i(t.emissiveMap)),void 0!==t.emissiveIntensity&&(n.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(n.specularMap=i(t.specularMap)),void 0!==t.envMap&&(n.envMap=i(t.envMap)),void 0!==t.envMapIntensity&&(n.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(n.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(n.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(n.lightMap=i(t.lightMap)),void 0!==t.lightMapIntensity&&(n.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(n.aoMap=i(t.aoMap)),void 0!==t.aoMapIntensity&&(n.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(n.gradientMap=i(t.gradientMap)),void 0!==t.clearcoatMap&&(n.clearcoatMap=i(t.clearcoatMap)),void 0!==t.clearcoatRoughnessMap&&(n.clearcoatRoughnessMap=i(t.clearcoatRoughnessMap)),void 0!==t.clearcoatNormalMap&&(n.clearcoatNormalMap=i(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(n.clearcoatNormalScale=(new C).fromArray(t.clearcoatNormalScale)),void 0!==t.transmission&&(n.transmission=t.transmission),void 0!==t.transmissionMap&&(n.transmissionMap=i(t.transmissionMap)),n},setTextures:function(t){return this.textures=t,this}});const Ca=function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let i=0,n=t.length;i<n;i++)e+=String.fromCharCode(t[i]);try{return decodeURIComponent(escape(e))}catch(t){return e}},Ea=function(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)};function Sa(){Me.call(this),this.type="InstancedBufferGeometry",this.instanceCount=1/0}function Ia(t,e,i,n){"number"==typeof i&&(n=i,i=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),le.call(this,t,e,i),this.meshPerAttribute=n||1}function Ta(t){ko.call(this,t)}function Ma(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),ko.call(this,t),this.options={premultiplyAlpha:"none"}}function Ba(){this.type="ShapePath",this.color=new ee,this.subPaths=[],this.currentPath=null}Sa.prototype=Object.assign(Object.create(Me.prototype),{constructor:Sa,isInstancedBufferGeometry:!0,copy:function(t){return Me.prototype.copy.call(this,t),this.instanceCount=t.instanceCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){const t=Me.prototype.toJSON.call(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}),Ia.prototype=Object.assign(Object.create(le.prototype),{constructor:Ia,isInstancedBufferAttribute:!0,copy:function(t){return le.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){const t=le.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),Ta.prototype=Object.assign(Object.create(ko.prototype),{constructor:Ta,load:function(t,e,i,n){const r=this,s=new Ro(r.manager);s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(i){try{e(r.parse(JSON.parse(i)))}catch(e){n?n(e):console.error(e),r.manager.itemError(t)}}),i,n)},parse:function(t){const e={},i={};function n(t,n){if(void 0!==e[n])return e[n];const r=t.interleavedBuffers[n],s=function(t,e){if(void 0!==i[e])return i[e];const n=t.arrayBuffers[e],r=new Uint32Array(n).buffer;return i[e]=r,r}(t,r.buffer),o=new yr(be(r.type,s),r.stride);return o.uuid=r.uuid,e[n]=o,o}const r=t.isInstancedBufferGeometry?new Sa:new Me,s=t.data.index;if(void 0!==s){const t=be(s.type,s.array);r.setIndex(new le(t,1))}const o=t.data.attributes;for(const u in o){const e=o[u];let i;if(e.isInterleavedBufferAttribute)i=new br(n(t.data,e.data),e.itemSize,e.offset,e.normalized);else{const t=be(e.type,e.array);i=new(e.isInstancedBufferAttribute?Ia:le)(t,e.itemSize,e.normalized)}void 0!==e.name&&(i.name=e.name),r.setAttribute(u,i)}const a=t.data.morphAttributes;if(a)for(const u in a){const e=a[u],i=[];for(let r=0,s=e.length;r<s;r++){const s=e[r];let o;o=s.isInterleavedBufferAttribute?new br(n(t.data,s.data),s.itemSize,s.offset,s.normalized):new le(be(s.type,s.array),s.itemSize,s.normalized),void 0!==s.name&&(o.name=s.name),i.push(o)}r.morphAttributes[u]=i}t.data.morphTargetsRelative&&(r.morphTargetsRelative=!0);const l=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==l)for(let u=0,h=l.length;u!==h;++u){const t=l[u];r.addGroup(t.start,t.count,t.materialIndex)}const c=t.data.boundingSphere;if(void 0!==c){const t=new P;void 0!==c.center&&t.fromArray(c.center),r.boundingSphere=new Z(t,c.radius)}return t.name&&(r.name=t.name),t.userData&&(r.userData=t.userData),r}}),Ma.prototype=Object.assign(Object.create(ko.prototype),{constructor:Ma,isImageBitmapLoader:!0,setOptions:function(t){return this.options=t,this},load:function(t,e,i,n){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const r=this,s=Mo.get(t);if(void 0!==s)return r.manager.itemStart(t),setTimeout((function(){e&&e(s),r.manager.itemEnd(t)}),0),s;const o={};o.credentials="anonymous"===this.crossOrigin?"same-origin":"include",fetch(t,o).then((function(t){return t.blob()})).then((function(t){return createImageBitmap(t,r.options)})).then((function(i){Mo.add(t,i),e&&e(i),r.manager.itemEnd(t)})).catch((function(e){n&&n(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(Ba.prototype,{moveTo:function(t,e){return this.currentPath=new aa,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e),this},lineTo:function(t,e){return this.currentPath.lineTo(t,e),this},quadraticCurveTo:function(t,e,i,n){return this.currentPath.quadraticCurveTo(t,e,i,n),this},bezierCurveTo:function(t,e,i,n,r,s){return this.currentPath.bezierCurveTo(t,e,i,n,r,s),this},splineThru:function(t){return this.currentPath.splineThru(t),this},toShapes:function(t,e){function i(t){const e=[];for(let i=0,n=t.length;i<n;i++){const n=t[i],r=new la;r.curves=n.curves,e.push(r)}return e}function n(t,e){const i=e.length;let n=!1;for(let r=i-1,s=0;s<i;r=s++){let i=e[r],o=e[s],a=o.x-i.x,l=o.y-i.y;if(Math.abs(l)>Number.EPSILON){if(l<0&&(i=e[s],a=-a,o=e[r],l=-l),t.y<i.y||t.y>o.y)continue;if(t.y===i.y){if(t.x===i.x)return!0}else{const e=l*(t.x-i.x)-a*(t.y-i.y);if(0===e)return!0;if(e<0)continue;n=!n}}else{if(t.y!==i.y)continue;if(o.x<=t.x&&t.x<=i.x||i.x<=t.x&&t.x<=o.x)return!0}}return n}const r=$s.isClockWise,s=this.subPaths;if(0===s.length)return[];if(!0===e)return i(s);let o,a,l;const c=[];if(1===s.length)return a=s[0],l=new la,l.curves=a.curves,c.push(l),c;let u=!r(s[0].getPoints());u=t?!u:u;const h=[],d=[];let p,f,g=[],m=0;d[m]=void 0,g[m]=[];for(let v=0,A=s.length;v<A;v++)a=s[v],p=a.getPoints(),o=r(p),o=t?!o:o,o?(!u&&d[m]&&m++,d[m]={s:new la,p:p},d[m].s.curves=a.curves,u&&m++,g[m]=[]):g[m].push({h:a,p:p[0]});if(!d[0])return i(s);if(d.length>1){let t=!1;const e=[];for(let i=0,n=d.length;i<n;i++)h[i]=[];for(let i=0,r=d.length;i<r;i++){const r=g[i];for(let s=0;s<r.length;s++){const o=r[s];let a=!0;for(let r=0;r<d.length;r++)n(o.p,d[r].p)&&(i!==r&&e.push({froms:i,tos:r,hole:s}),a?(a=!1,h[r].push(o)):t=!0);a&&h[i].push(o)}}e.length>0&&(t||(g=h))}for(let v=0,A=d.length;v<A;v++){l=d[v].s,c.push(l),f=g[v];for(let t=0,e=f.length;t<e;t++)l.holes.push(f[t].h)}return c}});class ka{constructor(t){Object.defineProperty(this,"isFont",{value:!0}),this.type="Font",this.data=t}generateShapes(t,e=100){const i=[],n=function(t,e,i){const n=Array.from?Array.from(t):String(t).split(""),r=e/i.resolution,s=(i.boundingBox.yMax-i.boundingBox.yMin+i.underlineThickness)*r,o=[];let a=0,l=0;for(let c=0;c<n.length;c++){const t=n[c];if("\n"===t)a=0,l-=s;else{const e=La(t,r,a,l,i);a+=e.offsetX,o.push(e.path)}}return o}(t,e,this.data);for(let r=0,s=n.length;r<s;r++)Array.prototype.push.apply(i,n[r].toShapes());return i}}function La(t,e,i,n,r){const s=r.glyphs[t]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".");const o=new Ba;let a,l,c,u,h,d,p,f;if(s.o){const t=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let r=0,s=t.length;r<s;)switch(t[r++]){case"m":a=t[r++]*e+i,l=t[r++]*e+n,o.moveTo(a,l);break;case"l":a=t[r++]*e+i,l=t[r++]*e+n,o.lineTo(a,l);break;case"q":c=t[r++]*e+i,u=t[r++]*e+n,h=t[r++]*e+i,d=t[r++]*e+n,o.quadraticCurveTo(h,d,c,u);break;case"b":c=t[r++]*e+i,u=t[r++]*e+n,h=t[r++]*e+i,d=t[r++]*e+n,p=t[r++]*e+i,f=t[r++]*e+n,o.bezierCurveTo(h,d,p,f,c,u)}}return{offsetX:s.ha*e,path:o}}function Ra(t){ko.call(this,t)}let Pa;Ra.prototype=Object.assign(Object.create(ko.prototype),{constructor:Ra,load:function(t,e,i,n){const r=this,s=new Ro(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(t){let i;try{i=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),i=JSON.parse(t.substring(65,t.length-2))}const n=r.parse(i);e&&e(n)}),i,n)},parse:function(t){return new ka(t)}});const Da=function(){return void 0===Pa&&(Pa=new(window.AudioContext||window.webkitAudioContext)),Pa};function Oa(t){ko.call(this,t)}function Fa(t,e,i){wa.call(this,void 0,i);const n=(new ee).set(t),r=(new ee).set(e),s=new P(n.r,n.g,n.b),o=new P(r.r,r.g,r.b),a=Math.sqrt(Math.PI),l=a*Math.sqrt(.75);this.sh.coefficients[0].copy(s).add(o).multiplyScalar(a),this.sh.coefficients[1].copy(s).sub(o).multiplyScalar(l)}function Na(t,e){wa.call(this,void 0,e);const i=(new ee).set(t);this.sh.coefficients[0].set(i.r,i.g,i.b).multiplyScalar(2*Math.sqrt(Math.PI))}Oa.prototype=Object.assign(Object.create(ko.prototype),{constructor:Oa,load:function(t,e,i,n){const r=this,s=new Ro(r.manager);s.setResponseType("arraybuffer"),s.setPath(r.path),s.setRequestHeader(r.requestHeader),s.setWithCredentials(r.withCredentials),s.load(t,(function(i){try{const t=i.slice(0);Da().decodeAudioData(t,(function(t){e(t)}))}catch(e){n?n(e):console.error(e),r.manager.itemError(t)}}),i,n)}}),Fa.prototype=Object.assign(Object.create(wa.prototype),{constructor:Fa,isHemisphereLightProbe:!0,copy:function(t){return wa.prototype.copy.call(this,t),this},toJSON:function(t){return wa.prototype.toJSON.call(this,t)}}),Na.prototype=Object.assign(Object.create(wa.prototype),{constructor:Na,isAmbientLightProbe:!0,copy:function(t){return wa.prototype.copy.call(this,t),this},toJSON:function(t){return wa.prototype.toJSON.call(this,t)}});const Qa=new lt,Ha=new lt;function Ua(t,e,i){let n,r,s;switch(this.binding=t,this.valueSize=i,e){case"quaternion":n=this._slerp,r=this._slerpAdditive,s=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*i),this._workIndex=5;break;case"string":case"bool":n=this._select,r=this._select,s=this._setAdditiveIdentityOther,this.buffer=new Array(5*i);break;default:n=this._lerp,r=this._lerpAdditive,s=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*i)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=r,this._setIdentity=s,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ei,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ei,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(t){const e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;const i=t.projectionMatrix.clone(),n=e.eyeSep/2,r=n*e.near/e.focus,s=e.near*Math.tan(x.DEG2RAD*e.fov*.5)/e.zoom;let o,a;Ha.elements[12]=-n,Qa.elements[12]=n,o=-s*e.aspect+r,a=s*e.aspect+r,i.elements[0]=2*e.near/(a-o),i.elements[8]=(a+o)/(a-o),this.cameraL.projectionMatrix.copy(i),o=-s*e.aspect-r,a=s*e.aspect-r,i.elements[0]=2*e.near/(a-o),i.elements[8]=(a+o)/(a-o),this.cameraR.projectionMatrix.copy(i)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Ha),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(Qa)}}),Object.assign(Ua.prototype,{accumulate:function(t,e){const i=this.buffer,n=this.valueSize,r=t*n+n;let s=this.cumulativeWeight;if(0===s){for(let t=0;t!==n;++t)i[r+t]=i[t];s=e}else{s+=e;const t=e/s;this._mixBufferRegion(i,r,0,t,n)}this.cumulativeWeight=s},accumulateAdditive:function(t){const e=this.buffer,i=this.valueSize,n=i*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,n,0,t,i),this.cumulativeWeightAdditive+=t},apply:function(t){const e=this.valueSize,i=this.buffer,n=t*e+e,r=this.cumulativeWeight,s=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,r<1){const t=e*this._origIndex;this._mixBufferRegion(i,n,t,1-r,e)}s>0&&this._mixBufferRegionAdditive(i,n,this._addIndex*e,1,e);for(let a=e,l=e+e;a!==l;++a)if(i[a]!==i[a+e]){o.setValue(i,n);break}},saveOriginalState:function(){const t=this.binding,e=this.buffer,i=this.valueSize,n=i*this._origIndex;t.getValue(e,n);for(let r=i,s=n;r!==s;++r)e[r]=e[n+r%i];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0},restoreOriginalState:function(){const t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_setAdditiveIdentityNumeric:function(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let i=t;i<e;i++)this.buffer[i]=0},_setAdditiveIdentityQuaternion:function(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1},_setAdditiveIdentityOther:function(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let i=0;i<this.valueSize;i++)this.buffer[e+i]=this.buffer[t+i]},_select:function(t,e,i,n,r){if(n>=.5)for(let s=0;s!==r;++s)t[e+s]=t[i+s]},_slerp:function(t,e,i,n){R.slerpFlat(t,e,t,e,t,i,n)},_slerpAdditive:function(t,e,i,n,r){const s=this._workIndex*r;R.multiplyQuaternionsFlat(t,s,t,e,t,i),R.slerpFlat(t,e,t,e,t,s,n)},_lerp:function(t,e,i,n,r){const s=1-n;for(let o=0;o!==r;++o){const r=e+o;t[r]=t[r]*s+t[i+o]*n}},_lerpAdditive:function(t,e,i,n,r){for(let s=0;s!==r;++s){const r=e+s;t[r]=t[r]+t[i+s]*n}}});const Ga=new RegExp("[\\[\\]\\.:\\/]","g"),za="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",ja=/((?:WC+[\/:])*)/.source.replace("WC","[^\\[\\]\\.:\\/]"),Va=/(WCOD+)?/.source.replace("WCOD",za),Wa=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC","[^\\[\\]\\.:\\/]"),qa=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC","[^\\[\\]\\.:\\/]"),Ya=new RegExp("^"+ja+Va+Wa+qa+"$"),$a=["material","materials","bones"];function Ja(t,e,i){const n=i||Xa.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,n)}function Xa(t,e,i){this.path=e,this.parsedPath=i||Xa.parseTrackName(e),this.node=Xa.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}Object.assign(Ja.prototype,{getValue:function(t,e){this.bind();const i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(t,e)},setValue:function(t,e){const i=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(t,e)},bind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].bind()},unbind:function(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,i=t.length;e!==i;++e)t[e].unbind()}}),Object.assign(Xa,{Composite:Ja,create:function(t,e,i){return t&&t.isAnimationObjectGroup?new Xa.Composite(t,e,i):new Xa(t,e,i)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Ga,"")},parseTrackName:function(t){const e=Ya.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const i={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},n=i.nodeName&&i.nodeName.lastIndexOf(".");if(void 0!==n&&-1!==n){const t=i.nodeName.substring(n+1);-1!==$a.indexOf(t)&&(i.nodeName=i.nodeName.substring(0,n),i.objectName=t)}if(null===i.propertyName||0===i.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return i},findNode:function(t,e){if(!e||""===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){const i=t.skeleton.getBoneByName(e);if(void 0!==i)return i}if(t.children){const i=function(t){for(let n=0;n<t.length;n++){const r=t[n];if(r.name===e||r.uuid===e)return r;const s=i(r.children);if(s)return s}return null},n=i(t.children);if(n)return n}return null}}),Object.assign(Xa.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)t[e++]=i[n]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=t[e++]},function(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){const i=this.resolvedProperty;for(let n=0,r=i.length;n!==r;++n)i[n]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){let t=this.node;const e=this.parsedPath,i=e.objectName,n=e.propertyName;let r=e.propertyIndex;if(t||(t=Xa.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(i){let n=e.objectIndex;switch(i){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let e=0;e<t.length;e++)if(t[e].name===n){n=e;break}break;default:if(void 0===t[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[i]}if(void 0!==n){if(void 0===t[n])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[n]}}const s=t[n];if(void 0===s){const i=e.nodeName;return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i+"."+n+" but it wasn't found.",t)}let o=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?o=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(o=this.Versioning.MatrixWorldNeedsUpdate);let a=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[r]&&(r=t.morphTargetDictionary[r])}a=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(a=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(a=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[a],this.setValue=this.SetterByBindingTypeAndVersioning[a][o]},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(Xa.prototype,{_getValue_unbound:Xa.prototype.getValue,_setValue_unbound:Xa.prototype.setValue}),Object.assign(function(){this.uuid=x.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const t={};this._indicesByUUID=t;for(let i=0,n=arguments.length;i!==n;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const e=this;this.stats={objects:{get total(){return e._objects.length},get inUse(){return this.total-e.nCachedObjects_}},get bindingsPerObject(){return e._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){const t=this._objects,e=this._indicesByUUID,i=this._paths,n=this._parsedPaths,r=this._bindings,s=r.length;let o=void 0,a=t.length,l=this.nCachedObjects_;for(let c=0,u=arguments.length;c!==u;++c){const u=arguments[c],h=u.uuid;let d=e[h];if(void 0===d){d=a++,e[h]=d,t.push(u);for(let t=0,e=s;t!==e;++t)r[t].push(new Xa(u,i[t],n[t]))}else if(d<l){o=t[d];const a=--l,c=t[a];e[c.uuid]=d,t[d]=c,e[h]=a,t[a]=u;for(let t=0,e=s;t!==e;++t){const e=r[t],s=e[a];let o=e[d];e[d]=s,void 0===o&&(o=new Xa(u,i[t],n[t])),e[a]=o}}else t[d]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=l},remove:function(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,n=i.length;let r=this.nCachedObjects_;for(let s=0,o=arguments.length;s!==o;++s){const o=arguments[s],a=o.uuid,l=e[a];if(void 0!==l&&l>=r){const s=r++,c=t[s];e[c.uuid]=l,t[l]=c,e[a]=s,t[s]=o;for(let t=0,e=n;t!==e;++t){const e=i[t],n=e[s],r=e[l];e[l]=n,e[s]=r}}}this.nCachedObjects_=r},uncache:function(){const t=this._objects,e=this._indicesByUUID,i=this._bindings,n=i.length;let r=this.nCachedObjects_,s=t.length;for(let o=0,a=arguments.length;o!==a;++o){const a=arguments[o].uuid,l=e[a];if(void 0!==l)if(delete e[a],l<r){const o=--r,a=t[o],c=--s,u=t[c];e[a.uuid]=l,t[l]=a,e[u.uuid]=o,t[o]=u,t.pop();for(let t=0,e=n;t!==e;++t){const e=i[t],n=e[o],r=e[c];e[l]=n,e[o]=r,e.pop()}}else{const r=--s,o=t[r];r>0&&(e[o.uuid]=l),t[l]=o,t.pop();for(let t=0,e=n;t!==e;++t){const e=i[t];e[l]=e[r],e.pop()}}}this.nCachedObjects_=r},subscribe_:function(t,e){const i=this._bindingsIndicesByPath;let n=i[t];const r=this._bindings;if(void 0!==n)return r[n];const s=this._paths,o=this._parsedPaths,a=this._objects,l=a.length,c=this.nCachedObjects_,u=new Array(l);n=r.length,i[t]=n,s.push(t),o.push(e),r.push(u);for(let h=c,d=a.length;h!==d;++h){const i=a[h];u[h]=new Xa(i,t,e)}return u},unsubscribe_:function(t){const e=this._bindingsIndicesByPath,i=e[t];if(void 0!==i){const n=this._paths,r=this._parsedPaths,s=this._bindings,o=s.length-1,a=s[o];e[t[o]]=i,s[i]=a,s.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}});class Ka{constructor(t,e,i=null,n=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=i,this.blendMode=n;const r=e.tracks,s=r.length,o=new Array(s),a={endingStart:2400,endingEnd:2400};for(let l=0;l!==s;++l){const t=r[l].createInterpolant(null);o[l]=t,t.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(s),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,i){if(t.fadeOut(e),this.fadeIn(e),i){const i=this._clip.duration,n=t._clip.duration,r=n/i,s=i/n;t.warp(1,r,e),this.warp(s,1,e)}return this}crossFadeTo(t,e,i){return t.crossFadeFrom(this,e,i)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,i){const n=this._mixer,r=n.time,s=this.timeScale;let o=this._timeScaleInterpolant;null===o&&(o=n._lendControlInterpolant(),this._timeScaleInterpolant=o);const a=o.parameterPositions,l=o.sampleValues;return a[0]=r,a[1]=r+i,l[0]=t/s,l[1]=e/s,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,i,n){if(!this.enabled)return void this._updateWeight(t);const r=this._startTime;if(null!==r){const n=(t-r)*i;if(n<0||0===i)return;this._startTime=null,e=i*n}e*=this._updateTimeScale(t);const s=this._updateTime(e),o=this._updateWeight(t);if(o>0){const t=this._interpolants,e=this._propertyBindings;switch(this.blendMode){case 2501:for(let i=0,n=t.length;i!==n;++i)t[i].evaluate(s),e[i].accumulateAdditive(o);break;case 2500:default:for(let i=0,r=t.length;i!==r;++i)t[i].evaluate(s),e[i].accumulate(n,o)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const i=this._weightInterpolant;if(null!==i){const n=i.evaluate(t)[0];e*=n,t>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const i=this._timeScaleInterpolant;null!==i&&(e*=i.evaluate(t)[0],t>i.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,i=this.loop;let n=this.time+t,r=this._loopCount;const s=2202===i;if(0===t)return-1===r?n:s&&1==(1&r)?e-n:n;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(n>=e)n=e;else{if(!(n<0)){this.time=n;break t}n=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,s)):this._setEndings(0===this.repetitions,!0,s)),n>=e||n<0){const i=Math.floor(n/e);n-=e*i,r+=Math.abs(i);const o=this.repetitions-r;if(o<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=t>0?e:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===o){const e=t<0;this._setEndings(e,!e,s)}else this._setEndings(!1,!1,s);this._loopCount=r,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:i})}}else this.time=n;if(s&&1==(1&r))return e-n}return n}_setEndings(t,e,i){const n=this._interpolantSettings;i?(n.endingStart=2401,n.endingEnd=2401):(n.endingStart=t?this.zeroSlopeAtStart?2401:2400:2402,n.endingEnd=e?this.zeroSlopeAtEnd?2401:2400:2402)}_scheduleFading(t,e,i){const n=this._mixer,r=n.time;let s=this._weightInterpolant;null===s&&(s=n._lendControlInterpolant(),this._weightInterpolant=s);const o=s.parameterPositions,a=s.sampleValues;return o[0]=r,a[0]=e,o[1]=r+t,a[1]=i,this}}function Za(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}Za.prototype=Object.assign(Object.create(_.prototype),{constructor:Za,_bindAction:function(t,e){const i=t._localRoot||this._root,n=t._clip.tracks,r=n.length,s=t._propertyBindings,o=t._interpolants,a=i.uuid,l=this._bindingsByRootAndName;let c=l[a];void 0===c&&(c={},l[a]=c);for(let u=0;u!==r;++u){const t=n[u],r=t.name;let l=c[r];if(void 0!==l)s[u]=l;else{if(l=s[u],void 0!==l){null===l._cacheIndex&&(++l.referenceCount,this._addInactiveBinding(l,a,r));continue}const n=e&&e._propertyBindings[u].binding.parsedPath;l=new Ua(Xa.create(i,r,n),t.ValueTypeName,t.getValueSize()),++l.referenceCount,this._addInactiveBinding(l,a,r),s[u]=l}o[u].resultBuffer=l.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const e=(t._localRoot||this._root).uuid,i=t._clip.uuid,n=this._actionsByClip[i];this._bindAction(t,n&&n.knownActions[0]),this._addInactiveAction(t,i,e)}const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0==i.useCount++&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let t=0,i=e.length;t!==i;++t){const i=e[t];0==--i.useCount&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,i){const n=this._actions,r=this._actionsByClip;let s=r[e];if(void 0===s)s={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=s;else{const e=s.knownActions;t._byClipCacheIndex=e.length,e.push(t)}t._cacheIndex=n.length,n.push(t),s.actionByRoot[i]=t},_removeInactiveAction:function(t){const e=this._actions,i=e[e.length-1],n=t._cacheIndex;i._cacheIndex=n,e[n]=i,e.pop(),t._cacheIndex=null;const r=t._clip.uuid,s=this._actionsByClip,o=s[r],a=o.knownActions,l=a[a.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,a[c]=l,a.pop(),t._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===a.length&&delete s[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){const e=t._propertyBindings;for(let i=0,n=e.length;i!==n;++i){const t=e[i];0==--t.referenceCount&&this._removeInactiveBinding(t)}},_lendAction:function(t){const e=this._actions,i=t._cacheIndex,n=this._nActiveActions++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackAction:function(t){const e=this._actions,i=t._cacheIndex,n=--this._nActiveActions,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_addInactiveBinding:function(t,e,i){const n=this._bindingsByRootAndName,r=this._bindings;let s=n[e];void 0===s&&(s={},n[e]=s),s[i]=t,t._cacheIndex=r.length,r.push(t)},_removeInactiveBinding:function(t){const e=this._bindings,i=t.binding,n=i.rootNode.uuid,r=i.path,s=this._bindingsByRootAndName,o=s[n],a=e[e.length-1],l=t._cacheIndex;a._cacheIndex=l,e[l]=a,e.pop(),delete o[r],0===Object.keys(o).length&&delete s[n]},_lendBinding:function(t){const e=this._bindings,i=t._cacheIndex,n=this._nActiveBindings++,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_takeBackBinding:function(t){const e=this._bindings,i=t._cacheIndex,n=--this._nActiveBindings,r=e[n];t._cacheIndex=n,e[n]=t,r._cacheIndex=i,e[i]=r},_lendControlInterpolant:function(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let i=t[e];return void 0===i&&(i=new vo(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),i.__cacheIndex=e,t[e]=i),i},_takeBackControlInterpolant:function(t){const e=this._controlInterpolants,i=t.__cacheIndex,n=--this._nActiveControlInterpolants,r=e[n];t.__cacheIndex=n,e[n]=t,r.__cacheIndex=i,e[i]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e,i){const n=e||this._root,r=n.uuid;let s="string"==typeof t?Io.findByName(n,t):t;const o=null!==s?s.uuid:t,a=this._actionsByClip[o];let l=null;if(void 0===i&&(i=null!==s?s.blendMode:2500),void 0!==a){const t=a.actionByRoot[r];if(void 0!==t&&t.blendMode===i)return t;l=a.knownActions[0],null===s&&(s=l._clip)}if(null===s)return null;const c=new Ka(this,s,e,i);return this._bindAction(c,l),this._addInactiveAction(c,o,r),c},existingAction:function(t,e){const i=e||this._root,n=i.uuid,r="string"==typeof t?Io.findByName(i,t):t,s=r?r.uuid:t,o=this._actionsByClip[s];return void 0!==o&&o.actionByRoot[n]||null},stopAllAction:function(){const t=this._actions;for(let e=this._nActiveActions-1;e>=0;--e)t[e].stop();return this},update:function(t){t*=this.timeScale;const e=this._actions,i=this._nActiveActions,n=this.time+=t,r=Math.sign(t),s=this._accuIndex^=1;for(let l=0;l!==i;++l)e[l]._update(n,t,r,s);const o=this._bindings,a=this._nActiveBindings;for(let l=0;l!==a;++l)o[l].apply(s);return this},setTime:function(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){const e=this._actions,i=t.uuid,n=this._actionsByClip,r=n[i];if(void 0!==r){const t=r.knownActions;for(let i=0,n=t.length;i!==n;++i){const n=t[i];this._deactivateAction(n);const r=n._cacheIndex,s=e[e.length-1];n._cacheIndex=null,n._byClipCacheIndex=null,s._cacheIndex=r,e[r]=s,e.pop(),this._removeInactiveBindingsForAction(n)}delete n[i]}},uncacheRoot:function(t){const e=t.uuid,i=this._actionsByClip;for(const r in i){const t=i[r].actionByRoot[e];void 0!==t&&(this._deactivateAction(t),this._removeInactiveAction(t))}const n=this._bindingsByRootAndName[e];if(void 0!==n)for(const r in n){const t=n[r];t.restoreOriginalState(),this._removeInactiveBinding(t)}},uncacheAction:function(t,e){const i=this.existingAction(t,e);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}});class tl{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new tl(void 0===this.value.clone?this.value:this.value.clone())}}function el(t,e,i){yr.call(this,t,e),this.meshPerAttribute=i||1}function il(t,e,i,n,r){this.buffer=t,this.type=e,this.itemSize=i,this.elementSize=n,this.count=r,this.version=0}function nl(t,e,i,n){this.ray=new at(t,e),this.near=i||0,this.far=n||1/0,this.camera=null,this.layers=new yt,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function rl(t,e){return t.distance-e.distance}function sl(t,e,i,n){if(t.layers.test(e.layers)&&t.raycast(e,i),!0===n){const n=t.children;for(let t=0,r=n.length;t<r;t++)sl(n[t],e,i,!0)}}el.prototype=Object.assign(Object.create(yr.prototype),{constructor:el,isInstancedInterleavedBuffer:!0,copy:function(t){return yr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},clone:function(t){const e=yr.prototype.clone.call(this,t);return e.meshPerAttribute=this.meshPerAttribute,e},toJSON:function(t){const e=yr.prototype.toJSON.call(this,t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}),Object.defineProperty(il.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(il.prototype,{isGLBufferAttribute:!0,setBuffer:function(t){return this.buffer=t,this},setType:function(t,e){return this.type=t,this.elementSize=e,this},setItemSize:function(t){return this.itemSize=t,this},setCount:function(t){return this.count=t,this}}),Object.assign(nl.prototype,{set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type: "+e.type)},intersectObject:function(t,e,i){const n=i||[];return sl(t,this,n,e),n.sort(rl),n},intersectObjects:function(t,e,i){const n=i||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),n;for(let r=0,s=t.length;r<s;r++)sl(t[r],this,n,e);return n.sort(rl),n}});class ol{constructor(t=1,e=0,i=0){return this.radius=t,this.phi=e,this.theta=i,this}set(t,e,i){return this.radius=t,this.phi=e,this.theta=i,this}clone(){return(new this.constructor).copy(this)}copy(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this}makeSafe(){const t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this}setFromVector3(t){return this.setFromCartesianCoords(t.x,t.y,t.z)}setFromCartesianCoords(t,e,i){return this.radius=Math.sqrt(t*t+e*e+i*i),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,i),this.phi=Math.acos(x.clamp(e/this.radius,-1,1))),this}}const al=new C;function ll(t){Rt.call(this),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}ll.prototype=Object.create(Rt.prototype),ll.prototype.constructor=ll,ll.prototype.isImmediateRenderObject=!0;const cl=new P,ul=new lt,hl=new lt;class dl extends hs{constructor(t){const e=pl(t),i=new Me,n=[],r=[],s=new ee(0,0,1),o=new ee(0,1,0);for(let a=0;a<e.length;a++){const t=e[a];t.parent&&t.parent.isBone&&(n.push(0,0,0),n.push(0,0,0),r.push(s.r,s.g,s.b),r.push(o.r,o.g,o.b))}i.setAttribute("position",new ve(n,3)),i.setAttribute("color",new ve(r,3)),super(i,new is({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,i=this.geometry,n=i.getAttribute("position");hl.copy(this.root.matrixWorld).invert();for(let r=0,s=0;r<e.length;r++){const t=e[r];t.parent&&t.parent.isBone&&(ul.multiplyMatrices(hl,t.matrixWorld),cl.setFromMatrixPosition(ul),n.setXYZ(s,cl.x,cl.y,cl.z),ul.multiplyMatrices(hl,t.parent.matrixWorld),cl.setFromMatrixPosition(ul),n.setXYZ(s+1,cl.x,cl.y,cl.z),s+=2)}i.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}function pl(t){const e=[];t&&t.isBone&&e.push(t);for(let i=0;i<t.children.length;i++)e.push.apply(e,pl(t.children[i]));return e}const fl=new Float32Array(1),gl=new Int32Array(fl.buffer),ml=function(t){fl[0]=t;const e=gl[0];let i=e>>16&32768,n=e>>12&2047;const r=e>>23&255;return r<103?i:r>142?(i|=31744,i|=(255==r?0:1)&&8388607&e,i):r<113?(n|=2048,i|=(n>>114-r)+(n>>113-r&1),i):(i|=r-112<<10|n>>1,i+=1&n,i)},vl=Math.pow(2,8),Al=[.125,.215,.35,.446,.526,.582],yl=5+Al.length,_l={3e3:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},bl=new se({side:1,depthWrite:!1,depthTest:!1}),wl=new qe(new $e,bl),xl=new ma,{_lodPlanes:Cl,_sizeLods:El,_sigmas:Sl}=Dl(),Il=new ee;let Tl=null;const Ml=(1+Math.sqrt(5))/2,Bl=1/Ml,kl=[new P(1,1,1),new P(-1,1,1),new P(1,1,-1),new P(-1,1,-1),new P(0,Ml,Bl),new P(0,Ml,-Bl),new P(Bl,0,Ml),new P(-Bl,0,Ml),new P(Ml,Bl,0),new P(-Ml,Bl,0)];function Ll(t){const e=Math.max(t.r,t.g,t.b),i=Math.min(Math.max(Math.ceil(Math.log2(e)),-128),127);return t.multiplyScalar(Math.pow(2,-i)),(i+128)/255}class Rl{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(t){const e=new Float32Array(t),i=new P(0,1,0);return new no({name:"SphericalGaussianBlur",defines:{n:t},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:e},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i},inputEncoding:{value:_l[3e3]},outputEncoding:{value:_l[3e3]}},vertexShader:Hl(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${Ul()}\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}(20),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,i=.1,n=100){Tl=this._renderer.getRenderTarget();const r=this._allocateTargets();return this._sceneToCubeUV(t,i,n,r),e>0&&this._blur(r,0,0,e),this._applyPMREM(r),this._cleanup(r),r}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=Ql(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=Nl(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<Cl.length;t++)Cl[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(Tl),t.scissorTest=!1,Fl(t,0,0,t.width,t.height)}_fromTexture(t){Tl=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:1003,minFilter:1003,generateMipmaps:!1,type:1009,format:1023,encoding:Pl(t)?t.encoding:3002,depthBuffer:!1},i=Ol(e);return i.depthBuffer=!t,this._pingPongRenderTarget=Ol(e),i}_compileMaterial(t){const e=new qe(Cl[0],t);this._renderer.compile(e,xl)}_sceneToCubeUV(t,e,i,n){const r=new ei(90,1,e,i),s=[1,-1,1,1,1,1],o=[1,1,1,-1,-1,-1],a=this._renderer,l=a.autoClear,c=a.outputEncoding,u=a.toneMapping;a.getClearColor(Il),a.toneMapping=0,a.outputEncoding=3e3,a.autoClear=!1;let h=!1;const d=t.background;if(d){if(d.isColor){bl.color.copy(d).convertSRGBToLinear(),t.background=null;const e=Ll(bl.color);bl.opacity=e,h=!0}}else{bl.color.copy(Il).convertSRGBToLinear();const t=Ll(bl.color);bl.opacity=t,h=!0}for(let p=0;p<6;p++){const e=p%3;0==e?(r.up.set(0,s[p],0),r.lookAt(o[p],0,0)):1==e?(r.up.set(0,0,s[p]),r.lookAt(0,o[p],0)):(r.up.set(0,s[p],0),r.lookAt(0,0,o[p])),Fl(n,e*vl,p>2?vl:0,vl,vl),a.setRenderTarget(n),h&&a.render(wl,r),a.render(t,r)}a.toneMapping=u,a.outputEncoding=c,a.autoClear=l}_textureToCubeUV(t,e){const i=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=Ql()):null==this._equirectShader&&(this._equirectShader=Nl());const n=t.isCubeTexture?this._cubemapShader:this._equirectShader,r=new qe(Cl[0],n),s=n.uniforms;s.envMap.value=t,t.isCubeTexture||s.texelSize.value.set(1/t.image.width,1/t.image.height),s.inputEncoding.value=_l[t.encoding],s.outputEncoding.value=_l[e.texture.encoding],Fl(e,0,0,3*vl,2*vl),i.setRenderTarget(e),i.render(r,xl)}_applyPMREM(t){const e=this._renderer,i=e.autoClear;e.autoClear=!1;for(let n=1;n<yl;n++){const e=Math.sqrt(Sl[n]*Sl[n]-Sl[n-1]*Sl[n-1]),i=kl[(n-1)%kl.length];this._blur(t,n-1,n,e,i)}e.autoClear=i}_blur(t,e,i,n,r){const s=this._pingPongRenderTarget;this._halfBlur(t,s,e,i,n,"latitudinal",r),this._halfBlur(s,t,i,i,n,"longitudinal",r)}_halfBlur(t,e,i,n,r,s,o){const a=this._renderer,l=this._blurMaterial;"latitudinal"!==s&&"longitudinal"!==s&&console.error("blur direction must be either latitudinal or longitudinal!");const c=new qe(Cl[n],l),u=l.uniforms,h=El[i]-1,d=isFinite(r)?Math.PI/(2*h):2*Math.PI/39,p=r/d,f=isFinite(r)?1+Math.floor(3*p):20;f>20&&console.warn(`sigmaRadians, ${r}, is too large and will clip, as it requested ${f} samples when the maximum is set to 20`);const g=[];let m=0;for(let A=0;A<20;++A){const t=A/p,e=Math.exp(-t*t/2);g.push(e),0==A?m+=e:A<f&&(m+=2*e)}for(let A=0;A<g.length;A++)g[A]=g[A]/m;u.envMap.value=t.texture,u.samples.value=f,u.weights.value=g,u.latitudinal.value="latitudinal"===s,o&&(u.poleAxis.value=o),u.dTheta.value=d,u.mipInt.value=8-i,u.inputEncoding.value=_l[t.texture.encoding],u.outputEncoding.value=_l[t.texture.encoding];const v=El[n];Fl(e,3*Math.max(0,vl-2*v),(0===n?0:2*vl)+2*v*(n>4?n-8+4:0),3*v,2*v),a.setRenderTarget(e),a.render(c,xl)}}function Pl(t){return void 0!==t&&1009===t.type&&(3e3===t.encoding||3001===t.encoding||3007===t.encoding)}function Dl(){const t=[],e=[],i=[];let n=8;for(let r=0;r<yl;r++){const s=Math.pow(2,n);e.push(s);let o=1/s;r>4?o=Al[r-8+4-1]:0==r&&(o=0),i.push(o);const a=1/(s-1),l=-a/2,c=1+a/2,u=[l,l,c,l,c,c,l,l,c,c,l,c],h=6,d=6,p=3,f=2,g=1,m=new Float32Array(p*d*h),v=new Float32Array(f*d*h),A=new Float32Array(g*d*h);for(let t=0;t<h;t++){const e=t%3*2/3-1,i=t>2?0:-1,n=[e,i,0,e+2/3,i,0,e+2/3,i+1,0,e,i,0,e+2/3,i+1,0,e,i+1,0];m.set(n,p*d*t),v.set(u,f*d*t);const r=[t,t,t,t,t,t];A.set(r,g*d*t)}const y=new Me;y.setAttribute("position",new le(m,p)),y.setAttribute("uv",new le(v,f)),y.setAttribute("faceIndex",new le(A,g)),t.push(y),n>4&&n--}return{_lodPlanes:t,_sizeLods:e,_sigmas:i}}function Ol(t){const e=new L(3*vl,3*vl,t);return e.texture.mapping=306,e.texture.name="PMREM.cubeUv",e.scissorTest=!0,e}function Fl(t,e,i,n,r){t.viewport.set(e,i,n,r),t.scissor.set(e,i,n,r)}function Nl(){return new no({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:new C(1,1)},inputEncoding:{value:_l[3e3]},outputEncoding:{value:_l[3e3]}},vertexShader:Hl(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${Ul()}\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}function Ql(){return new no({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:_l[3e3]},outputEncoding:{value:_l[3e3]}},vertexShader:Hl(),fragmentShader:`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${Ul()}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,blending:0,depthTest:!1,depthWrite:!1})}function Hl(){return"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t"}function Ul(){return"\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t"}function Gl(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Yo.call(this,t),this.type="catmullrom"}Ho.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ho.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign(aa.prototype,{fromPoints:function(t){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Gl.prototype=Object.create(Yo.prototype),Object.assign(Gl.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),dl.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(ko.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),Ea(t)}}),ko.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(class{constructor(t,e){Object.defineProperty(this,"isBox2",{value:!0}),this.min=void 0!==t?t:new C(1/0,1/0),this.max=void 0!==e?e:new C(-1/0,-1/0)}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,i=t.length;e<i;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const i=al.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(i),this.max.copy(t).add(i),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new C),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new C),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new C),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new C),e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return al.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(F.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Z.prototype,{empty:function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()}}),li.prototype.setFromMatrix=function(t){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(t)},Object.assign(x,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),x.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),x.ceilPowerOfTwo(t)}}),Object.assign(E.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},getInverse:function(t){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Object.assign(lt.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new P).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBufferAttribute:function(t){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,i,n,r,s){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,n,i,r,s)},getInverse:function(t){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(t).invert()}}),Ft.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},Object.assign(R.prototype,{multiplyVector3:function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},inverse:function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()}}),Object.assign(at.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(Yt.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(Yt,{barycoordFromPoint:function(t,e,i,n,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Yt.getBarycoord(t,e,i,n,r)},normal:function(t,e,i,n){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Yt.getNormal(t,e,i,n)}}),Object.assign(la.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ks(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new eo(this,t)}}),Object.assign(C.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(P.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(k.prototype,{fromAttribute:function(t,e,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Rt.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},applyMatrix:function(t){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Rt.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.assign(qe.prototype,{setDrawMode:function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}),Object.defineProperties(qe.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),Object.defineProperties(Hr.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(Jr.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Wr.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ho.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),ei.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(ca.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(le.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),35048===this.usage},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(35048)}}}),Object.assign(le.prototype,{setDynamic:function(t){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Me.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addAttribute:function(t,e){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(t,new le(arguments[1],arguments[2])))},addDrawCall:function(t,e,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},removeAttribute:function(t){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(t)},applyMatrix:function(t){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(t)}}),Object.defineProperties(Me.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Sa.prototype,{maxInstancedCount:{get:function(){return console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount},set:function(t){console.warn("THREE.InstancedBufferGeometry: .maxInstancedCount has been renamed to .instanceCount."),this.instanceCount=t}}}),Object.defineProperties(nl.prototype,{linePrecision:{get:function(){return console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold},set:function(t){console.warn("THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead."),this.params.Line.threshold=t}}}),Object.defineProperties(yr.prototype,{dynamic:{get:function(){return console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),35048===this.usage},set:function(t){console.warn("THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead."),this.setUsage(t)}}}),Object.assign(yr.prototype,{setDynamic:function(t){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===t?35048:35044),this},setArray:function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")}}),Object.assign(Ks.prototype,{getArrays:function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")}}),Object.assign(Ar.prototype,{dispose:function(){console.error("THREE.Scene: .dispose() has been removed.")}}),Object.defineProperties(tl.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(re.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new ee}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties(oo.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(so.prototype,{transparency:{get:function(){return console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission},set:function(t){console.warn("THREE.MeshPhysicalMaterial: .transparency has been renamed to .transmission."),this.transmission=t}}}),Object.defineProperties(Ze.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(mr.prototype,{clearTarget:function(t,e,i,n){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,i,n)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(mr.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(t){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===t?3001:3e3}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(ar.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(L.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(class extends Rt{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype,{load:{value:function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const e=this;return(new Oa).load(t,(function(t){e.setBuffer(t)})),this}},startTime:{set:function(){console.warn("THREE.Audio: .startTime is now .play( delay ).")}}}),ii.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},ii.prototype.clear=function(t,e,i,n){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(t,e,i,n)},I.crossOrigin=void 0,I.loadTexture=function(t,e,i,n){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const r=new Qo;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,i,void 0,n);return e&&(s.mapping=e),s},I.loadTextureCube=function(t,e,i,n){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const r=new Fo;r.setCrossOrigin(this.crossOrigin);const s=r.load(t,i,void 0,n);return e&&(s.mapping=e),s},I.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},I.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"125"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="125");var zl=function(t){ko.call(this,t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}};zl.prototype=Object.assign(Object.create(ko.prototype),{constructor:zl,setDecoderPath:function(t){return this.decoderPath=t,this},setDecoderConfig:function(t){return this.decoderConfig=t,this},setWorkerLimit:function(t){return this.workerLimit=t,this},setVerbosity:function(){console.warn("THREE.DRACOLoader: The .setVerbosity() method has been removed.")},setDrawMode:function(){console.warn("THREE.DRACOLoader: The .setDrawMode() method has been removed.")},setSkipDequantization:function(){console.warn("THREE.DRACOLoader: The .setSkipDequantization() method has been removed.")},load:function(t,e,i,n){var r=new Ro(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,t=>{var i={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(t,i).then(e).catch(n)},i,n)},decodeDracoFile:function(t,e,i,n){var r={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!i};this.decodeGeometry(t,r).then(e)},decodeGeometry:function(t,e){for(var i in e.attributeTypes){var n=e.attributeTypes[i];void 0!==n.BYTES_PER_ELEMENT&&(e.attributeTypes[i]=n.name)}var r,s=JSON.stringify(e);if(zl.taskCache.has(t)){var o=zl.taskCache.get(t);if(o.key===s)return o.promise;if(0===t.byteLength)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}var a=this.workerNextTaskID++,l=t.byteLength,c=this._getWorker(a,l).then(i=>(r=i,new Promise((i,n)=>{r._callbacks[a]={resolve:i,reject:n},r.postMessage({type:"decode",id:a,taskConfig:e,buffer:t},[t])}))).then(t=>this._createGeometry(t.geometry));return c.catch(()=>!0).then(()=>{r&&a&&this._releaseTask(r,a)}),zl.taskCache.set(t,{key:s,promise:c}),c},_createGeometry:function(t){var e=new Me;t.index&&e.setIndex(new le(t.index.array,1));for(var i=0;i<t.attributes.length;i++){var n=t.attributes[i],r=n.name,s=n.array,o=n.itemSize;e.setAttribute(r,new le(s,o))}return e},_loadLibrary:function(t,e){var i=new Ro(this.manager);return i.setPath(this.decoderPath),i.setResponseType(e),i.setWithCredentials(this.withCredentials),new Promise((e,n)=>{i.load(t,e,void 0,n)})},preload:function(){return this._initDecoder(),this},_initDecoder:function(){if(this.decoderPending)return this.decoderPending;var t="object"!=typeof WebAssembly||"js"===this.decoderConfig.type,e=[];return t?e.push(this._loadLibrary("draco_decoder.js","text")):(e.push(this._loadLibrary("draco_wasm_wrapper.js","text")),e.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(e).then(e=>{var i=e[0];t||(this.decoderConfig.wasmBinary=e[1]);var n=zl.DRACOWorker.toString(),r=["/* draco decoder */",i,"","/* worker */",n.substring(n.indexOf("{")+1,n.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([r]))}),this.decoderPending},_getWorker:function(t,e){return this._initDecoder().then(()=>{var i;return this.workerPool.length<this.workerLimit?((i=new Worker(this.workerSourceURL))._callbacks={},i._taskCosts={},i._taskLoad=0,i.postMessage({type:"init",decoderConfig:this.decoderConfig}),i.onmessage=function(t){var e=t.data;switch(e.type){case"decode":i._callbacks[e.id].resolve(e);break;case"error":i._callbacks[e.id].reject(e);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+e.type+'"')}},this.workerPool.push(i)):this.workerPool.sort((function(t,e){return t._taskLoad>e._taskLoad?-1:1})),(i=this.workerPool[this.workerPool.length-1])._taskCosts[t]=e,i._taskLoad+=e,i})},_releaseTask:function(t,e){t._taskLoad-=t._taskCosts[e],delete t._callbacks[e],delete t._taskCosts[e]},debug:function(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))},dispose:function(){for(var t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}),zl.DRACOWorker=function(){var t,e;function i(t,e,i,n,r,s){var o=s.num_components(),a=i.num_points()*o,l=a*r.BYTES_PER_ELEMENT,c=function(t,e){switch(e){case Float32Array:return t.DT_FLOAT32;case Int8Array:return t.DT_INT8;case Int16Array:return t.DT_INT16;case Int32Array:return t.DT_INT32;case Uint8Array:return t.DT_UINT8;case Uint16Array:return t.DT_UINT16;case Uint32Array:return t.DT_UINT32}}(t,r),u=t._malloc(l);e.GetAttributeDataArrayForAllPoints(i,s,c,l,u);var h=new r(t.HEAPF32.buffer,u,a).slice();return t._free(u),{name:n,array:h,itemSize:o}}onmessage=function(n){var r=n.data;switch(r.type){case"init":t=r.decoderConfig,e=new Promise((function(e){t.onModuleLoaded=function(t){e({draco:t})},DracoDecoderModule(t)}));break;case"decode":var s=r.buffer,o=r.taskConfig;e.then(t=>{var e=t.draco,n=new e.Decoder,a=new e.DecoderBuffer;a.Init(new Int8Array(s),s.byteLength);try{var l=function(t,e,n,r){var s,o,a=r.attributeIDs,l=r.attributeTypes,c=e.GetEncodedGeometryType(n);if(c===t.TRIANGULAR_MESH)s=new t.Mesh,o=e.DecodeBufferToMesh(n,s);else{if(c!==t.POINT_CLOUD)throw new Error("THREE.DRACOLoader: Unexpected geometry type.");s=new t.PointCloud,o=e.DecodeBufferToPointCloud(n,s)}if(!o.ok()||0===s.ptr)throw new Error("THREE.DRACOLoader: Decoding failed: "+o.error_msg());var u={index:null,attributes:[]};for(var h in a){var d,p,f=self[l[h]];if(r.useUniqueIDs)p=a[h],d=e.GetAttributeByUniqueId(s,p);else{if(-1===(p=e.GetAttributeId(s,t[a[h]])))continue;d=e.GetAttribute(s,p)}u.attributes.push(i(t,e,s,h,f,d))}return c===t.TRIANGULAR_MESH&&(u.index=function(t,e,i){var n=3*i.num_faces(),r=4*n,s=t._malloc(r);e.GetTrianglesUInt32Array(i,r,s);var o=new Uint32Array(t.HEAPF32.buffer,s,n).slice();return t._free(s),{array:o,itemSize:1}}(t,e,s)),t.destroy(s),u}(e,n,a,o),c=l.attributes.map(t=>t.array.buffer);l.index&&c.push(l.index.array.buffer),self.postMessage({type:"decode",id:r.id,geometry:l},c)}catch(t){console.error(t),self.postMessage({type:"error",id:r.id,error:t.message})}finally{e.destroy(a),e.destroy(n)}})}}},zl.taskCache=new WeakMap,zl.setDecoderPath=function(){console.warn("THREE.DRACOLoader: The .setDecoderPath() method has been removed. Use instance methods.")},zl.setDecoderConfig=function(){console.warn("THREE.DRACOLoader: The .setDecoderConfig() method has been removed. Use instance methods.")},zl.releaseDecoderModule=function(){console.warn("THREE.DRACOLoader: The .releaseDecoderModule() method has been removed. Use instance methods.")},zl.getDecoderModule=function(){console.warn("THREE.DRACOLoader: The .getDecoderModule() method has been removed. Use instance methods.")};var jl=function(){function t(t){ko.call(this,t),this.dracoLoader=null,this.ddsLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register((function(t){return new o(t)})),this.register((function(t){return new l(t)})),this.register((function(t){return new c(t)})),this.register((function(t){return new a(t)})),this.register((function(t){return new r(t)})),this.register((function(t){return new u(t)}))}function e(){var t={};return{get:function(e){return t[e]},add:function(e,i){t[e]=i},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(ko.prototype),{constructor:t,load:function(t,e,i,n){var r,s=this;r=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:Ea(t),this.manager.itemStart(t);var o=function(e){n?n(e):console.error(e),s.manager.itemError(t),s.manager.itemEnd(t)},a=new Ro(this.manager);a.setPath(this.path),a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(t,(function(i){try{s.parse(i,r,(function(i){e(i),s.manager.itemEnd(t)}),o)}catch(t){o(t)}}),i,o)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},setKTX2Loader:function(t){return this.ktx2Loader=t,this},setMeshoptDecoder:function(t){return this.meshoptDecoder=t,this},register:function(t){return-1===this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.push(t),this},unregister:function(t){return-1!==this.pluginCallbacks.indexOf(t)&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this},parse:function(t,e,r,o){var a,l={},c={};if("string"==typeof t)a=t;else if(Ca(new Uint8Array(t,0,4))===h){try{l[i.KHR_BINARY_GLTF]=new f(t)}catch(t){return void(o&&o(t))}a=l[i.KHR_BINARY_GLTF].content}else a=Ca(new Uint8Array(t));var u=JSON.parse(a);if(void 0===u.asset||u.asset.version[0]<2)o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));else{var d=new Y(u,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});d.fileLoader.setRequestHeader(this.requestHeader);for(var p=0;p<this.pluginCallbacks.length;p++){var v=this.pluginCallbacks[p](d);c[v.name]=v,l[v.name]=!0}if(u.extensionsUsed)for(p=0;p<u.extensionsUsed.length;++p){var _=u.extensionsUsed[p],b=u.extensionsRequired||[];switch(_){case i.KHR_MATERIALS_UNLIT:l[_]=new s;break;case i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:l[_]=new A;break;case i.KHR_DRACO_MESH_COMPRESSION:l[_]=new g(u,this.dracoLoader);break;case i.MSFT_TEXTURE_DDS:l[_]=new n(this.ddsLoader);break;case i.KHR_TEXTURE_TRANSFORM:l[_]=new m;break;case i.KHR_MESH_QUANTIZATION:l[_]=new y;break;default:b.indexOf(_)>=0&&void 0===c[_]&&console.warn('THREE.GLTFLoader: Unknown extension "'+_+'".')}}d.setExtensions(l),d.setPlugins(c),d.parse(r,o)}}});var i={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function n(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=i.MSFT_TEXTURE_DDS,this.ddsLoader=t}function r(t){this.parser=t,this.name=i.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}function s(){this.name=i.KHR_MATERIALS_UNLIT}function o(t){this.parser=t,this.name=i.KHR_MATERIALS_CLEARCOAT}function a(t){this.parser=t,this.name=i.KHR_MATERIALS_TRANSMISSION}function l(t){this.parser=t,this.name=i.KHR_TEXTURE_BASISU}function c(t){this.parser=t,this.name=i.EXT_TEXTURE_WEBP,this.isSupported=null}function u(t){this.name=i.EXT_MESHOPT_COMPRESSION,this.parser=t}r.prototype._markDefs=function(){for(var t=this.parser,e=this.parser.json.nodes||[],i=0,n=e.length;i<n;i++){var r=e[i];r.extensions&&r.extensions[this.name]&&void 0!==r.extensions[this.name].light&&t._addNodeRef(this.cache,r.extensions[this.name].light)}},r.prototype._loadLight=function(t){var e=this.parser,i="light:"+t,n=e.cache.get(i);if(n)return n;var r,s=e.json,o=((s.extensions&&s.extensions[this.name]||{}).lights||[])[t],a=new ee(16777215);void 0!==o.color&&a.fromArray(o.color);var l=void 0!==o.range?o.range:0;switch(o.type){case"directional":(r=new Aa(a)).target.position.set(0,0,-1),r.add(r.target);break;case"point":(r=new ga(a)).distance=l;break;case"spot":(r=new pa(a)).distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=void 0!==o.spot.innerConeAngle?o.spot.innerConeAngle:0,o.spot.outerConeAngle=void 0!==o.spot.outerConeAngle?o.spot.outerConeAngle:Math.PI/4,r.angle=o.spot.outerConeAngle,r.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,r.target.position.set(0,0,-1),r.add(r.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return r.position.set(0,0,0),r.decay=2,void 0!==o.intensity&&(r.intensity=o.intensity),r.name=e.createUniqueName(o.name||"light_"+t),n=Promise.resolve(r),e.cache.add(i,n),n},r.prototype.createNodeAttachment=function(t){var e=this,i=this.parser,n=i.json.nodes[t],r=(n.extensions&&n.extensions[this.name]||{}).light;return void 0===r?null:this._loadLight(r).then((function(t){return i._getNodeRef(e.cache,r,t)}))},s.prototype.getMaterialType=function(){return se},s.prototype.extendParams=function(t,e,i){var n=[];t.color=new ee(1,1,1),t.opacity=1;var r=e.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){var s=r.baseColorFactor;t.color.fromArray(s),t.opacity=s[3]}void 0!==r.baseColorTexture&&n.push(i.assignTexture(t,"map",r.baseColorTexture))}return Promise.all(n)},o.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?so:null},o.prototype.extendMaterialParams=function(t,e){var i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=[],s=n.extensions[this.name];if(void 0!==s.clearcoatFactor&&(e.clearcoat=s.clearcoatFactor),void 0!==s.clearcoatTexture&&r.push(i.assignTexture(e,"clearcoatMap",s.clearcoatTexture)),void 0!==s.clearcoatRoughnessFactor&&(e.clearcoatRoughness=s.clearcoatRoughnessFactor),void 0!==s.clearcoatRoughnessTexture&&r.push(i.assignTexture(e,"clearcoatRoughnessMap",s.clearcoatRoughnessTexture)),void 0!==s.clearcoatNormalTexture&&(r.push(i.assignTexture(e,"clearcoatNormalMap",s.clearcoatNormalTexture)),void 0!==s.clearcoatNormalTexture.scale)){var o=s.clearcoatNormalTexture.scale;e.clearcoatNormalScale=new C(o,-o)}return Promise.all(r)},a.prototype.getMaterialType=function(t){var e=this.parser.json.materials[t];return e.extensions&&e.extensions[this.name]?so:null},a.prototype.extendMaterialParams=function(t,e){var i=this.parser,n=i.json.materials[t];if(!n.extensions||!n.extensions[this.name])return Promise.resolve();var r=[],s=n.extensions[this.name];return void 0!==s.transmissionFactor&&(e.transmission=s.transmissionFactor),void 0!==s.transmissionTexture&&r.push(i.assignTexture(e,"transmissionMap",s.transmissionTexture)),Promise.all(r)},l.prototype.loadTexture=function(t){var e=this.parser,i=e.json,n=i.textures[t];if(!n.extensions||!n.extensions[this.name])return null;var r=n.extensions[this.name],s=i.images[r.source],o=e.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return e.loadTextureImage(t,s,o)},c.prototype.loadTexture=function(t){var e=this.name,i=this.parser,n=i.json,r=n.textures[t];if(!r.extensions||!r.extensions[e])return null;var s=r.extensions[e],o=n.images[s.source],a=o.uri?i.options.manager.getHandler(o.uri):i.textureLoader;return this.detectSupport().then((function(r){if(r)return i.loadTextureImage(t,o,a);if(n.extensionsRequired&&n.extensionsRequired.indexOf(e)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(t)}))},c.prototype.detectSupport=function(){return this.isSupported||(this.isSupported=new Promise((function(t){var e=new Image;e.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",e.onload=e.onerror=function(){t(1===e.height)}}))),this.isSupported},u.prototype.loadBufferView=function(t){var e=this.parser.json,i=e.bufferViews[t];if(i.extensions&&i.extensions[this.name]){var n=i.extensions[this.name],r=this.parser.getDependency("buffer",n.buffer),s=this.parser.options.meshoptDecoder;if(!s||!s.supported){if(e.extensionsRequired&&e.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return Promise.all([r,s.ready]).then((function(t){var e=n.byteOffset||0,i=n.byteLength||0,r=n.count,o=n.byteStride,a=new ArrayBuffer(r*o),l=new Uint8Array(t[0],e,i);return s.decodeGltfBuffer(new Uint8Array(a),r,o,l,n.mode,n.filter),a}))}return null};var h="glTF",d=1313821514,p=5130562;function f(t){this.name=i.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:Ca(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==h)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");for(var n=this.header.length-12,r=new DataView(t,12),s=0;s<n;){var o=r.getUint32(s,!0);s+=4;var a=r.getUint32(s,!0);if(s+=4,a===d){var l=new Uint8Array(t,12+s,o);this.content=Ca(l)}else if(a===p){var c=12+s;this.body=t.slice(c,c+o)}s+=o}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function g(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=i.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e,this.dracoLoader.preload()}function m(){this.name=i.KHR_TEXTURE_TRANSFORM}function v(t){ro.call(this),this.isGLTFSpecularGlossinessMaterial=!0;var e=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),i=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),n=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),r=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),s=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.specularRoughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.specularRoughness += geometryRoughness;","material.specularRoughness = min( material.specularRoughness, 1.0 );","material.specularColor = specularFactor;"].join("\n"),o={specular:{value:(new ee).setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=o,this.onBeforeCompile=function(t){for(var a in o)t.uniforms[a]=o[a];t.fragmentShader=t.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",e).replace("#include <metalnessmap_pars_fragment>",i).replace("#include <roughnessmap_fragment>",n).replace("#include <metalnessmap_fragment>",r).replace("#include <lights_physical_fragment>",s)},Object.defineProperties(this,{specular:{get:function(){return o.specular.value},set:function(t){o.specular.value=t}},specularMap:{get:function(){return o.specularMap.value},set:function(t){o.specularMap.value=t,t?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return o.glossiness.value},set:function(t){o.glossiness.value=t}},glossinessMap:{get:function(){return o.glossinessMap.value},set:function(t){o.glossinessMap.value=t,t?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(t)}function A(){return{name:i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return v},extendParams:function(t,e,i){var n=e.extensions[this.name];t.color=new ee(1,1,1),t.opacity=1;var r=[];if(Array.isArray(n.diffuseFactor)){var s=n.diffuseFactor;t.color.fromArray(s),t.opacity=s[3]}if(void 0!==n.diffuseTexture&&r.push(i.assignTexture(t,"map",n.diffuseTexture)),t.emissive=new ee(0,0,0),t.glossiness=void 0!==n.glossinessFactor?n.glossinessFactor:1,t.specular=new ee(1,1,1),Array.isArray(n.specularFactor)&&t.specular.fromArray(n.specularFactor),void 0!==n.specularGlossinessTexture){var o=n.specularGlossinessTexture;r.push(i.assignTexture(t,"glossinessMap",o)),r.push(i.assignTexture(t,"specularMap",o))}return Promise.all(r)},createMaterial:function(t){var e=new v(t);return e.fog=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,e.normalMapType=0,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e}}}function y(){this.name=i.KHR_MESH_QUANTIZATION}function _(t,e,i,n){go.call(this,t,e,i,n)}g.prototype.decodePrimitive=function(t,e){var i=this.json,n=this.dracoLoader,r=t.extensions[this.name].bufferView,s=t.extensions[this.name].attributes,o={},a={},l={};for(var c in s){var u=D[c]||c.toLowerCase();o[u]=s[c]}for(c in t.attributes)if(u=D[c]||c.toLowerCase(),void 0!==s[c]){var h=i.accessors[t.attributes[c]],d=B[h.componentType];l[u]=d,a[u]=!0===h.normalized}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e){n.decodeDracoFile(t,(function(t){for(var i in t.attributes){var n=t.attributes[i],r=a[i];void 0!==r&&(n.normalized=r)}e(t)}),o,l)}))}))},m.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},v.prototype=Object.create(ro.prototype),v.prototype.constructor=v,v.prototype.copy=function(t){return ro.prototype.copy.call(this,t),this.specularMap=t.specularMap,this.specular.copy(t.specular),this.glossinessMap=t.glossinessMap,this.glossiness=t.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this},_.prototype=Object.create(go.prototype),_.prototype.constructor=_,_.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=t*n*3+n,s=0;s!==n;s++)e[s]=i[r+s];return e},_.prototype.beforeStart_=_.prototype.copySampleValue_,_.prototype.afterEnd_=_.prototype.copySampleValue_,_.prototype.interpolate_=function(t,e,i,n){for(var r=this.resultBuffer,s=this.sampleValues,o=this.valueSize,a=2*o,l=3*o,c=n-e,u=(i-e)/c,h=u*u,d=h*u,p=t*l,f=p-l,g=-2*d+3*h,m=d-h,v=1-g,A=m-h+u,y=0;y!==o;y++){var _=s[f+y+o],b=s[f+y+a]*c,w=s[p+y+o],x=s[p+y]*c;r[y]=v*_+A*b+g*w+m*x}return r};var b=0,w=1,E=2,S=3,I=4,T=5,M=6,B={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},k={9728:1003,9729:1006,9984:1004,9985:1007,9986:1005,9987:1008},L={33071:1001,33648:1002,10497:1e3},R={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},D={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},O={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},N={CUBICSPLINE:void 0,LINEAR:2301,STEP:2300},Q="OPAQUE",H="MASK",U="BLEND";function G(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function z(t){return void 0===t.DefaultMaterial&&(t.DefaultMaterial=new ro({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:0})),t.DefaultMaterial}function j(t,e,i){for(var n in i.extensions)void 0===t[n]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[n]=i.extensions[n])}function V(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function W(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var i=0,n=e.weights.length;i<n;i++)t.morphTargetInfluences[i]=e.weights[i];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},i=0,n=r.length;i<n;i++)t.morphTargetDictionary[r[i]]=i;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function q(t){for(var e="",i=Object.keys(t).sort(),n=0,r=i.length;n<r;n++)e+=i[n]+":"+t[i[n]]+";";return e}function Y(t,i){this.json=t||{},this.extensions={},this.plugins={},this.options=i||{},this.cache=new e,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.nodeNamesUsed={},"undefined"!=typeof createImageBitmap&&!1===/Firefox/.test(navigator.userAgent)?this.textureLoader=new Ma(this.options.manager):this.textureLoader=new Qo(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new Ro(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function $(t,e,i){var n=e.attributes,r=[];function s(e,n){return i.getDependency("accessor",e).then((function(e){t.setAttribute(n,e)}))}for(var o in n){var a=D[o]||o.toLowerCase();a in t.attributes||r.push(s(n[o],a))}if(void 0!==e.indices&&!t.index){var l=i.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(l)}return V(t,e),function(t,e,i){var n=e.attributes,r=new F;if(void 0!==n.POSITION){var s=(d=i.json.accessors[n.POSITION]).min,o=d.max;if(void 0!==s&&void 0!==o){r.set(new P(s[0],s[1],s[2]),new P(o[0],o[1],o[2]));var a=e.targets;if(void 0!==a){for(var l=new P,c=new P,u=0,h=a.length;u<h;u++){var d,p=a[u];void 0!==p.POSITION&&(s=(d=i.json.accessors[p.POSITION]).min,o=d.max,void 0!==s&&void 0!==o?(c.setX(Math.max(Math.abs(s[0]),Math.abs(o[0]))),c.setY(Math.max(Math.abs(s[1]),Math.abs(o[1]))),c.setZ(Math.max(Math.abs(s[2]),Math.abs(o[2]))),l.max(c)):console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION."))}r.expandByVector(l)}t.boundingBox=r;var f=new Z;r.getCenter(f.center),f.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=f}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}(t,e,i),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,i){for(var n=!1,r=!1,s=0,o=e.length;s<o&&(void 0!==(c=e[s]).POSITION&&(n=!0),void 0!==c.NORMAL&&(r=!0),!n||!r);s++);if(!n&&!r)return Promise.resolve(t);var a=[],l=[];for(s=0,o=e.length;s<o;s++){var c=e[s];if(n){var u=void 0!==c.POSITION?i.getDependency("accessor",c.POSITION):t.attributes.position;a.push(u)}r&&(u=void 0!==c.NORMAL?i.getDependency("accessor",c.NORMAL):t.attributes.normal,l.push(u))}return Promise.all([Promise.all(a),Promise.all(l)]).then((function(e){var i=e[0],s=e[1];return n&&(t.morphAttributes.position=i),r&&(t.morphAttributes.normal=s),t.morphTargetsRelative=!0,t}))}(t,e.targets,i):t}))}function J(t,e){var i=t.getIndex();if(null===i){var n=[],r=t.getAttribute("position");if(void 0===r)return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t;for(var s=0;s<r.count;s++)n.push(s);t.setIndex(n),i=t.getIndex()}var o=i.count-2,a=[];if(2===e)for(s=1;s<=o;s++)a.push(i.getX(0)),a.push(i.getX(s)),a.push(i.getX(s+1));else for(s=0;s<o;s++)s%2==0?(a.push(i.getX(s)),a.push(i.getX(s+1)),a.push(i.getX(s+2))):(a.push(i.getX(s+2)),a.push(i.getX(s+1)),a.push(i.getX(s)));a.length/3!==o&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");var l=t.clone();return l.setIndex(a),l}return Y.prototype.setExtensions=function(t){this.extensions=t},Y.prototype.setPlugins=function(t){this.plugins=t},Y.prototype.parse=function(t,e){var i=this,n=this.json,r=this.extensions;this.cache.removeAll(),this._invokeAll((function(t){return t._markDefs&&t._markDefs()})),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var s={scene:e[0][n.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:n.asset,parser:i,userData:{}};j(r,s,n),V(s,n),t(s)})).catch(e)},Y.prototype._markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],i=this.json.meshes||[],n=0,r=e.length;n<r;n++)for(var s=e[n].joints,o=0,a=s.length;o<a;o++)t[s[o]].isBone=!0;for(var l=0,c=t.length;l<c;l++){var u=t[l];void 0!==u.mesh&&(this._addNodeRef(this.meshCache,u.mesh),void 0!==u.skin&&(i[u.mesh].isSkinnedMesh=!0)),void 0!==u.camera&&this._addNodeRef(this.cameraCache,u.camera)}},Y.prototype._addNodeRef=function(t,e){void 0!==e&&(void 0===t.refs[e]&&(t.refs[e]=t.uses[e]=0),t.refs[e]++)},Y.prototype._getNodeRef=function(t,e,i){if(t.refs[e]<=1)return i;var n=i.clone();return n.name+="_instance_"+t.uses[e]++,n},Y.prototype._invokeOne=function(t){var e=Object.values(this.plugins);e.push(this);for(var i=0;i<e.length;i++){var n=t(e[i]);if(n)return n}},Y.prototype._invokeAll=function(t){var e=Object.values(this.plugins);e.unshift(this);for(var i=[],n=0;n<e.length;n++){var r=t(e[n]);r&&i.push(r)}return i},Y.prototype.getDependency=function(t,e){var i=t+":"+e,n=this.cache.get(i);if(!n){switch(t){case"scene":n=this.loadScene(e);break;case"node":n=this.loadNode(e);break;case"mesh":n=this._invokeOne((function(t){return t.loadMesh&&t.loadMesh(e)}));break;case"accessor":n=this.loadAccessor(e);break;case"bufferView":n=this._invokeOne((function(t){return t.loadBufferView&&t.loadBufferView(e)}));break;case"buffer":n=this.loadBuffer(e);break;case"material":n=this._invokeOne((function(t){return t.loadMaterial&&t.loadMaterial(e)}));break;case"texture":n=this._invokeOne((function(t){return t.loadTexture&&t.loadTexture(e)}));break;case"skin":n=this.loadSkin(e);break;case"animation":n=this.loadAnimation(e);break;case"camera":n=this.loadCamera(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(i,n)}return n},Y.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var i=this,n=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(n.map((function(e,n){return i.getDependency(t,n)}))),this.cache.add(t,e)}return e},Y.prototype.loadBuffer=function(t){var e=this.json.buffers[t],n=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[i.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(t,i){n.load(G(e.uri,r.path),t,void 0,(function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},Y.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var i=e.byteLength||0,n=e.byteOffset||0;return t.slice(n,n+i)}))},Y.prototype.loadAccessor=function(t){var e=this,i=this.json,n=this.json.accessors[t];if(void 0===n.bufferView&&void 0===n.sparse)return Promise.resolve(null);var r=[];return void 0!==n.bufferView?r.push(this.getDependency("bufferView",n.bufferView)):r.push(null),void 0!==n.sparse&&(r.push(this.getDependency("bufferView",n.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",n.sparse.values.bufferView))),Promise.all(r).then((function(t){var r,s=t[0],o=R[n.type],a=B[n.componentType],l=a.BYTES_PER_ELEMENT,c=l*o,u=n.byteOffset||0,h=void 0!==n.bufferView?i.bufferViews[n.bufferView].byteStride:void 0,d=!0===n.normalized;if(h&&h!==c){var p=Math.floor(u/h),f="InterleavedBuffer:"+n.bufferView+":"+n.componentType+":"+p+":"+n.count,g=e.cache.get(f);g||(g=new yr(new a(s,p*h,n.count*h/l),h/l),e.cache.add(f,g)),r=new br(g,o,u%h/l,d)}else r=new le(null===s?new a(n.count*o):new a(s,u,n.count*o),o,d);if(void 0!==n.sparse){var m=R.SCALAR,v=B[n.sparse.indices.componentType],A=n.sparse.indices.byteOffset||0,y=n.sparse.values.byteOffset||0,_=new v(t[1],A,n.sparse.count*m),b=new a(t[2],y,n.sparse.count*o);null!==s&&(r=new le(r.array.slice(),r.itemSize,r.normalized));for(var w=0,x=_.length;w<x;w++){var C=_[w];if(r.setX(C,b[w*o]),o>=2&&r.setY(C,b[w*o+1]),o>=3&&r.setZ(C,b[w*o+2]),o>=4&&r.setW(C,b[w*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return r}))},Y.prototype.loadTexture=function(t){var e,n,r=this.json,s=this.options,o=r.textures[t],a=o.extensions||{};return(e=a[i.MSFT_TEXTURE_DDS]?r.images[a[i.MSFT_TEXTURE_DDS].source]:r.images[o.source]).uri&&(n=s.manager.getHandler(e.uri)),n||(n=a[i.MSFT_TEXTURE_DDS]?this.extensions[i.MSFT_TEXTURE_DDS].ddsLoader:this.textureLoader),this.loadTextureImage(t,e,n)},Y.prototype.loadTextureImage=function(t,e,i){var n=this,r=this.json,s=this.options,o=r.textures[t],a=self.URL||self.webkitURL,l=e.uri,c=!1,u=!0;return"image/jpeg"===e.mimeType&&(u=!1),void 0!==e.bufferView&&(l=n.getDependency("bufferView",e.bufferView).then((function(t){if("image/png"===e.mimeType){var i=new DataView(t,25,1).getUint8(0,!1);u=6===i||4===i||3===i}c=!0;var n=new Blob([t],{type:e.mimeType});return l=a.createObjectURL(n)}))),Promise.resolve(l).then((function(t){return new Promise((function(e,n){var r=e;!0===i.isImageBitmapLoader&&(r=function(t){e(new ws(t))}),i.load(G(t,s.path),r,void 0,n)}))})).then((function(e){!0===c&&a.revokeObjectURL(l),e.flipY=!1,o.name&&(e.name=o.name),u||(e.format=1022);var i=(r.samplers||{})[o.sampler]||{};return e.magFilter=k[i.magFilter]||1006,e.minFilter=k[i.minFilter]||1008,e.wrapS=L[i.wrapS]||1e3,e.wrapT=L[i.wrapT]||1e3,n.associations.set(e,{type:"textures",index:t}),e}))},Y.prototype.assignTexture=function(t,e,n){var r=this;return this.getDependency("texture",n.index).then((function(s){if(void 0===n.texCoord||0==n.texCoord||"aoMap"===e&&1==n.texCoord||console.warn("THREE.GLTFLoader: Custom UV set "+n.texCoord+" for texture "+e+" not yet supported."),r.extensions[i.KHR_TEXTURE_TRANSFORM]){var o=void 0!==n.extensions?n.extensions[i.KHR_TEXTURE_TRANSFORM]:void 0;if(o){var a=r.associations.get(s);s=r.extensions[i.KHR_TEXTURE_TRANSFORM].extendTexture(s,o),r.associations.set(s,a)}}t[e]=s}))},Y.prototype.assignFinalMaterial=function(t){var e=t.geometry,i=t.material,n=void 0!==e.attributes.tangent,r=void 0!==e.attributes.color,s=void 0===e.attributes.normal,o=!0===t.isSkinnedMesh,a=Object.keys(e.morphAttributes).length>0,l=a&&void 0!==e.morphAttributes.normal;if(t.isPoints){var c="PointsMaterial:"+i.uuid,u=this.cache.get(c);u||(u=new ps,re.prototype.copy.call(u,i),u.color.copy(i.color),u.map=i.map,u.sizeAttenuation=!1,this.cache.add(c,u)),i=u}else if(t.isLine){c="LineBasicMaterial:"+i.uuid;var h=this.cache.get(c);h||(h=new is,re.prototype.copy.call(h,i),h.color.copy(i.color),this.cache.add(c,h)),i=h}if(n||r||s||o||a){c="ClonedMaterial:"+i.uuid+":",i.isGLTFSpecularGlossinessMaterial&&(c+="specular-glossiness:"),o&&(c+="skinning:"),n&&(c+="vertex-tangents:"),r&&(c+="vertex-colors:"),s&&(c+="flat-shading:"),a&&(c+="morph-targets:"),l&&(c+="morph-normals:");var d=this.cache.get(c);d||(d=i.clone(),o&&(d.skinning=!0),r&&(d.vertexColors=!0),s&&(d.flatShading=!0),a&&(d.morphTargets=!0),l&&(d.morphNormals=!0),n&&(d.vertexTangents=!0,d.normalScale&&(d.normalScale.y*=-1),d.clearcoatNormalScale&&(d.clearcoatNormalScale.y*=-1)),this.cache.add(c,d),this.associations.set(d,this.associations.get(i))),i=d}i.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&e.setAttribute("uv2",e.attributes.uv),t.material=i},Y.prototype.getMaterialType=function(){return ro},Y.prototype.loadMaterial=function(t){var e,n=this,r=this.json,s=this.extensions,o=r.materials[t],a={},l=o.extensions||{},c=[];if(l[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var u=s[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=u.getMaterialType(),c.push(u.extendParams(a,o,n))}else if(l[i.KHR_MATERIALS_UNLIT]){var h=s[i.KHR_MATERIALS_UNLIT];e=h.getMaterialType(),c.push(h.extendParams(a,o,n))}else{var d=o.pbrMetallicRoughness||{};if(a.color=new ee(1,1,1),a.opacity=1,Array.isArray(d.baseColorFactor)){var p=d.baseColorFactor;a.color.fromArray(p),a.opacity=p[3]}void 0!==d.baseColorTexture&&c.push(n.assignTexture(a,"map",d.baseColorTexture)),a.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,a.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(c.push(n.assignTexture(a,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(a,"roughnessMap",d.metallicRoughnessTexture))),e=this._invokeOne((function(e){return e.getMaterialType&&e.getMaterialType(t)})),c.push(Promise.all(this._invokeAll((function(e){return e.extendMaterialParams&&e.extendMaterialParams(t,a)}))))}!0===o.doubleSided&&(a.side=2);var f=o.alphaMode||Q;return f===U?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,f===H&&(a.alphaTest=void 0!==o.alphaCutoff?o.alphaCutoff:.5)),void 0!==o.normalTexture&&e!==se&&(c.push(n.assignTexture(a,"normalMap",o.normalTexture)),a.normalScale=new C(1,-1),void 0!==o.normalTexture.scale&&a.normalScale.set(o.normalTexture.scale,-o.normalTexture.scale)),void 0!==o.occlusionTexture&&e!==se&&(c.push(n.assignTexture(a,"aoMap",o.occlusionTexture)),void 0!==o.occlusionTexture.strength&&(a.aoMapIntensity=o.occlusionTexture.strength)),void 0!==o.emissiveFactor&&e!==se&&(a.emissive=(new ee).fromArray(o.emissiveFactor)),void 0!==o.emissiveTexture&&e!==se&&c.push(n.assignTexture(a,"emissiveMap",o.emissiveTexture)),Promise.all(c).then((function(){var r;return r=e===v?s[i.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(a):new e(a),o.name&&(r.name=o.name),r.map&&(r.map.encoding=3001),r.emissiveMap&&(r.emissiveMap.encoding=3001),V(r,o),n.associations.set(r,{type:"materials",index:t}),o.extensions&&j(s,r,o),r}))},Y.prototype.createUniqueName=function(t){for(var e=Xa.sanitizeNodeName(t||""),i=e,n=1;this.nodeNamesUsed[i];++n)i=e+"_"+n;return this.nodeNamesUsed[i]=!0,i},Y.prototype.loadGeometries=function(t){var e=this,n=this.extensions,r=this.primitiveCache;function s(t){return n[i.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(i){return $(i,t,e)}))}for(var o,a,l=[],c=0,u=t.length;c<u;c++){var h,d=t[c],p=(a=void 0,(a=(o=d).extensions&&o.extensions[i.KHR_DRACO_MESH_COMPRESSION])?"draco:"+a.bufferView+":"+a.indices+":"+q(a.attributes):o.indices+":"+q(o.attributes)+":"+o.mode),f=r[p];f?l.push(f.promise):(h=d.extensions&&d.extensions[i.KHR_DRACO_MESH_COMPRESSION]?s(d):$(new Me,d,e),r[p]={primitive:d,promise:h},l.push(h))}return Promise.all(l)},Y.prototype.loadMesh=function(t){for(var e=this,i=this.json,n=this.extensions,r=i.meshes[t],s=r.primitives,o=[],a=0,l=s.length;a<l;a++){var c=void 0===s[a].material?z(this.cache):this.getDependency("material",s[a].material);o.push(c)}return o.push(e.loadGeometries(s)),Promise.all(o).then((function(i){for(var o=i.slice(0,i.length-1),a=i[i.length-1],l=[],c=0,u=a.length;c<u;c++){var h,d=a[c],p=s[c],f=o[c];if(p.mode===I||p.mode===T||p.mode===M||void 0===p.mode)h=!0===r.isSkinnedMesh?new Wr(d,f):new qe(d,f),!0===f.isMeshStandardMaterial&&2===f.side&&null!==d.getIndex()&&!0===d.hasAttribute("position")&&!0===d.hasAttribute("normal")&&!0===d.hasAttribute("uv")&&!1===d.hasAttribute("tangent")&&(d.computeTangents(),f.vertexTangents=!0),!0!==h.isSkinnedMesh||h.geometry.attributes.skinWeight.normalized||h.normalizeSkinWeights(),p.mode===T?h.geometry=J(h.geometry,1):p.mode===M&&(h.geometry=J(h.geometry,2));else if(p.mode===w)h=new hs(d,f);else if(p.mode===S)h=new ls(d,f);else if(p.mode===E)h=new ds(d,f);else{if(p.mode!==b)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);h=new As(d,f)}Object.keys(h.geometry.morphAttributes).length>0&&W(h,r),h.name=e.createUniqueName(r.name||"mesh_"+t),V(h,r),p.extensions&&j(n,h,p),e.assignFinalMaterial(h),l.push(h)}if(1===l.length)return l[0];var g=new dr;for(c=0,u=l.length;c<u;c++)g.add(l[c]);return g}))},Y.prototype.loadCamera=function(t){var e,i=this.json.cameras[t],n=i[i.type];if(n)return"perspective"===i.type?e=new ei(x.radToDeg(n.yfov),n.aspectRatio||1,n.znear||1,n.zfar||2e6):"orthographic"===i.type&&(e=new ma(-n.xmag,n.xmag,n.ymag,-n.ymag,n.znear,n.zfar)),i.name&&(e.name=this.createUniqueName(i.name)),V(e,i),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},Y.prototype.loadSkin=function(t){var e=this.json.skins[t],i={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(i):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return i.inverseBindMatrices=t,i}))},Y.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],i=[],n=[],r=[],s=[],o=[],a=0,l=e.channels.length;a<l;a++){var c=e.channels[a],u=e.samplers[c.sampler],h=c.target,d=void 0!==h.node?h.node:h.id,p=void 0!==e.parameters?e.parameters[u.input]:u.input,f=void 0!==e.parameters?e.parameters[u.output]:u.output;i.push(this.getDependency("node",d)),n.push(this.getDependency("accessor",p)),r.push(this.getDependency("accessor",f)),s.push(u),o.push(h)}return Promise.all([Promise.all(i),Promise.all(n),Promise.all(r),Promise.all(s),Promise.all(o)]).then((function(i){for(var n=i[0],r=i[1],s=i[2],o=i[3],a=i[4],l=[],c=0,u=n.length;c<u;c++){var h=n[c],d=r[c],p=s[c],f=o[c],g=a[c];if(void 0!==h){var m;switch(h.updateMatrix(),h.matrixAutoUpdate=!0,O[g.path]){case O.weights:m=wo;break;case O.rotation:m=Co;break;case O.position:case O.scale:default:m=So}var v=h.name?h.name:h.uuid,A=void 0!==f.interpolation?N[f.interpolation]:2301,y=[];O[g.path]===O.weights?h.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&y.push(t.name?t.name:t.uuid)})):y.push(v);var b=p.array;if(p.normalized){var w;if(b.constructor===Int8Array)w=1/127;else if(b.constructor===Uint8Array)w=1/255;else if(b.constructor==Int16Array)w=1/32767;else{if(b.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");w=1/65535}for(var x=new Float32Array(b.length),C=0,E=b.length;C<E;C++)x[C]=b[C]*w;b=x}for(C=0,E=y.length;C<E;C++){var S=new m(y[C]+"."+O[g.path],d.array,b,A);"CUBICSPLINE"===f.interpolation&&(S.createInterpolant=function(t){return new _(this.times,this.values,this.getValueSize()/3,t)},S.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),l.push(S)}}}return new Io(e.name?e.name:"animation_"+t,void 0,l)}))},Y.prototype.loadNode=function(t){var e,i=this.json,n=this.extensions,r=this,s=i.nodes[t],o=s.name?r.createUniqueName(s.name):"";return(e=[],void 0!==s.mesh&&e.push(r.getDependency("mesh",s.mesh).then((function(t){var e=r._getNodeRef(r.meshCache,s.mesh,t);return void 0!==s.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,i=s.weights.length;e<i;e++)t.morphTargetInfluences[e]=s.weights[e]})),e}))),void 0!==s.camera&&e.push(r.getDependency("camera",s.camera).then((function(t){return r._getNodeRef(r.cameraCache,s.camera,t)}))),r._invokeAll((function(e){return e.createNodeAttachment&&e.createNodeAttachment(t)})).forEach((function(t){e.push(t)})),Promise.all(e)).then((function(e){var i;if((i=!0===s.isBone?new qr:e.length>1?new dr:1===e.length?e[0]:new Rt)!==e[0])for(var a=0,l=e.length;a<l;a++)i.add(e[a]);if(s.name&&(i.userData.name=s.name,i.name=o),V(i,s),s.extensions&&j(n,i,s),void 0!==s.matrix){var c=new lt;c.fromArray(s.matrix),i.applyMatrix4(c)}else void 0!==s.translation&&i.position.fromArray(s.translation),void 0!==s.rotation&&i.quaternion.fromArray(s.rotation),void 0!==s.scale&&i.scale.fromArray(s.scale);return r.associations.set(i,{type:"nodes",index:t}),i}))},Y.prototype.loadScene=function(){function t(e,i,n,r){var s=n.nodes[e];return r.getDependency("node",e).then((function(t){return void 0===s.skin?t:r.getDependency("skin",s.skin).then((function(t){for(var i=[],n=0,s=(e=t).joints.length;n<s;n++)i.push(r.getDependency("node",e.joints[n]));return Promise.all(i)})).then((function(i){return t.traverse((function(t){if(t.isMesh){for(var n=[],r=[],s=0,o=i.length;s<o;s++){var a=i[s];if(a){n.push(a);var l=new lt;void 0!==e.inverseBindMatrices&&l.fromArray(e.inverseBindMatrices.array,16*s),r.push(l)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[s])}t.bind(new Jr(n,r),t.matrixWorld)}})),t}));var e})).then((function(e){i.add(e);var o=[];if(s.children)for(var a=s.children,l=0,c=a.length;l<c;l++){var u=a[l];o.push(t(u,e,n,r))}return Promise.all(o)}))}return function(e){var i=this.json,n=this.extensions,r=this.json.scenes[e],s=new dr;r.name&&(s.name=this.createUniqueName(r.name)),V(s,r),r.extensions&&j(n,s,r);for(var o=r.nodes||[],a=[],l=0,c=o.length;l<c;l++)a.push(t(o[l],s,i,this));return Promise.all(a).then((function(){return s}))}}(),t}(),Vl=function(t){ko.call(this,t),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.workerConfig=null};let Wl,ql,Yl;Vl.taskCache=new WeakMap,Vl.prototype=Object.assign(Object.create(ko.prototype),{constructor:Vl,setTranscoderPath:function(t){return this.transcoderPath=t,this},setWorkerLimit:function(t){return this.workerLimit=t,this},detectSupport:function(t){return this.workerConfig={astcSupported:t.extensions.has("WEBGL_compressed_texture_astc"),etc1Supported:t.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:t.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:t.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:t.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:t.extensions.has("WEBGL_compressed_texture_pvrtc")||t.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this},load:function(t,e,i,n){var r=new Ro(this.manager);r.setResponseType("arraybuffer"),r.setWithCredentials(this.withCredentials);var s=new bs;return r.load(t,t=>{if(Vl.taskCache.has(t))return Vl.taskCache.get(t).promise.then(e).catch(n);this._createTexture([t]).then((function(t){s.copy(t),s.needsUpdate=!0,e&&e(s)})).catch(n)},i,n),s},parseInternalAsync:function(t){for(var{levels:e}=t,i=new Set,n=0;n<e.length;n++)i.add(e[n].data.buffer);return this._createTexture(Array.from(i),{...t,lowLevel:!0})},_createTexture:function(t,e){for(var i,n,r=e||{},s=0,o=0;o<t.length;o++)s+=t[o].byteLength;var a=this._allocateWorker(s).then(e=>(i=e,n=this.workerNextTaskID++,new Promise((e,s)=>{i._callbacks[n]={resolve:e,reject:s},i.postMessage({type:"transcode",id:n,buffers:t,taskConfig:r},t)}))).then(t=>{var{mipmaps:e,width:i,height:n,format:r}=t,s=new bs(e,i,n,r,1009);return s.minFilter=1===e.length?1006:1008,s.magFilter=1006,s.generateMipmaps=!1,s.needsUpdate=!0,s});return a.catch(()=>!0).then(()=>{i&&n&&(i._taskLoad-=s,delete i._callbacks[n])}),Vl.taskCache.set(t[0],{promise:a}),a},_initTranscoder:function(){if(!this.transcoderPending){var t=new Ro(this.manager);t.setPath(this.transcoderPath),t.setWithCredentials(this.withCredentials);var e=new Promise((e,i)=>{t.load("basis_transcoder.js",e,void 0,i)}),i=new Ro(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);var n=new Promise((t,e)=>{i.load("basis_transcoder.wasm",t,void 0,e)});this.transcoderPending=Promise.all([e,n]).then(([t,e])=>{var i=Vl.BasisWorker.toString(),n=["/* constants */","var _EngineFormat = "+JSON.stringify(Vl.EngineFormat),"var _TranscoderFormat = "+JSON.stringify(Vl.TranscoderFormat),"var _BasisFormat = "+JSON.stringify(Vl.BasisFormat),"/* basis_transcoder.js */",t,"/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join("\n");this.workerSourceURL=URL.createObjectURL(new Blob([n])),this.transcoderBinary=e})}return this.transcoderPending},_allocateWorker:function(t){return this._initTranscoder().then(()=>{var e;return this.workerPool.length<this.workerLimit?((e=new Worker(this.workerSourceURL))._callbacks={},e._taskLoad=0,e.postMessage({type:"init",config:this.workerConfig,transcoderBinary:this.transcoderBinary}),e.onmessage=function(t){var i=t.data;switch(i.type){case"transcode":e._callbacks[i.id].resolve(i);break;case"error":e._callbacks[i.id].reject(i);break;default:console.error('THREE.BasisTextureLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(e)):this.workerPool.sort((function(t,e){return t._taskLoad>e._taskLoad?-1:1})),(e=this.workerPool[this.workerPool.length-1])._taskLoad+=t,e})},dispose:function(){for(var t=0;t<this.workerPool.length;t++)this.workerPool[t].terminate();return this.workerPool.length=0,this}}),Vl.BasisFormat={ETC1S:0,UASTC_4x4:1},Vl.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16},Vl.EngineFormat={RGBAFormat:1023,RGBA_ASTC_4x4_Format:37808,RGBA_BPTC_Format:36492,RGBA_ETC2_EAC_Format:37496,RGBA_PVRTC_4BPPV1_Format:35842,RGBA_S3TC_DXT5_Format:33779,RGB_ETC1_Format:36196,RGB_ETC2_Format:37492,RGB_PVRTC_4BPPV1_Format:35840,RGB_S3TC_DXT1_Format:33776},Vl.BasisWorker=function(){var t,e,i,n=_EngineFormat,r=_TranscoderFormat,s=_BasisFormat;onmessage=function(n){var r,o=n.data;switch(o.type){case"init":t=o.config,r=o.transcoderBinary,e=new Promise(t=>{i={wasmBinary:r,onRuntimeInitialized:t},BASIS(i)}).then(()=>{i.initializeBasis()});break;case"transcode":e.then(()=>{try{for(var{width:t,height:e,hasAlpha:n,mipmaps:r,format:a}=o.taskConfig.lowLevel?function(t){var{basisFormat:e,width:n,height:r,hasAlpha:o}=t,{transcoderFormat:a,engineFormat:l}=c(e,n,r,o),f=i.getBytesPerBlockOrPixel(a);u(i.isFormatSupported(a),"THREE.BasisTextureLoader: Unsupported format.");var g=[];if(e===s.ETC1S){var m=new i.LowLevelETC1SImageTranscoder,{endpointCount:v,endpointsData:A,selectorCount:y,selectorsData:_,tablesData:b}=t.globalData;try{u(m.decodePalettes(v,A,y,_),"THREE.BasisTextureLoader: decodePalettes() failed."),u(m.decodeTables(b),"THREE.BasisTextureLoader: decodeTables() failed.");for(var w=0;w<t.levels.length;w++){var x=t.levels[w],C=t.globalData.imageDescs[w],E=p(a,x.width,x.height),S=new Uint8Array(E);u(m.transcodeImage(a,S,E/f,x.data,h(a,x.width),d(a,x.height),x.width,x.height,x.index,C.rgbSliceByteOffset,C.rgbSliceByteLength,C.alphaSliceByteOffset,C.alphaSliceByteLength,C.imageFlags,o,!1,0,0),"THREE.BasisTextureLoader: transcodeImage() failed for level "+x.index+"."),g.push({data:S,width:x.width,height:x.height})}}finally{m.delete()}}else for(w=0;w<t.levels.length;w++)E=p(a,(x=t.levels[w]).width,x.height),S=new Uint8Array(E),u(i.transcodeUASTCImage(a,S,E/f,x.data,h(a,x.width),d(a,x.height),x.width,x.height,x.index,0,x.data.byteLength,0,o,!1,0,0,-1,-1),"THREE.BasisTextureLoader: transcodeUASTCImage() failed for level "+x.index+"."),g.push({data:S,width:x.width,height:x.height});return{width:n,height:r,hasAlpha:o,mipmaps:g,format:l}}(o.taskConfig):function(t){var e=new i.BasisFile(new Uint8Array(t)),n=e.isUASTC()?s.UASTC_4x4:s.ETC1S,r=e.getImageWidth(0,0),o=e.getImageHeight(0,0),a=e.getNumLevels(0),l=e.getHasAlpha();function u(){e.close(),e.delete()}var{transcoderFormat:h,engineFormat:d}=c(n,r,o,l);if(!r||!o||!a)throw u(),new Error("THREE.BasisTextureLoader:\tInvalid texture");if(!e.startTranscoding())throw u(),new Error("THREE.BasisTextureLoader: .startTranscoding failed");for(var p=[],f=0;f<a;f++){var g=e.getImageWidth(0,f),m=e.getImageHeight(0,f),v=new Uint8Array(e.getImageTranscodedSizeInBytes(0,f,h));if(!e.transcodeImage(v,0,f,h,0,l))throw u(),new Error("THREE.BasisTextureLoader: .transcodeImage failed.");p.push({data:v,width:g,height:m})}return u(),{width:r,height:o,hasAlpha:l,mipmaps:p,format:d}}(o.buffers[0]),l=[],f=0;f<r.length;++f)l.push(r[f].data.buffer);self.postMessage({type:"transcode",id:o.id,width:t,height:e,hasAlpha:n,mipmaps:r,format:a},l)}catch(t){console.error(t),self.postMessage({type:"error",id:o.id,error:t.message})}})}};var o=[{if:"astcSupported",basisFormat:[s.UASTC_4x4],transcoderFormat:[r.ASTC_4x4,r.ASTC_4x4],engineFormat:[n.RGBA_ASTC_4x4_Format,n.RGBA_ASTC_4x4_Format],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC7_M5,r.BC7_M5],engineFormat:[n.RGBA_BPTC_Format,n.RGBA_BPTC_Format],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.BC1,r.BC3],engineFormat:[n.RGB_S3TC_DXT1_Format,n.RGBA_S3TC_DXT5_Format],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC2],engineFormat:[n.RGB_ETC2_Format,n.RGBA_ETC2_EAC_Format],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.ETC1,r.ETC1],engineFormat:[n.RGB_ETC1_Format,n.RGB_ETC1_Format],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[s.ETC1S,s.UASTC_4x4],transcoderFormat:[r.PVRTC1_4_RGB,r.PVRTC1_4_RGBA],engineFormat:[n.RGB_PVRTC_4BPPV1_Format,n.RGBA_PVRTC_4BPPV1_Format],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0}],a=o.sort((function(t,e){return t.priorityETC1S-e.priorityETC1S})),l=o.sort((function(t,e){return t.priorityUASTC-e.priorityUASTC}));function c(e,i,o,c){for(var u=e===s.ETC1S?a:l,h=0;h<u.length;h++){var d=u[h];if(t[d.if]&&d.basisFormat.includes(e)&&(!d.needsPowerOfTwo||f(i)&&f(o)))return{transcoderFormat:d.transcoderFormat[c?1:0],engineFormat:d.engineFormat[c?1:0]}}return console.warn("THREE.BasisTextureLoader: No suitable compressed texture format found. Decoding to RGBA32."),{transcoderFormat:r.RGBA32,engineFormat:n.RGBAFormat}}function u(t,e){if(!t)throw new Error(e)}function h(t,e){return Math.ceil(e/i.getFormatBlockWidth(t))}function d(t,e){return Math.ceil(e/i.getFormatBlockHeight(t))}function p(t,e,n){var s=i.getBytesPerBlockOrPixel(t);if(i.formatIsUncompressed(t))return e*n*s;if(t===r.PVRTC1_4_RGB||t===r.PVRTC1_4_RGBA){var o=e+3&-4,a=n+3&-4;return(Math.max(8,o)*Math.max(8,a)*4+7)/8}return h(t,e)*d(t,n)*s}function f(t){return t<=2||0==(t&t-1)&&0!==t}};const $l={env:{emscripten_notify_memory_growth:function(t){Yl=new Uint8Array(ql.exports.memory.buffer)}}};class Jl{init(){return Wl||(Wl=fetch("data:application/wasm;base64,"+Xl).then(t=>t.arrayBuffer()).then(t=>WebAssembly.instantiate(t,$l)).then(t=>{ql=t.instance,$l.env.emscripten_notify_memory_growth(0)})),Wl}decode(t,e=0){const i=t.byteLength,n=ql.exports.malloc(i);Yl.set(t,n),e=e||Number(ql.exports.ZSTD_findDecompressedSize(n,i));const r=ql.exports.malloc(e),s=ql.exports.ZSTD_decompress(r,e,n,i),o=Yl.slice(r,r+s);return ql.exports.free(n),ql.exports.free(r),o}}const Xl="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",Kl=[171,75,84,88,32,50,48,187,13,10,26,10];var Zl,tc,ec,ic,nc,rc,sc,oc,ac;(ac=Zl||(Zl={}))[ac.NONE=0]="NONE",ac[ac.BASISLZ=1]="BASISLZ",ac[ac.ZSTD=2]="ZSTD",ac[ac.ZLIB=3]="ZLIB",function(t){t[t.BASICFORMAT=0]="BASICFORMAT"}(tc||(tc={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.ETC1S=163]="ETC1S",t[t.UASTC=166]="UASTC"}(ec||(ec={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.SRGB=1]="SRGB"}(ic||(ic={})),function(t){t[t.UNSPECIFIED=0]="UNSPECIFIED",t[t.LINEAR=1]="LINEAR",t[t.SRGB=2]="SRGB",t[t.ITU=3]="ITU",t[t.NTSC=4]="NTSC",t[t.SLOG=5]="SLOG",t[t.SLOG2=6]="SLOG2"}(nc||(nc={})),function(t){t[t.ALPHA_STRAIGHT=0]="ALPHA_STRAIGHT",t[t.ALPHA_PREMULTIPLIED=1]="ALPHA_PREMULTIPLIED"}(rc||(rc={})),function(t){t[t.RGB=0]="RGB",t[t.RRR=3]="RRR",t[t.GGG=4]="GGG",t[t.AAA=15]="AAA"}(sc||(sc={})),function(t){t[t.RGB=0]="RGB",t[t.RGBA=3]="RGBA",t[t.RRR=4]="RRR",t[t.RRRG=5]="RRRG"}(oc||(oc={}));class lc{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=Zl.NONE,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:tc.BASICFORMAT,versionNumber:2,descriptorBlockSize:40,colorModel:ec.UNSPECIFIED,colorPrimaries:ic.SRGB,transferFunction:ic.SRGB,flags:rc.ALPHA_STRAIGHT,texelBlockDimension:{x:4,y:4,z:1,w:1},bytesPlane:[],samples:[]}],this.keyValue={},this.globalData=null}}class cc{constructor(t,e,i,n){this._dataView=new DataView(t.buffer,t.byteOffset+e,i),this._littleEndian=n,this._offset=0}_nextUint8(){const t=this._dataView.getUint8(this._offset);return this._offset+=1,t}_nextUint16(){const t=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,t}_nextUint32(){const t=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,t}_nextUint64(){const t=this._dataView.getUint32(this._offset,this._littleEndian)+2**32*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,t}_skip(t){return this._offset+=t,this}_scan(t,e=0){const i=this._offset;let n=0;for(;this._dataView.getUint8(this._offset)!==e&&n<t;)n++,this._offset++;return n<t&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,n)}}function uc(e){return"undefined"!=typeof TextDecoder?(new TextDecoder).decode(e):t.from(e).toString("utf8")}var hc,dc,pc=166,fc={RGB:0,RRR:3,GGG:4,AAA:15},gc={RGB:0,RGBA:3,RRR:4,RRRG:5},mc=2,vc=2,Ac={createLevels:async function(t,e){t.supercompressionScheme===mc&&await e.init();for(var i=[],n=t.pixelWidth,r=t.pixelHeight,s=0;s<t.levels.length;s++){var o=Math.max(1,Math.floor(n/Math.pow(2,s))),a=Math.max(1,Math.floor(r/Math.pow(2,s))),l=t.levels[s].levelData;t.supercompressionScheme===mc&&(l=e.decode(l,t.levels[s].uncompressedByteLength)),i.push({index:s,width:o,height:a,data:l})}return i},getBasicDFD:function(t){return t.dataFormatDescriptor[0]},getAlpha:function(t){var e=this.getBasicDFD(t);return e.colorModel===pc?(15&e.samples[0].channelID)===gc.RGBA:2===e.samples.length&&(15&e.samples[1].channelID)===fc.AAA},getPremultiplyAlpha:function(t){return!!(1&this.getBasicDFD(t).flags)}};
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const yc=Symbol("retainerCount"),_c=Symbol("recentlyUsed"),bc=Symbol("evict"),wc=Symbol("evictionThreshold"),xc=Symbol("cache");class Cc{constructor(t,e=5){this[hc]=new Map,this[dc]=[],this[xc]=t,this[wc]=e}set evictionThreshold(t){this[wc]=t,this[bc]()}get evictionThreshold(){return this[wc]}get cache(){return this[xc]}retainerCount(t){return this[yc].get(t)||0}reset(){this[yc].clear(),this[_c]=[]}retain(t){this[yc].has(t)||this[yc].set(t,0),this[yc].set(t,this[yc].get(t)+1);const e=this[_c].indexOf(t);-1!==e&&this[_c].splice(e,1),this[_c].unshift(t),this[bc]()}release(t){this[yc].has(t)&&this[yc].set(t,Math.max(this[yc].get(t)-1,0)),this[bc]()}[(hc=yc,dc=_c,bc)](){if(!(this[_c].length<this[wc]))for(let t=this[_c].length-1;t>=this[wc];--t){const e=this[_c][t];0===this[yc].get(e)&&(this[xc].delete(e),this[_c].splice(t,1))}}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ec,Sc;const Ic=new Map,Tc=new Map;let Mc;const Bc=new zl;let kc;const Lc=new class extends Do{constructor(t){super(t),this.basisLoader=new Vl(t),this.zstd=new Jl,this.zstd.init(),"undefined"!=typeof MSC_TRANSCODER&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(t){return this.basisLoader.setTranscoderPath(t),this}setWorkerLimit(t){return this.basisLoader.setWorkerLimit(t),this}detectSupport(t){return this.basisLoader.detectSupport(t),this}dispose(){return this.basisLoader.dispose(),this}load(t,e,i,n){var r=this,s=new bs;return new Promise((function(e,n){new Ro(r.manager).setPath(r.path).setResponseType("arraybuffer").load(t,e,i,n)})).then((function(t){r.parse(t,(function(t){s.copy(t),s.needsUpdate=!0,e&&e(s)}),n)})).catch(n),s}parse(t,e,i){var n=this,r=function(t){const e=new Uint8Array(t.buffer,t.byteOffset,Kl.length);if(e[0]!==Kl[0]||e[1]!==Kl[1]||e[2]!==Kl[2]||e[3]!==Kl[3]||e[4]!==Kl[4]||e[5]!==Kl[5]||e[6]!==Kl[6]||e[7]!==Kl[7]||e[8]!==Kl[8]||e[9]!==Kl[9]||e[10]!==Kl[10]||e[11]!==Kl[11])throw new Error("Missing KTX 2.0 identifier.");const i=new lc,n=17*Uint32Array.BYTES_PER_ELEMENT,r=new cc(t,Kl.length,n,!0);i.vkFormat=r._nextUint32(),i.typeSize=r._nextUint32(),i.pixelWidth=r._nextUint32(),i.pixelHeight=r._nextUint32(),i.pixelDepth=r._nextUint32(),i.layerCount=r._nextUint32(),i.faceCount=r._nextUint32();const s=r._nextUint32();i.supercompressionScheme=r._nextUint32();const o=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),c=r._nextUint32(),u=r._nextUint64(),h=r._nextUint64(),d=new cc(t,Kl.length+n,3*s*8,!0);for(let R=0;R<s;R++)i.levels.push({levelData:new Uint8Array(t.buffer,t.byteOffset+d._nextUint64(),d._nextUint64()),uncompressedByteLength:d._nextUint64()});const p=new cc(t,o,a,!0),f={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:{x:p._nextUint8()+1,y:p._nextUint8()+1,z:p._nextUint8()+1,w:p._nextUint8()+1},bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},g=(f.descriptorBlockSize/4-6)/4;for(let R=0;R<g;R++)f.samples[R]={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelID:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:p._nextUint32(),sampleUpper:p._nextUint32()};i.dataFormatDescriptor.length=0,i.dataFormatDescriptor.push(f);const m=new cc(t,l,c,!0);for(;m._offset<c;){const t=m._nextUint32(),e=m._scan(t),n=uc(e),r=m._scan(t-e.byteLength);i.keyValue[n]=n.match(/^ktx/i)?uc(r):r,m._offset%4&&m._skip(4-m._offset%4)}if(h<=0)return i;const v=new cc(t,u,h,!0),A=v._nextUint16(),y=v._nextUint16(),_=v._nextUint32(),b=v._nextUint32(),w=v._nextUint32(),x=v._nextUint32(),C=[];for(let R=0;R<s;R++)C.push({imageFlags:v._nextUint32(),rgbSliceByteOffset:v._nextUint32(),rgbSliceByteLength:v._nextUint32(),alphaSliceByteOffset:v._nextUint32(),alphaSliceByteLength:v._nextUint32()});const E=u+v._offset,S=E+_,I=S+b,T=I+w,M=new Uint8Array(t.buffer,t.byteOffset+E,_),B=new Uint8Array(t.buffer,t.byteOffset+S,b),k=new Uint8Array(t.buffer,t.byteOffset+I,w),L=new Uint8Array(t.buffer,t.byteOffset+T,x);return i.globalData={endpointCount:A,selectorCount:y,imageDescs:C,endpointsData:M,selectorsData:B,tablesData:k,extendedData:L},i}(new Uint8Array(t));if(r.pixelDepth>0)throw new Error("THREE.KTX2Loader: Only 2D textures are currently supported.");if(r.layerCount>1)throw new Error("THREE.KTX2Loader: Array textures are not currently supported.");if(r.faceCount>1)throw new Error("THREE.KTX2Loader: Cube textures are not currently supported.");var s=Ac.getBasicDFD(r);return Ac.createLevels(r,this.zstd).then((function(t){var e=s.colorModel===pc?Vl.BasisFormat.UASTC_4x4:Vl.BasisFormat.ETC1S,i={levels:t,width:r.pixelWidth,height:r.pixelHeight,basisFormat:e,hasAlpha:Ac.getAlpha(r)};return e===Vl.BasisFormat.ETC1S&&(i.globalData=r.globalData),n.basisLoader.parseInternalAsync(i)})).then((function(t){t.encoding=s.transferFunction===vc?3001:3e3,t.premultiplyAlpha=Ac.getPremultiplyAlpha(r),e(t)})).catch(i),this}},Rc=Symbol("loader"),Pc=Symbol("evictionPolicy"),Dc=Symbol("GLTFInstance");class Oc extends _{constructor(t){super(),this[Sc]=new jl,this[Dc]=t,this[Rc].setDRACOLoader(Bc),this[Rc].setKTX2Loader(Lc)}static setDRACODecoderLocation(t){Mc=t,Bc.setDecoderPath(t)}static getDRACODecoderLocation(){return Mc}static setKTX2TranscoderLocation(t){kc=t,Lc.setTranscoderPath(t)}static getKTX2TranscoderLocation(){return kc}static initializeKTX2Loader(t){Lc.detectSupport(t)}static get cache(){return Ic}static clearCache(){Ic.forEach((t,e)=>{this.delete(e)}),this[Pc].reset()}static has(t){return Ic.has(t)}static async delete(t){if(!this.has(t))return;const e=Ic.get(t);Tc.delete(t),Ic.delete(t),(await e).dispose()}static hasFinishedLoading(t){return!!Tc.get(t)}get[(Ec=Pc,Sc=Rc,Pc)](){return this.constructor[Pc]}async preload(t,e,i=(()=>{})){if(this.dispatchEvent({type:"preload",element:e,src:t}),!Ic.has(t)){const e=((t,e,i=(()=>{}))=>{const n=t=>{const e=t.loaded/t.total;i(Math.max(0,Math.min(1,isFinite(e)?e:1)))};return new Promise((i,r)=>{e.load(t,i,n,r)})})(t,this[Rc],t=>{i(.8*t)}),n=this[Dc],r=e.then(t=>n.prepare(t)).then(t=>(i(.9),new n(t)));Ic.set(t,r)}await Ic.get(t),Tc.set(t,!0),i&&i(1)}async load(t,e,i=(()=>{})){await this.preload(t,e,i);const n=await Ic.get(t),r=await n.clone();return this[Pc].retain(t),r.dispose=(()=>{const e=r.dispose;let i=!1;return()=>{i||(i=!0,e.apply(r),this[Pc].release(t))}})(),r
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}var Fc;Oc[Ec]=new Cc(Oc);const Nc=Symbol("velocity");class Qc{constructor(){this[Fc]=0}update(t,e,i,n){if(null==t||0===n)return e;if(t===e&&0===this[Nc])return e;if(i<0)return t;const r=t-e,s=this[Nc]+.02*r,o=r+i*s,a=Math.exp(-.02*i),l=(s-.02*o)*a,c=-.02*(l+s*a);return Math.abs(l)<4000000000000001e-21*Math.abs(n)&&c*r>=0?(this[Nc]=0,e):(this[Nc]=l,e+o*a)}}Fc=Nc;var Hc=function(t){Rt.call(this),this.element=t||document.createElement("div"),this.element.style.position="absolute",this.addEventListener("removed",(function(){this.traverse((function(t){t.element instanceof Element&&null!==t.element.parentNode&&t.element.parentNode.removeChild(t.element)}))}))};Hc.prototype=Object.assign(Object.create(Rt.prototype),{constructor:Hc,copy:function(t,e){return Rt.prototype.copy.call(this,t,e),this.element=t.element.cloneNode(!0),this}});var Uc=function(){var t,e,i,n,r=this,s=new P,o=new lt,a=new lt,l={objects:new WeakMap},c=document.createElement("div");c.style.overflow="hidden",this.domElement=c,this.getSize=function(){return{width:t,height:e}},this.setSize=function(r,s){i=(t=r)/2,n=(e=s)/2,c.style.width=r+"px",c.style.height=s+"px"};var u=function(t,e,o){if(t instanceof Hc){t.onBeforeRender(r,e,o),s.setFromMatrixPosition(t.matrixWorld),s.applyMatrix4(a);var d=t.element,p="translate(-50%,-50%) translate("+(s.x*i+i)+"px,"+(-s.y*n+n)+"px)";d.style.WebkitTransform=p,d.style.MozTransform=p,d.style.oTransform=p,d.style.transform=p,d.style.display=t.visible&&s.z>=-1&&s.z<=1?"":"none";var f={distanceToCameraSquared:h(o,t)};l.objects.set(t,f),d.parentNode!==c&&c.appendChild(d),t.onAfterRender(r,e,o)}for(var g=0,m=t.children.length;g<m;g++)u(t.children[g],e,o)},h=function(){var t=new P,e=new P;return function(i,n){return t.setFromMatrixPosition(i.matrixWorld),e.setFromMatrixPosition(n.matrixWorld),t.distanceToSquared(e)}}(),d=function(t){for(var e=function(t){var e=[];return t.traverse((function(t){t instanceof Hc&&e.push(t)})),e}(t).sort((function(t,e){return l.objects.get(t).distanceToCameraSquared-l.objects.get(e).distanceToCameraSquared})),i=e.length,n=0,r=e.length;n<r;n++)e[n].element.style.zIndex=i-n};this.render=function(t,e){!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),o.copy(e.matrixWorldInverse),a.multiplyMatrices(e.projectionMatrix,o),u(t,t,e),d(t)}};
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gc=(t,e)=>({type:"number",number:t,unit:e}),zc=(()=>{const t={};return e=>{const i=e;if(i in t)return t[i];const n=[];let r=0;for(;e;){if(++r>1e3){e="";break}const t=jc(e),i=t.nodes[0];if(null==i||0===i.terms.length)break;n.push(i),e=t.remainingInput}return t[i]=n}})(),jc=(()=>{const t=/^(\-\-|[a-z\u0240-\uffff])/i,e=/^([\*\+\/]|[\-]\s)/i,i=/^[\),]/;return n=>{const r=[];for(;n.length&&(n=n.trim(),!i.test(n));)if("("===n[0]){const{nodes:t,remainingInput:e}=Yc(n);n=e,r.push({type:"function",name:{type:"ident",value:"calc"},arguments:t})}else if(t.test(n)){const t=Vc(n),e=t.nodes[0];if("("===(n=t.remainingInput)[0]){const{nodes:t,remainingInput:i}=Yc(n);r.push({type:"function",name:e,arguments:t}),n=i}else r.push(e)}else if(e.test(n))r.push({type:"operator",value:n[0]}),n=n.slice(1);else{const{nodes:t,remainingInput:e}="#"===n[0]?qc(n):Wc(n);if(0===t.length)break;r.push(t[0]),n=e}return{nodes:[{type:"expression",terms:r}],remainingInput:n}}})(),Vc=(()=>{const t=/[^a-z^0-9^_^\-^\u0240-\uffff]/i;return e=>{const i=e.match(t);return{nodes:[{type:"ident",value:null==i?e:e.substr(0,i.index)}],remainingInput:null==i?"":e.substr(i.index)}}})(),Wc=(()=>{const t=/[\+\-]?(\d+[\.]\d+|\d+|[\.]\d+)([eE][\+\-]?\d+)?/,e=/^[a-z%]+/i,i=/^(m|mm|cm|rad|deg|[%])$/;return n=>{const r=n.match(t),s=null==r?"0":r[0],o=(n=null==s?n:n.slice(s.length)).match(e);let a=null!=o&&""!==o[0]?o[0]:null;const l=null==o?n:n.slice(a.length);return null==a||i.test(a)||(a=null),{nodes:[{type:"number",number:parseFloat(s)||0,unit:a}],remainingInput:l}}})(),qc=(()=>{const t=/^[a-f0-9]*/i;return e=>{const i=(e=e.slice(1).trim()).match(t);return{nodes:null==i?[]:[{type:"hex",value:i[0]}],remainingInput:null==i?e:e.slice(i[0].length)}}})(),Yc=t=>{const e=[];for(t=t.slice(1).trim();t.length;){const i=jc(t);if(e.push(i.nodes[0]),","===(t=i.remainingInput.trim())[0])t=t.slice(1).trim();else if(")"===t[0]){t=t.slice(1);break}}return{nodes:e,remainingInput:t}},$c=Symbol("visitedTypes");class Jc{constructor(t){this[$c]=t}walk(t,e){const i=t.slice();for(;i.length;){const t=i.shift();switch(this[$c].indexOf(t.type)>-1&&e(t),t.type){case"expression":i.unshift(...t.terms);break;case"function":i.unshift(t.name,...t.arguments)}}}}const Xc=Object.freeze({type:"number",number:0,unit:null}),Kc=(t,e=0)=>{let{number:i,unit:n}=t;if(isFinite(i)){if("rad"===t.unit||null==t.unit)return t}else i=e,n="rad";return{type:"number",number:("deg"===n&&null!=i?i:0)*Math.PI/180,unit:"rad"}},Zc=(t,e=0)=>{let i,{number:n,unit:r}=t;if(isFinite(n)){if("m"===t.unit)return t}else n=e,r="m";switch(r){default:i=1;break;case"cm":i=.01;break;case"mm":i=.001}return{type:"number",number:i*n,unit:"m"}},tu=(()=>{const t=t=>t,e={rad:t,deg:Kc,m:t,mm:Zc,cm:Zc};return(t,i=Xc)=>{let{number:n,unit:r}=t;if(isFinite(n)||(n=i.number,r=i.unit),null==r)return t;const s=e[r];return null==s?i:s(t)}})();
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Hc{constructor(t){super(document.createElement("div")),this.normal=new P(0,1,0),this.initialized=!1,this.referenceCount=1,this.pivot=document.createElement("div"),this.slot=document.createElement("slot"),this.element.classList.add("annotation-wrapper"),this.slot.name=t.name,this.element.appendChild(this.pivot),this.pivot.appendChild(this.slot),this.updatePosition(t.position),this.updateNormal(t.normal)}get facingCamera(){return!this.element.classList.contains("hide")}show(){this.facingCamera&&this.initialized||this.updateVisibility(!0)}hide(){!this.facingCamera&&this.initialized||this.updateVisibility(!1)}increment(){this.referenceCount++}decrement(){return this.referenceCount>0&&--this.referenceCount,0===this.referenceCount}updatePosition(t){if(null==t)return;const e=zc(t)[0].terms;for(let i=0;i<3;++i)this.position.setComponent(i,tu(e[i]).number);this.updateMatrixWorld()}updateNormal(t){if(null==t)return;const e=zc(t)[0].terms;for(let i=0;i<3;++i)this.normal.setComponent(i,tu(e[i]).number)}orient(t){this.pivot.style.transform=`rotate(${t}rad)`}updateVisibility(t){t?this.element.classList.remove("hide"):this.element.classList.add("hide"),this.slot.assignedNodes().forEach(e=>{if(e.nodeType!==Node.ELEMENT_NODE)return;const i=e,n=i.dataset.visibilityAttribute;if(null!=n){const e="data-"+n;t?i.setAttribute(e,""):i.removeAttribute(e)}i.dispatchEvent(new CustomEvent("hotspot-visibility",{detail:{visible:t}}))}),this.initialized=!0
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}const iu=(t,e,i)=>{let n=i;const r=new P;return t.traverse(t=>{let i,s;t.updateWorldMatrix(!1,!1);const o=t.geometry;if(void 0!==o)if(o.isGeometry){const a=o.vertices;for(i=0,s=a.length;i<s;i++)r.copy(a[i]),r.applyMatrix4(t.matrixWorld),n=e(n,r)}else if(o.isBufferGeometry){const{position:a}=o.attributes;if(void 0!==a)for(i=0,s=a.count;i<s;i++)r.fromBufferAttribute(a,i).applyMatrix4(t.matrixWorld),n=e(n,r)}}),n
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};class nu extends Aa{constructor(t,e,i){super(),this.shadowMaterial=new io,this.boundingBox=new F,this.size=new P,this.isAnimated=!1,this.side="bottom",this.needsUpdate=!1,this.intensity=0,this.castShadow=!0,this.frustumCulled=!1,this.floor=new qe(new hi,this.shadowMaterial),this.floor.rotateX(-Math.PI/2),this.floor.receiveShadow=!0,this.floor.castShadow=!1,this.floor.frustumCulled=!1,this.add(this.floor),t.target.add(this),this.target=t.target,this.setScene(t,e,i)}setScene(t,e,i){if(this.side=i,this.isAnimated=t.animationNames.length>0,this.boundingBox.copy(t.boundingBox),this.size.copy(t.size),"back"===this.side){const{min:t,max:e}=this.boundingBox;[t.y,t.z]=[t.z,t.y],[e.y,e.z]=[e.z,e.y],[this.size.y,this.size.z]=[this.size.z,this.size.y],this.rotation.x=Math.PI/2,this.rotation.y=Math.PI}const{boundingBox:n,size:r}=this;if(this.isAnimated){const t=2*Math.max(r.x,r.y,r.z);r.y=t,n.expandByVector(r.subScalar(t).multiplyScalar(-.5)),n.max.y=n.min.y+t,r.set(t,t,t)}n.getCenter(this.floor.position);const s=n.max.y+.002*r.y;"bottom"===i?(this.position.y=s,this.shadow.camera.up.set(0,0,1)):(this.position.y=0,this.position.z=s,this.shadow.camera.up.set(0,1,0)),this.setSoftness(e)}setSoftness(t){const e=Math.pow(2,9-3*t);this.setMapSize(e)}setMapSize(t){const{camera:e,mapSize:i,map:n}=this.shadow,{size:r,boundingBox:s}=this;null!=n&&(n.dispose(),this.shadow.map=null),this.isAnimated&&(t*=2);const o=Math.floor(r.x>r.z?t:t*r.x/r.z),a=Math.floor(r.x>r.z?t*r.z/r.x:t);i.set(o,a);const l=2.5*r.x/o,c=2.5*r.z/a;e.left=-s.max.x-l,e.right=-s.min.x+l,e.bottom=s.min.z-c,e.top=s.max.z+c,this.setScaleAndOffset(e.zoom,0),this.shadow.updateMatrices(this),this.floor.scale.set(r.x+2*l,r.z+2*c,1),this.needsUpdate=!0}setIntensity(t){this.shadowMaterial.opacity=t,t>0?(this.visible=!0,this.floor.visible=!0):(this.visible=!1,this.floor.visible=!1)}getIntensity(){return this.shadowMaterial.opacity}setRotation(t){"bottom"===this.side?(this.shadow.camera.up.set(Math.sin(t),0,Math.cos(t)),this.shadow.updateMatrices(this)):this.shadow.updateMatrices(this)}setScaleAndOffset(t,e){const i=this.size.y,n=1/t,r=.002*i;this.floor.position.y=2*r-i+e*n;const{camera:s}=this.shadow;s.zoom=t,s.near=0,s.far=i*t-e,s.projectionMatrix.makeOrthographic(s.left*t,s.right*t,s.top*t,s.bottom*t,s.near,s.far),s.projectionMatrixInverse.copy(s.projectionMatrix).invert()}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=22.5*Math.PI/180,su=Math.sin(ru),ou=Math.tan(ru),au=new P,lu=new P,cu=new P,uu=new nl,hu=new P;class du extends Ar{constructor({canvas:t,element:e,width:i,height:n}){super(),this.context=null,this.width=1,this.height=1,this.aspect=1,this.isDirty=!1,this.renderCount=0,this.camera=new ei(45,1,.1,100),this.url=null,this.target=new Rt,this.modelContainer=new Rt,this.animationNames=[],this.boundingBox=new F,this.size=new P,this.idealCameraDistance=0,this.fieldOfViewAspect=0,this.framedFieldOfView=45,this.shadow=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this.canScale=!0,this.tightBounds=!1,this.goalTarget=new P,this.targetDamperX=new Qc,this.targetDamperY=new Qc,this.targetDamperZ=new Qc,this._currentGLTF=null,this.cancelPendingSourceChange=null,this.animationsByName=new Map,this.currentAnimationAction=null,this.name="ModelScene",this.element=e,this.canvas=t,this.camera=new ei(45,1,.1,100),this.camera.name="MainCamera",this.activeCamera=this.camera,this.add(this.target),this.setSize(i,n),this.target.name="Target",this.modelContainer.name="ModelContainer",this.target.add(this.modelContainer),this.mixer=new Za(this.modelContainer)}createContext(){this.context=this.canvas.getContext("2d")}async setObject(t){this.reset(),this.modelContainer.add(t),await this.setupScene()}async setSource(t,e){if(!t||t===this.url)return void(e&&e(1));let i;null!=this.cancelPendingSourceChange&&(this.cancelPendingSourceChange(),this.cancelPendingSourceChange=null);try{i=await new Promise(async(i,n)=>{this.cancelPendingSourceChange=()=>n();try{i(await this.element[nd].loader.load(t,this.element,e))}catch(t){n(t)}})}catch(t){if(null==t)return;throw t}this.reset(),this.url=t,this._currentGLTF=i,null!=i&&this.modelContainer.add(i.scene);const{animations:n}=i,r=new Map,s=[];for(const o of n)r.set(o.name,o),s.push(o.name);this.animations=n,this.animationsByName=r,this.animationNames=s,await this.setupScene()}async setupScene(){this.updateBoundingBox();let t=null;!0===this.tightBounds&&(await this.element.requestUpdate("cameraTarget"),t=this.getTarget()),this.updateFraming(t),this.frameModel(),this.setShadowIntensity(this.shadowIntensity),this.isDirty=!0,this.dispatchEvent({type:"model-load",url:this.url})}reset(){this.url=null;const t=this._currentGLTF;if(null!=t){for(const t of this.modelContainer.children)this.modelContainer.remove(t);t.dispose(),this._currentGLTF=null}null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction=null),this.mixer.stopAllAction(),this.mixer.uncacheRoot(this)}get currentGLTF(){return this._currentGLTF}setSize(t,e){this.width===t&&this.height===e||(this.width=Math.max(t,1),this.height=Math.max(e,1),this.aspect=this.width/this.height,this.frameModel(),this.isDirty=!0)}updateBoundingBox(){if(this.target.remove(this.modelContainer),!0===this.tightBounds){const t=(t,e)=>t.expandByPoint(e);this.boundingBox=iu(this.modelContainer,t,new F)}else this.boundingBox.setFromObject(this.modelContainer);this.boundingBox.getSize(this.size),this.target.add(this.modelContainer)}updateFraming(t=null){this.target.remove(this.modelContainer),null==t&&(t=this.boundingBox.getCenter(new P));const e=Math.sqrt(iu(this.modelContainer,(e,i)=>Math.max(e,t.distanceToSquared(i)),0));this.idealCameraDistance=e/su,this.fieldOfViewAspect=iu(this.modelContainer,(e,i)=>{i.sub(t);const n=Math.sqrt(i.x*i.x+i.z*i.z);return Math.max(e,n/(this.idealCameraDistance-Math.abs(i.y)))},0)/ou,this.target.add(this.modelContainer)}frameModel(){const t=ou*Math.max(1,this.fieldOfViewAspect/this.aspect);this.framedFieldOfView=2*Math.atan(t)*180/Math.PI}getSize(){return{width:this.width,height:this.height}}getCamera(){return this.activeCamera}setCamera(t){this.activeCamera=t}setTarget(t,e,i){this.goalTarget.set(-t,-e,-i)}getTarget(){return hu.copy(this.goalTarget).multiplyScalar(-1)}jumpToGoal(){this.updateTarget(1e4)}updateTarget(t){const e=this.goalTarget,i=this.target.position;if(!e.equals(i)){const n=this.idealCameraDistance;let{x:r,y:s,z:o}=i;r=this.targetDamperX.update(r,e.x,t,n),s=this.targetDamperY.update(s,e.y,t,n),o=this.targetDamperZ.update(o,e.z,t,n),this.target.position.set(r,s,o),this.target.updateMatrixWorld(),this.setShadowRotation(this.yaw),this.isDirty=!0}}pointTowards(t,e){const{x:i,z:n}=this.position;this.yaw=Math.atan2(t-i,e-n)}set yaw(t){this.rotation.y=t,this.updateMatrixWorld(!0),this.setShadowRotation(t),this.isDirty=!0}get yaw(){return this.rotation.y}set animationTime(t){this.mixer.setTime(t)}get animationTime(){return null!=this.currentAnimationAction?this.currentAnimationAction.time:0}get duration(){return null!=this.currentAnimationAction&&this.currentAnimationAction.getClip()?this.currentAnimationAction.getClip().duration:0}get hasActiveAnimation(){return null!=this.currentAnimationAction}playAnimation(t=null,e=0){if(null==this._currentGLTF)return;const{animations:i}=this;if(null==i||0===i.length)return void console.warn("Cannot play animation (model does not have any animations)");let n=null;null!=t&&(n=this.animationsByName.get(t)),null==n&&(n=i[0]);try{const{currentAnimationAction:t}=this;this.currentAnimationAction=this.mixer.clipAction(n,this).play(),this.currentAnimationAction.enabled=!0,null!=t&&this.currentAnimationAction!==t&&this.currentAnimationAction.crossFadeFrom(t,e,!1)}catch(t){console.error(t)}}stopAnimation(){null!=this.currentAnimationAction&&(this.currentAnimationAction.stop(),this.currentAnimationAction.reset(),this.currentAnimationAction=null),this.mixer.stopAllAction()}updateAnimation(t){this.mixer.update(t)}updateShadow(){const t=this.shadow;if(null!=t){const e="wall"===this.element.arPlacement?"back":"bottom";t.setScene(this,this.shadowSoftness,e)}}setShadowIntensity(t){this.shadowIntensity=t;let e=this.shadow;const i="wall"===this.element.arPlacement?"back":"bottom";null!=e?(e.setIntensity(t),e.setScene(this,this.shadowSoftness,i)):t>0&&(e=new nu(this,this.shadowSoftness,i),e.setIntensity(t),this.shadow=e)}setShadowSoftness(t){this.shadowSoftness=t;const e=this.shadow;null!=e&&e.setSoftness(t)}setShadowRotation(t){const e=this.shadow;null!=e&&e.setRotation(t)}isShadowDirty(){const t=this.shadow;if(null==t)return!1;{const{needsUpdate:e}=t;return t.needsUpdate=!1,e}}setShadowScaleAndOffset(t,e){const i=this.shadow;null!=i&&i.setScaleAndOffset(t,e)}positionAndNormalFromPoint(t,e=this){uu.setFromCamera(t,this.getCamera());const i=uu.intersectObject(e,!0);if(0===i.length)return null;const n=i[0];return null==n.face?null:(n.face.normal.applyNormalMatrix((new E).getNormalMatrix(n.object.matrixWorld)),{position:n.point,normal:n.face.normal})}addHotspot(t){this.target.add(t)}removeHotspot(t){this.target.remove(t)}forHotspots(t){const{children:e}=this.target;for(let i=0,n=e.length;i<n;i++){const n=e[i];n instanceof eu&&t(n)}}updateHotspots(t){this.forHotspots(e=>{au.copy(t),lu.setFromMatrixPosition(e.matrixWorld),au.sub(lu),cu.copy(e.normal).transformDirection(this.target.matrixWorld),au.dot(cu)<0?e.hide():e.show()})}orientHotspots(t){this.forHotspots(e=>{e.orient(t)})}setHotspotsVisibility(t){this.forHotspots(e=>{e.visible=t})}}var pu,fu=((pu=new no({uniforms:{roughnessMap:{value:null},normalMap:{value:null},texelSize:{value:new C(1,1)}},vertexShader:"\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tattribute vec3 position;\n\t\t\tattribute vec2 uv;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tvoid main() {\n\n\t\t\t\tvUv = uv;\n\n\t\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t\t}\n\t\t",fragmentShader:"\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec2 vUv;\n\n\t\t\tuniform sampler2D roughnessMap;\n\t\t\tuniform sampler2D normalMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\n\t\t\tvec4 envMapTexelToLinear( vec4 a ) { return a; }\n\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tfloat roughnessToVariance( float roughness ) {\n\n\t\t\t\tfloat variance = 0.0;\n\n\t\t\t\tif ( roughness >= r1 ) {\n\n\t\t\t\t\tvariance = ( r0 - roughness ) * ( v1 - v0 ) / ( r0 - r1 ) + v0;\n\n\t\t\t\t} else if ( roughness >= r4 ) {\n\n\t\t\t\t\tvariance = ( r1 - roughness ) * ( v4 - v1 ) / ( r1 - r4 ) + v1;\n\n\t\t\t\t} else if ( roughness >= r5 ) {\n\n\t\t\t\t\tvariance = ( r4 - roughness ) * ( v5 - v4 ) / ( r4 - r5 ) + v4;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfloat roughness2 = roughness * roughness;\n\n\t\t\t\t\tvariance = 1.79 * roughness2 * roughness2;\n\n\t\t\t\t}\n\n\t\t\t\treturn variance;\n\n\t\t\t}\n\n\t\t\tfloat varianceToRoughness( float variance ) {\n\n\t\t\t\tfloat roughness = 0.0;\n\n\t\t\t\tif ( variance >= v1 ) {\n\n\t\t\t\t\troughness = ( v0 - variance ) * ( r1 - r0 ) / ( v0 - v1 ) + r0;\n\n\t\t\t\t} else if ( variance >= v4 ) {\n\n\t\t\t\t\troughness = ( v1 - variance ) * ( r4 - r1 ) / ( v1 - v4 ) + r1;\n\n\t\t\t\t} else if ( variance >= v5 ) {\n\n\t\t\t\t\troughness = ( v4 - variance ) * ( r5 - r4 ) / ( v4 - v5 ) + r4;\n\n\t\t\t\t} else {\n\n\t\t\t\t\troughness = pow( 0.559 * variance, 0.25 ); // 0.559 = 1.0 / 1.79\n\n\t\t\t\t}\n\n\t\t\t\treturn roughness;\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = texture2D( roughnessMap, vUv, - 1.0 );\n\n\t\t\t\tif ( texelSize.x == 0.0 ) return;\n\n\t\t\t\tfloat roughness = gl_FragColor.g;\n\n\t\t\t\tfloat variance = roughnessToVariance( roughness );\n\n\t\t\t\tvec3 avgNormal;\n\n\t\t\t\tfor ( float x = - 1.0; x < 2.0; x += 2.0 ) {\n\n\t\t\t\t\tfor ( float y = - 1.0; y < 2.0; y += 2.0 ) {\n\n\t\t\t\t\t\tvec2 uv = vUv + vec2( x, y ) * 0.25 * texelSize;\n\n\t\t\t\t\t\tavgNormal += normalize( texture2D( normalMap, uv, - 1.0 ).xyz - 0.5 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tvariance += 1.0 - 0.25 * length( avgNormal );\n\n\t\t\t\tgl_FragColor.g = varianceToRoughness( variance );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})).type="RoughnessMipmapper",pu),gu=new qe(new hi(2,2),fu),mu=new ma(0,1,0,1,0,1),vu=null,Au=null;function yu(t){(Au=t).compile(gu,mu)}yu.prototype={constructor:yu,generateMipmaps:function(t){if("roughnessMap"in t!=0){var{roughnessMap:e,normalMap:i}=t;if(null!==e&&null!==i&&e.generateMipmaps&&!t.userData.roughnessUpdated){t.userData.roughnessUpdated=!0;var n=Math.max(e.image.width,i.image.width),r=Math.max(e.image.height,i.image.height);if(x.isPowerOfTwo(n)&&x.isPowerOfTwo(r)){var s=Au.getRenderTarget(),o=Au.autoClear;if(Au.autoClear=!1,null!==vu&&vu.width===n&&vu.height===r||(null!==vu&&vu.dispose(),(vu=new L(n,r,{depthBuffer:!1})).scissorTest=!0),n!==e.image.width||r!==e.image.height){var a={wrapS:e.wrapS,wrapT:e.wrapT,magFilter:e.magFilter,minFilter:e.minFilter,depthBuffer:!1},l=new L(n,r,a);l.texture.generateMipmaps=!0,Au.setRenderTarget(l),t.roughnessMap=l.texture,t.metalnessMap==e&&(t.metalnessMap=t.roughnessMap),t.aoMap==e&&(t.aoMap=t.roughnessMap)}fu.uniforms.roughnessMap.value=e,fu.uniforms.normalMap.value=i;for(var c=new C(0,0),u=fu.uniforms.texelSize.value,h=0;n>=1&&r>=1;++h,n/=2,r/=2)u.set(1/n,1/r),0==h&&u.set(0,0),vu.viewport.set(c.x,c.y,n,r),vu.scissor.set(c.x,c.y,n,r),Au.setRenderTarget(vu),Au.render(gu,mu),Au.copyFramebufferToTexture(c,t.roughnessMap,h),fu.uniforms.roughnessMap.value=t.roughnessMap;e!==t.roughnessMap&&e.dispose(),Au.setRenderTarget(s),Au.autoClear=o}}}},dispose:function(){fu.dispose(),gu.geometry.dispose(),null!=vu&&vu.dispose()}};
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const _u=t=>t&&"null"!==t?wu(t):null,bu=()=>{if(d)return;const t=[];throw l||t.push("WebXR Device API"),c||t.push("WebXR Hit Test API"),new Error("The following APIs are required for AR, but are missing in this browser: "+t.join(", "))},wu=t=>new URL(t,window.location.toString()).toString(),xu=(t,e)=>{let i=null;return(...n)=>{null!=i&&self.clearTimeout(i),i=self.setTimeout(()=>{i=null,t(...n)},e)}},Cu=(t,e,i)=>Math.max(e,Math.min(i,t)),Eu=(()=>{const t=(()=>{const t=null!=document.head?Array.from(document.head.querySelectorAll("meta")):[];for(const e of t)if("viewport"===e.name)return!0;return!1})();return t||console.warn('No <meta name="viewport"> detected; <model-viewer> will cap pixel density at 1.'),()=>t?window.devicePixelRatio:1})(),Su=(()=>{const t=new RegExp("[?&]model-viewer-debug-mode(&|$)");return()=>self.ModelViewerElement&&self.ModelViewerElement.debugMode||self.location&&self.location.search&&self.location.search.match(t)})(),Iu=Math.PI/24,Tu=new C,Mu=(t,e,i)=>{let n=e>0?i>0?0:-Math.PI/2:i>0?Math.PI/2:Math.PI;for(let r=0;r<=12;++r)t.push(e+.17*Math.cos(n),i+.17*Math.sin(n),0,e+.2*Math.cos(n),i+.2*Math.sin(n),0),n+=Iu};class Bu extends qe{constructor(t,e){const i=new Me,n=[],r=[],{size:s,boundingBox:o}=t,a=s.x/2,l=("back"===e?s.y:s.z)/2;Mu(r,a,l),Mu(r,-a,l),Mu(r,-a,-l),Mu(r,a,-l);const c=r.length/3;for(let d=0;d<c-2;d+=2)n.push(d,d+1,d+3,d,d+3,d+2);const u=c-2;n.push(u,u+1,1,u,1,0),i.setAttribute("position",new ve(r,3)),i.setIndex(n),super(i),this.side=e;const h=this.material;switch(h.side=2,h.transparent=!0,h.opacity=0,this.goalOpacity=0,this.opacityDamper=new Qc,this.hitPlane=new qe(new hi(2*(a+.2),2*(l+.2))),this.hitPlane.visible=!1,this.add(this.hitPlane),o.getCenter(this.position),e){case"bottom":this.rotateX(-Math.PI/2),this.shadowHeight=o.min.y,this.position.y=this.shadowHeight;break;case"back":this.shadowHeight=o.min.z,this.position.z=this.shadowHeight}t.target.add(this)}getHit(t,e,i){Tu.set(e,-i),this.hitPlane.visible=!0;const n=t.positionAndNormalFromPoint(Tu,this.hitPlane);return this.hitPlane.visible=!1,null==n?null:n.position}set offsetHeight(t){"back"===this.side?this.position.z=this.shadowHeight+t:this.position.y=this.shadowHeight+t}get offsetHeight(){return"back"===this.side?this.position.z-this.shadowHeight:this.position.y-this.shadowHeight}set show(t){this.goalOpacity=t?.75:0}updateOpacity(t){const e=this.material;e.opacity=this.opacityDamper.update(e.opacity,this.goalOpacity,t,1),this.visible=e.opacity>0}dispose(){const{geometry:t,material:e}=this.hitPlane;t.dispose(),e.dispose(),this.geometry.dispose(),this.material.dispose()}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ku="not-presenting",Lu="session-started",Ru="object-placed",Pu="failed",Du=new P,Ou=new lt,Fu=new P;class Nu extends _{constructor(t){super(),this.renderer=t,this.camera=new ei,this.currentSession=null,this.placeOnWall=!1,this.placementBox=null,this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this.rafId=null,this.refSpace=null,this.viewerRefSpace=null,this.frame=null,this.initialHitSource=null,this.transientHitTestSource=null,this.inputSource=null,this._presentedScene=null,this.resolveCleanup=null,this.exitWebXRButtonContainer=null,this.initialModelToWorld=null,this.initialized=!1,this.oldTarget=new P,this.placementComplete=!1,this.isTranslating=!1,this.isRotating=!1,this.isScaling=!1,this.lastDragPosition=new P,this.lastScalar=0,this.goalPosition=new P,this.goalYaw=0,this.goalScale=1,this.xDamper=new Qc,this.yDamper=new Qc,this.zDamper=new Qc,this.yawDamper=new Qc,this.scaleDamper=new Qc,this.damperRate=1,this.onExitWebXRButtonContainerClick=()=>this.stopPresenting(),this.onUpdateScene=()=>{null!=this.placementBox&&this.isPresenting&&(this.placementBox.dispose(),this.placementBox=new Bu(this.presentedScene,this.placeOnWall?"back":"bottom"))},this.onSelectStart=t=>{const e=this.transientHitTestSource;if(null==e)return;const i=this.frame.getHitTestResultsForTransientInput(e),n=this.presentedScene,r=this.placementBox;if(1===i.length){this.inputSource=t.inputSource;const{axes:e}=this.inputSource.gamepad,i=r.getHit(this.presentedScene,e[0],e[1]);r.show=!0,null!=i?(this.isTranslating=!0,this.lastDragPosition.copy(i)):!1===this.placeOnWall&&(this.isRotating=!0,this.lastScalar=e[0])}else 2===i.length&&n.canScale&&(r.show=!0,this.isScaling=!0,this.lastScalar=this.fingerSeparation(i)/n.scale.x)},this.onSelectEnd=()=>{this.isTranslating=!1,this.isRotating=!1,this.isScaling=!1,this.inputSource=null,this.goalPosition.y+=this.placementBox.offsetHeight*this.presentedScene.scale.x,this.placementBox.show=!1},this.threeRenderer=t.threeRenderer,this.camera.matrixAutoUpdate=!1}async resolveARSession(t){bu();const e=await navigator.xr.requestSession("immersive-ar",{requiredFeatures:["hit-test"],optionalFeatures:["dom-overlay"],domOverlay:{root:t.element.shadowRoot.querySelector("div.default")}}),i=this.threeRenderer.getContext();await i.makeXRCompatible(),e.updateRenderState({baseLayer:new XRWebGLLayer(e,i,{alpha:!0})});let n=new Promise((t,i)=>{e.requestAnimationFrame(()=>t())});await n,t.element[id](window.screen);const{framebuffer:r,framebufferWidth:s,framebufferHeight:o}=e.renderState.baseLayer;this.threeRenderer.setFramebuffer(r),this.threeRenderer.setPixelRatio(1),this.threeRenderer.setSize(s,o,!1);const a=t.element.shadowRoot.querySelector(".slot.exit-webxr-ar-button");return a.classList.add("enabled"),a.addEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=a,e}get presentedScene(){return this._presentedScene}async supportsPresentation(){try{return bu(),await navigator.xr.isSessionSupported("immersive-ar")}catch(e){return!1}}async present(t){this.isPresenting&&console.warn("Cannot present while a model is already presenting");let e=new Promise((t,e)=>{requestAnimationFrame(()=>t())});t.setHotspotsVisibility(!1),t.isDirty=!0,await e,this._presentedScene=t;const i=await this.resolveARSession(t);i.addEventListener("end",()=>{this.postSessionCleanup()},{once:!0}),this.refSpace=await i.requestReferenceSpace("local"),this.viewerRefSpace=await i.requestReferenceSpace("viewer"),t.setCamera(this.camera),this.initialized=!1,this.damperRate=.4,this.turntableRotation=t.yaw,t.yaw=0,this.goalYaw=0,this.goalScale=1,this.oldBackground=t.background,t.background=null,this.oldShadowIntensity=t.shadowIntensity,t.setShadowIntensity(0),this.oldTarget.copy(t.getTarget()),t.addEventListener("model-load",this.onUpdateScene);const n=20*Math.PI/180,r=!0===this.placeOnWall?void 0:new XRRay(new DOMPoint(0,0,0),{x:0,y:-Math.sin(n),z:-Math.cos(n)});i.requestHitTestSource({space:this.viewerRefSpace,offsetRay:r}).then(t=>{this.initialHitSource=t}),this.currentSession=i,this.placementBox=new Bu(t,this.placeOnWall?"back":"bottom"),this.placementComplete=!1,this.lastTick=performance.now(),this.tick()}async stopPresenting(){if(!this.isPresenting)return;const t=new Promise(t=>{this.resolveCleanup=t});try{await this.currentSession.end(),await t}catch(t){console.warn("Error while trying to end AR session"),console.warn(t),this.postSessionCleanup()}}get isPresenting(){return null!=this.presentedScene}get target(){return this.oldTarget}updateTarget(){const t=this.presentedScene;if(null!=t){const e=t.getTarget();this.oldTarget.copy(e),this.placeOnWall?t.setTarget(e.x,e.y,t.boundingBox.min.z):t.setTarget(e.x,t.boundingBox.min.y,e.z)}}postSessionCleanup(){this.threeRenderer.setFramebuffer(null);const t=this.currentSession;null!=t&&(t.removeEventListener("selectstart",this.onSelectStart),t.removeEventListener("selectend",this.onSelectEnd),t.cancelAnimationFrame(this.rafId),this.currentSession=null);const e=this.presentedScene;if(null!=e){const{target:t,element:i}=e;e.setCamera(e.camera),t.remove(this.placementBox),e.position.set(0,0,0),e.scale.set(1,1,1),e.setShadowScaleAndOffset(1,0);const n=this.turntableRotation;null!=n&&(e.yaw=n);const r=this.oldShadowIntensity;null!=r&&e.setShadowIntensity(r);const s=this.oldBackground;null!=s&&(e.background=s);const o=this.oldTarget;e.setTarget(o.x,o.y,o.z),e.removeEventListener("model-load",this.onUpdateScene),e.orientHotspots(0),i.requestUpdate("cameraTarget"),i[id](i.getBoundingClientRect())}this.renderer.height=0;const i=this.exitWebXRButtonContainer;null!=i&&(i.classList.remove("enabled"),i.removeEventListener("click",this.onExitWebXRButtonContainerClick),this.exitWebXRButtonContainer=null);const n=this.transientHitTestSource;null!=n&&(n.cancel(),this.transientHitTestSource=null);const r=this.initialHitSource;null!=r&&(r.cancel(),this.initialHitSource=null),null!=this.placementBox&&(this.placementBox.dispose(),this.placementBox=null),this.lastTick=null,this.turntableRotation=null,this.oldShadowIntensity=null,this.oldBackground=null,this.rafId=null,this.refSpace=null,this._presentedScene=null,this.viewerRefSpace=null,this.frame=null,this.inputSource=null,null!=this.resolveCleanup&&this.resolveCleanup(),this.dispatchEvent({type:"status",status:ku})}updateCamera(t){const{camera:e}=this,{matrix:i}=e;if(i.fromArray(t.transform.matrix),e.updateMatrixWorld(!0),e.position.setFromMatrixPosition(i),!this.initialized){e.projectionMatrix.fromArray(t.projectionMatrix),e.projectionMatrixInverse.copy(e.projectionMatrix).invert();const i=this.presentedScene;e.getWorldDirection(Du),i.yaw=Math.atan2(-Du.x,-Du.z),this.goalYaw=i.yaw,this.initialModelToWorld=(new lt).copy(i.matrixWorld),i.setHotspotsVisibility(!0),this.initialized=!0,this.dispatchEvent({type:"status",status:Lu})}if(null!=this.initialHitSource){const{position:t,idealCameraDistance:i}=this.presentedScene;e.getWorldDirection(t),t.multiplyScalar(i),t.add(e.position)}if(t.requestViewportScale&&t.recommendedViewportScale){const e=t.recommendedViewportScale;t.requestViewportScale(Math.max(e,.25))}const n=this.currentSession.renderState.baseLayer.getViewport(t);this.threeRenderer.setViewport(n.x,n.y,n.width,n.height),this.presentedScene.orientHotspots(Math.atan2(i.elements[1],i.elements[5]))}placeInitially(t){const e=this.initialHitSource;if(null==e)return;const i=t.getHitTestResults(e);if(0==i.length)return;const n=i[0],r=this.getHitPoint(n);if(null==r)return;this.placeModel(r),e.cancel(),this.initialHitSource=null;const{session:s}=t;s.addEventListener("selectstart",this.onSelectStart),s.addEventListener("selectend",this.onSelectEnd),s.requestHitTestSourceForTransientInput({profile:"generic-touchscreen"}).then(t=>{this.transientHitTestSource=t})}getHitPoint(t){const e=t.getPose(this.refSpace);if(null==e)return null;const i=Ou.fromArray(e.transform.matrix);return!0===this.placeOnWall&&(this.goalYaw=Math.atan2(i.elements[4],i.elements[6])),i.elements[5]>.75!==this.placeOnWall?Fu.setFromMatrixPosition(i):null}placeModel(t){const e=this.presentedScene;this.placementBox.show=!0;const i=this.goalPosition;if(i.copy(t),!1===this.placeOnWall){const n=t.y,r=this.camera.position.clone(),s=t.clone().sub(r).normalize();r.sub(s.multiplyScalar(e.idealCameraDistance));const o=new at(r,s.normalize()),a=this.initialModelToWorld,l=(new P).setFromMatrixPosition(a).add(t);a.setPosition(l),o.applyMatrix4(a.invert());const{max:c}=e.boundingBox;c.y+=10,o.intersectBox(e.boundingBox,l),c.y-=10,null!=l&&(l.applyMatrix4(a),i.add(t).sub(l)),i.y=n}this.updateTarget(),this.dispatchEvent({type:"status",status:Ru})}fingerSeparation(t){const e=t[0].inputSource.gamepad.axes,i=t[1].inputSource.gamepad.axes,n=i[0]-e[0],r=i[1]-e[1];return Math.sqrt(n*n+r*r)}processInput(t){const e=this.transientHitTestSource;if(null==e)return;if(!this.isTranslating&&!this.isScaling&&!this.isRotating)return;const i=t.getHitTestResultsForTransientInput(e),n=this.presentedScene,r=n.scale.x;if(this.isScaling)if(i.length<2)this.isScaling=!1;else{const t=this.fingerSeparation(i)/this.lastScalar;this.goalScale=t<1.2&&t>.8333333333333334?1:t}else{if(2===i.length&&n.canScale)return this.isTranslating=!1,this.isRotating=!1,this.isScaling=!0,void(this.lastScalar=this.fingerSeparation(i)/r);if(this.isRotating){const t=this.inputSource.gamepad.axes[0];this.goalYaw+=1.5*(t-this.lastScalar),this.lastScalar=t}else this.isTranslating&&i.forEach(t=>{if(t.inputSource!==this.inputSource||t.results.length<1)return;const e=this.getHitPoint(t.results[0]);if(null!=e){if(this.goalPosition.sub(this.lastDragPosition),!1===this.placeOnWall){const t=e.y-this.lastDragPosition.y;if(t<0){this.placementBox.offsetHeight=t/r,this.presentedScene.setShadowScaleAndOffset(r,t);const i=Du.copy(this.camera.position),n=-t/(i.y-e.y);i.multiplyScalar(n),e.multiplyScalar(1-n).add(i)}}this.goalPosition.add(e),this.lastDragPosition.copy(e)}})}}moveScene(t){const e=this.presentedScene,{position:i,yaw:n,idealCameraDistance:r}=e,s=this.goalPosition,o=e.scale.x,a=this.placementBox;if(null==this.initialHitSource&&(!s.equals(i)||this.goalScale!==o)){let{x:n,y:l,z:c}=i;t*=this.damperRate,n=this.xDamper.update(n,s.x,t,r),l=this.yDamper.update(l,s.y,t,r),c=this.zDamper.update(c,s.z,t,r),i.set(n,l,c);const u=this.scaleDamper.update(o,this.goalScale,t,1);if(e.scale.set(u,u,u),!this.isTranslating){const t=s.y-l;this.placementComplete&&!1===this.placeOnWall?(a.offsetHeight=t/u,e.setShadowScaleAndOffset(u,t)):0===t&&(this.placementComplete=!0,a.show=!1,e.setShadowIntensity(.3),this.damperRate=1)}}a.updateOpacity(t),e.updateTarget(t),e.yaw=this.yawDamper.update(n,this.goalYaw,t,Math.PI)}tick(){this.rafId=this.currentSession.requestAnimationFrame((t,e)=>this.onWebXRFrame(t,e))}onWebXRFrame(t,e){this.frame=e;const i=e.getViewerPose(this.refSpace);this.tick();const n=this.presentedScene;if(null==i||null==n)return;let r=!0;for(const s of i.views){if(this.updateCamera(s),r){this.placeInitially(e),this.processInput(e);const i=t-this.lastTick;this.moveScene(i),this.renderer.preRender(n,t,i),this.lastTick=t}this.threeRenderer.render(n,this.camera),r=!1}}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(t){t.threeRenderer.debug={checkShaderErrors:!0},Promise.resolve().then(()=>{self.dispatchEvent(new CustomEvent("model-viewer-renderer-debug",{detail:{renderer:t,THREE:{ShaderMaterial:Ze,Texture:M,Mesh:qe,Scene:Ar,PlaneBufferGeometry:hi,OrthographicCamera:ma,WebGLRenderTarget:L}}}))})}addScene(t){self.dispatchEvent(new CustomEvent("model-viewer-scene-added-debug",{detail:{scene:t}}))}removeScene(t){self.dispatchEvent(new CustomEvent("model-viewer-scene-removed-debug",{detail:{scene:t}}))}}new P,new R,new P,new lt,new lt,new lt,new P,new P,new P,new P,new C,new C;var Hu=function(t){var e=new Map,i=new Map,n=t.clone();return Uu(t,n,(function(t,n){e.set(n,t),i.set(t,n)})),n.traverse((function(t){if(t.isSkinnedMesh){var n=t,r=e.get(t),s=r.skeleton.bones;n.skeleton=r.skeleton.clone(),n.bindMatrix.copy(r.bindMatrix),n.skeleton.bones=s.map((function(t){return i.get(t)})),n.bind(n.skeleton,n.bindMatrix)}})),n};function Uu(t,e,i){i(t,e);for(var n=0;n<t.children.length;n++)Uu(t.children[n],e.children[n],i)}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gu=Symbol("prepared"),zu=Symbol("prepare"),ju=Symbol("preparedGLTF"),Vu=Symbol("clone");class Wu{constructor(t){this[ju]=t}static prepare(t){if(null==t.scene)throw new Error("Model does not have a scene");if(t[Gu])return t;const e=this[zu](t);return e[Gu]=!0,e}static[zu](t){const{scene:e}=t,i=[e];return Object.assign(Object.assign({},t),{scene:e,scenes:i})}get parser(){return this[ju].parser}get animations(){return this[ju].animations}get scene(){return this[ju].scene}get scenes(){return this[ju].scenes}get cameras(){return this[ju].cameras}get asset(){return this[ju].asset}get userData(){return this[ju].userData}clone(){return new(0,this.constructor)(this[Vu]())}dispose(){this.scenes.forEach(t=>{t.traverse(t=>{if(!t.isMesh)return;const e=t;(Array.isArray(e.material)?e.material:[e.material]).forEach(t=>{t.dispose()}),e.geometry.dispose()})})}[Vu](){const t=this[ju],e=Hu(this.scene),i=[e],n=t.userData?Object.assign({},t.userData):{};return Object.assign(Object.assign({},t),{scene:e,scenes:i,userData:n})}}
/**
 * @license MIT
 * @see https://github.com/mrdoob/three.js/blob/dev/LICENSE
 */const qu="\n#ifdef ALPHATEST\n\n    if ( diffuseColor.a < ALPHATEST ) discard;\n    diffuseColor.a = 1.0;\n\n#endif\n",Yu=Symbol("threeGLTF"),$u=Symbol("gltf"),Ju=Symbol("gltfElementMap"),Xu=Symbol("threeObjectMap"),Ku=Symbol("parallelTraverseThreeScene"),Zu=Symbol("correlateOriginalThreeGLTF"),th=Symbol("correlateCloneThreeGLTF");class eh{constructor(t,e,i,n){this[Yu]=t,this[$u]=e,this[Ju]=n,this[Xu]=i}static from(t,e){return null!=e?this[th](t,e):this[Zu](t)}static[Zu](t){const e=t.parser.json,{associations:i}=t.parser,n=new Map,r={name:"Default"},s={type:"materials",index:-1};return i.forEach((t,i)=>{null==t&&(s.index<0&&(null==e.materials&&(e.materials=[]),s.index=e.materials.length,e.materials.push(r)),t=s);const{type:o,index:a}=t,l=(e[o]||[])[a];if(null==l)return;let c=n.get(l);null==c&&(c=new Set,n.set(l,c)),c.add(i)}),new eh(t,e,i,n)}static[th](t,e){const i=e.threeGLTF,n=e.gltf,r=JSON.parse(JSON.stringify(n)),s=new Map,o=new Map;for(let a=0;a<i.scenes.length;a++)this[Ku](i.scenes[a],t.scenes[a],(t,i)=>{const n=e.threeObjectMap.get(t);if(null!=n){const{type:t,index:e}=n,a=r[t][e];s.set(i,{type:t,index:e});const l=o.get(a)||new Set;l.add(i),o.set(a,l)}});return new eh(t,r,s,o)}static[Ku](t,e,i){const n=(t,e)=>{if(i(t,e),t.isObject3D){if(t.isMesh)if(Array.isArray(t.material))for(let i=0;i<t.material.length;++i)n(t.material[i],e.material[i]);else n(t.material,e.material);for(let i=0;i<t.children.length;++i)n(t.children[i],e.children[i])}};n(t,e)}get threeGLTF(){return this[Yu]}get gltf(){return this[$u]}get gltfElementMap(){return this[Ju]}get threeObjectMap(){return this[Xu]}loadVariant(t,e=(()=>{})){const i=new Set;return this.threeGLTF.scene.traverse(async n=>{const{gltfExtensions:r}=n.userData;if(!n.isMesh||null==r)return;const s=r.KHR_materials_variants;if(null==s)return;let o=-1;for(const e of s.mappings)if(e.variants.indexOf(t)>=0){o=e.material;break}if(o<0)return;const a=await this.threeGLTF.parser.getDependency("material",o);i.add(o),n.material=a,this.threeGLTF.parser.assignFinalMaterial(n),e();const l=this.gltf.materials[o];let c=this.gltfElementMap.get(l);null==c&&(c=new Set,this.gltfElementMap.set(l,c)),c.add(n.material)}),i
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}const ih=Symbol("cloneAndPatchMaterial"),nh=Symbol("correlatedSceneGraph");class rh extends Wu{static[zu](t){const e=super[zu](t);null==e[nh]&&(e[nh]=eh.from(e));const{scene:i}=e,n=[];i.traverse(t=>{if(t.renderOrder=1e3,t.frustumCulled=!1,t.name||(t.name=t.uuid),!t.isMesh)return;t.castShadow=!0;const e=t;let i=!1;(Array.isArray(e.material)?e.material:[e.material]).forEach(t=>{t.isMeshStandardMaterial&&(t.transparent&&2===t.side&&(i=!0,t.side=0),fh.singleton.roughnessMipmapper.generateMipmaps(t))}),i&&n.push(e)});for(const r of n){const t=(Array.isArray(r.material)?r.material:[r.material]).map(t=>{const e=t.clone();return e.side=1,e}),e=Array.isArray(r.material)?t:t[0],i=new qe(r.geometry,e);i.renderOrder=-1,r.add(i)}return e}get correlatedSceneGraph(){return this[ju][nh]}[Vu](){const t=super[Vu](),e=new Map;return t.scene.traverse(t=>{if(t.isMesh){const i=t;Array.isArray(i.material)?i.material=i.material.map(t=>this[ih](t,e)):null!=i.material&&(i.material=this[ih](i.material,e))}}),t[nh]=eh.from(t,this.correlatedSceneGraph),t}[ih](t,e){var i,n;if(e.has(t.uuid))return e.get(t.uuid);const r=t.clone();null!=t.map&&(r.map=t.map.clone(),r.map.needsUpdate=!0),null!=t.normalMap&&(r.normalMap=t.normalMap.clone(),r.normalMap.needsUpdate=!0),null!=t.emissiveMap&&(r.emissiveMap=t.emissiveMap.clone(),r.emissiveMap.needsUpdate=!0),t.isGLTFSpecularGlossinessMaterial?(null!=t.specularMap&&(r.specularMap=null===(i=t.specularMap)||void 0===i?void 0:i.clone(),r.specularMap.needsUpdate=!0),null!=t.glossinessMap&&(r.glossinessMap=null===(n=t.glossinessMap)||void 0===n?void 0:n.clone(),r.glossinessMap.needsUpdate=!0)):(t.metalnessMap===t.aoMap?r.metalnessMap=r.aoMap:null!=t.metalnessMap&&(r.metalnessMap=t.metalnessMap.clone(),r.metalnessMap.needsUpdate=!0),t.roughnessMap===t.aoMap?r.roughnessMap=r.aoMap:t.roughnessMap===t.metalnessMap?r.roughnessMap=r.metalnessMap:null!=t.roughnessMap&&(r.roughnessMap=t.roughnessMap.clone(),r.roughnessMap.needsUpdate=!0));const s=t.onBeforeCompile;return r.onBeforeCompile=t.isGLTFSpecularGlossinessMaterial?t=>{s(t,void 0),t.fragmentShader=t.fragmentShader.replace("#include <alphatest_fragment>",qu)}:t=>{t.fragmentShader=t.fragmentShader.replace("#include <alphatest_fragment>",qu),s(t,void 0)},r.shadowSide=0,r.transparent&&(r.depthWrite=!1),r.alphaTest||r.transparent||(r.alphaTest=-.5),e.set(t.uuid,r),r}}var sh=function(t){No.call(this,t),this.type=1009};sh.prototype=Object.assign(Object.create(No.prototype),{constructor:sh,parse:function(t){var e=function(t,e){switch(t){case 1:console.error("THREE.RGBELoader Read Error: "+(e||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(e||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(e||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(e||""))}return-1},i=function(t,e,i){e=e||1024;for(var n=t.pos,r=-1,s=0,o="",a=String.fromCharCode.apply(null,new Uint16Array(t.subarray(n,n+128)));0>(r=a.indexOf("\n"))&&s<e&&n<t.byteLength;)o+=a,s+=a.length,n+=128,a+=String.fromCharCode.apply(null,new Uint16Array(t.subarray(n,n+128)));return-1<r&&(!1!==i&&(t.pos+=s+r+1),o+a.slice(0,r))},n=function(t,e,i,n){var r=t[e+3],s=Math.pow(2,r-128)/255;i[n+0]=t[e+0]*s,i[n+1]=t[e+1]*s,i[n+2]=t[e+2]*s},r=function(t,e,i,n){var r=t[e+3],s=Math.pow(2,r-128)/255;i[n+0]=ml(t[e+0]*s),i[n+1]=ml(t[e+1]*s),i[n+2]=ml(t[e+2]*s)},s=new Uint8Array(t);s.pos=0;var o=function(t){var n,r,s=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,o=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,a=/^\s*FORMAT=(\S+)\s*$/,l=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,c={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};if(t.pos>=t.byteLength||!(n=i(t)))return e(1,"no header found");if(!(r=n.match(/^#\?(\S+)/)))return e(3,"bad initial token");for(c.valid|=1,c.programtype=r[1],c.string+=n+"\n";!1!==(n=i(t));)if(c.string+=n+"\n","#"!==n.charAt(0)){if((r=n.match(s))&&(c.gamma=parseFloat(r[1],10)),(r=n.match(o))&&(c.exposure=parseFloat(r[1],10)),(r=n.match(a))&&(c.valid|=2,c.format=r[1]),(r=n.match(l))&&(c.valid|=4,c.height=parseInt(r[1],10),c.width=parseInt(r[2],10)),2&c.valid&&4&c.valid)break}else c.comments+=n+"\n";return 2&c.valid?4&c.valid?c:e(3,"missing image size specifier"):e(3,"missing format specifier")}(s);if(-1!==o){var a=o.width,l=o.height,c=function(t,i,n){var r,s,o,a,l,c,u,h,d,p,f,g,m,v=i,A=n;if(v<8||v>32767||2!==t[0]||2!==t[1]||128&t[2])return new Uint8Array(t);if(v!==(t[2]<<8|t[3]))return e(3,"wrong scanline width");if(!(r=new Uint8Array(4*i*n)).length)return e(4,"unable to allocate buffer space");for(s=0,o=0,h=4*v,m=new Uint8Array(4),c=new Uint8Array(h);A>0&&o<t.byteLength;){if(o+4>t.byteLength)return e(1);if(m[0]=t[o++],m[1]=t[o++],m[2]=t[o++],m[3]=t[o++],2!=m[0]||2!=m[1]||(m[2]<<8|m[3])!=v)return e(3,"bad rgbe scanline format");for(u=0;u<h&&o<t.byteLength;){if((g=(a=t[o++])>128)&&(a-=128),0===a||u+a>h)return e(3,"bad scanline data");if(g)for(l=t[o++],d=0;d<a;d++)c[u++]=l;else c.set(t.subarray(o,o+a),u),u+=a,o+=a}for(p=v,d=0;d<p;d++)f=0,r[s]=c[d+f],f+=v,r[s+1]=c[d+f],f+=v,r[s+2]=c[d+f],f+=v,r[s+3]=c[d+f],s+=4;A--}return r}(s.subarray(s.pos),a,l);if(-1!==c){switch(this.type){case 1009:var u=c,h=1023,d=1009;break;case 1015:for(var p=c.length/4*3,f=new Float32Array(p),g=0;g<p;g++)n(c,4*g,f,3*g);u=f,h=1022,d=1015;break;case 1016:p=c.length/4*3;var m=new Uint16Array(p);for(g=0;g<p;g++)r(c,4*g,m,3*g);u=m,h=1022,d=1016;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type)}return{width:a,height:l,data:u,header:o.string,gamma:o.gamma,exposure:o.exposure,format:h,type:d}}}return null},setDataType:function(t){return this.type=t,this},load:function(t,e,i,n){return No.prototype.load.call(this,t,(function(t,i){switch(t.type){case 1009:t.encoding=3002,t.minFilter=1003,t.magFilter=1003,t.generateMipmaps=!1,t.flipY=!0;break;case 1015:case 1016:t.encoding=3e3,t.minFilter=1006,t.magFilter=1006,t.generateMipmaps=!1,t.flipY=!0}e&&e(t,i)}),i,n)}});
/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class oh extends Ar{constructor(){super(),this.position.y=-3.5;const t=new $e;t.deleteAttribute("uv");const e=new ro({metalness:0,side:1}),i=new ro({metalness:0}),n=new ga(16777215,500,28,2);n.position.set(.418,16.199,.3),this.add(n);const r=new qe(t,e);r.position.set(-.757,13.219,.717),r.scale.set(31.713,28.305,28.591),this.add(r);const s=new qe(t,i);s.position.set(-10.906,2.009,1.846),s.rotation.set(0,-.195,0),s.scale.set(2.328,7.905,4.651),this.add(s);const o=new qe(t,i);o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),this.add(o);const a=new qe(t,i);a.position.set(6.167,.857,7.803),a.rotation.set(0,.561,0),a.scale.set(3.927,6.285,3.687),this.add(a);const l=new qe(t,i);l.position.set(-2.017,.018,6.124),l.rotation.set(0,.333,0),l.scale.set(2.002,4.566,2.064),this.add(l);const c=new qe(t,i);c.position.set(2.291,-.756,-2.621),c.rotation.set(0,-.286,0),c.scale.set(1.546,1.552,1.496),this.add(c);const u=new qe(t,i);u.position.set(-2.193,-.369,-5.547),u.rotation.set(0,.516,0),u.scale.set(3.875,3.487,2.986),this.add(u);const h=new qe(t,this.createAreaLightMaterial(50));h.position.set(-16.116,14.37,8.208),h.scale.set(.1,2.428,2.739),this.add(h);const d=new qe(t,this.createAreaLightMaterial(50));d.position.set(-16.109,18.021,-8.207),d.scale.set(.1,2.425,2.751),this.add(d);const p=new qe(t,this.createAreaLightMaterial(17));p.position.set(14.904,12.198,-1.832),p.scale.set(.15,4.265,6.331),this.add(p);const f=new qe(t,this.createAreaLightMaterial(43));f.position.set(-.462,8.89,14.52),f.scale.set(4.38,5.441,.088),this.add(f);const g=new qe(t,this.createAreaLightMaterial(20));g.position.set(3.235,11.486,-12.541),g.scale.set(2.5,2,.1),this.add(g);const m=new qe(t,this.createAreaLightMaterial(100));m.position.set(0,20,0),m.scale.set(1,.1,1),this.add(m)}createAreaLightMaterial(t){const e=new se;return e.color.setScalar(t),e
/* @license
 * Copyright 2021 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class ah extends Ar{constructor(){super(),this.position.y=-3.5;const t=new $e;t.deleteAttribute("uv");const e=new ro({metalness:0,side:1}),i=new ro({metalness:0}),n=new ga(16777215,500,28,2);n.position.set(.5,16.5,.5),this.add(n);const r=new qe(t,e);r.position.set(0,13.2,0),r.scale.set(31.5,28.5,31.5),this.add(r);const s=new qe(t,i);s.position.set(-10.906,-1,1.846),s.rotation.set(0,-.195,0),s.scale.set(2.328,7.905,4.651),this.add(s);const o=new qe(t,i);o.position.set(-5.607,-.754,-.758),o.rotation.set(0,.994,0),o.scale.set(1.97,1.534,3.955),this.add(o);const a=new qe(t,i);a.position.set(6.167,-.16,7.803),a.rotation.set(0,.561,0),a.scale.set(3.927,6.285,3.687),this.add(a);const l=new qe(t,i);l.position.set(-2.017,.018,6.124),l.rotation.set(0,.333,0),l.scale.set(2.002,4.566,2.064),this.add(l);const c=new qe(t,i);c.position.set(2.291,-.756,-2.621),c.rotation.set(0,-.286,0),c.scale.set(1.546,1.552,1.496),this.add(c);const u=new qe(t,i);u.position.set(-2.193,-.369,-5.547),u.rotation.set(0,.516,0),u.scale.set(3.875,3.487,2.986),this.add(u);const h=new qe(t,this.createAreaLightMaterial(18));h.position.set(-14,9,.1),h.scale.set(.1,5,5),this.add(h);const d=new qe(t,this.createAreaLightMaterial(18));d.position.set(14,9,.1),d.scale.set(.1,5,5),this.add(d);const p=new qe(t,this.createAreaLightMaterial(18));p.position.set(0,9,14),p.scale.set(5,5,.1),this.add(p);const f=new qe(t,this.createAreaLightMaterial(18));f.position.set(0,9,-14),f.scale.set(5,5,.1),this.add(f);const g=new qe(t,this.createAreaLightMaterial(18));g.position.set(0,20,0),g.scale.set(1.5,.1,1.5),this.add(g)}createAreaLightMaterial(t){const e=new se;return e.color.setScalar(t),e
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}Mo.enabled=!0;const lh=/\.hdr(\.js)?$/,ch=new Qo,uh=new sh,hh={url:null};class dh extends _{constructor(t){super(),this.generatedEnvironmentMap=null,this.generatedEnvironmentMapAlt=null,this.skyboxCache=new Map,this.environmentMapCache=new Map,this.PMREMGenerator=new Rl(t)}async load(t,e=(()=>{})){try{const i=lh.test(t),n=i?uh:ch,r=await new Promise((i,r)=>n.load(t,i,t=>{e(t.loaded/t.total*.9)},r));return e(1),this.addMetadata(r,t),r.mapping=303,i?(r.encoding=3002,r.minFilter=1003,r.magFilter=1003,r.flipY=!0):r.encoding=3007,r}finally{e&&e(1)}}async generateEnvironmentMapAndSkybox(t=null,e=null,i={}){const{progressTracker:n}=i,r=null!=n?n.beginActivity():()=>{},s="neutral"===e;!0===s&&(e=null);const o=_u(e);try{let e,i=Promise.resolve(null);t&&(i=this.loadSkyboxFromUrl(t,n)),e=o?this.loadEnvironmentMapFromUrl(o,n):t?this.loadEnvironmentMapFromUrl(t,n):!0===s?this.loadGeneratedEnvironmentMapAlt():this.loadGeneratedEnvironmentMap();let[a,l]=await Promise.all([e,i]);if(null==a)throw new Error("Failed to load environment map.");return{environmentMap:a,skybox:l}}finally{r(1)}}addMetadata(t,e){null!=t&&(t.userData=Object.assign(Object.assign({},hh),{url:e}))}loadSkyboxFromUrl(t,e){if(!this.skyboxCache.has(t)){const i=e?e.beginActivity():()=>{},n=this.load(t,i);this.skyboxCache.set(t,n)}return this.skyboxCache.get(t)}loadEnvironmentMapFromUrl(t,e){if(!this.environmentMapCache.has(t)){const i=this.loadSkyboxFromUrl(t,e).then(e=>{const i=this.PMREMGenerator.fromEquirectangular(e);return this.addMetadata(i.texture,t),i});this.PMREMGenerator.compileEquirectangularShader(),this.environmentMapCache.set(t,i)}return this.environmentMapCache.get(t)}loadGeneratedEnvironmentMap(){if(null==this.generatedEnvironmentMap){const t=new oh;this.generatedEnvironmentMap=this.PMREMGenerator.fromScene(t,.04),this.addMetadata(this.generatedEnvironmentMap.texture,null)}return Promise.resolve(this.generatedEnvironmentMap)}loadGeneratedEnvironmentMapAlt(){if(null==this.generatedEnvironmentMapAlt){const t=new ah;this.generatedEnvironmentMapAlt=this.PMREMGenerator.fromScene(t,.04),this.addMetadata(this.generatedEnvironmentMapAlt.texture,null)}return Promise.resolve(this.generatedEnvironmentMapAlt)}async dispose(){const t=[];this.environmentMapCache.forEach(e=>{t.push(e)}),this.environmentMapCache.clear();for(const e of t)try{(await e).dispose()}catch(t){}null!=this.generatedEnvironmentMap&&(this.generatedEnvironmentMap.dispose(),this.generatedEnvironmentMap=null),null!=this.generatedEnvironmentMapAlt&&(this.generatedEnvironmentMapAlt.dispose(),this.generatedEnvironmentMapAlt=null)}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=[1,.79,.62,.5,.4,.31,.25];class fh extends _{constructor(t){super(),this.loader=new Oc(rh),this.width=0,this.height=0,this.dpr=1,this.debugger=null,this.scenes=new Set,this.multipleScenesVisible=!1,this.scaleStep=0,this.lastStep=3,this.avgFrameDuration=22,this.onWebGLContextLost=t=>{this.dispatchEvent({type:"contextlost",sourceEvent:t})},this.dpr=Eu(),this.canvasElement=document.createElement("canvas"),this.canvasElement.id="webgl-canvas",this.canvas3D=this.canvasElement,this.canvas3D.addEventListener("webglcontextlost",this.onWebGLContextLost);try{this.threeRenderer=new vr({canvas:this.canvas3D,alpha:!0,antialias:!0,powerPreference:"high-performance",preserveDrawingBuffer:!0}),this.threeRenderer.autoClear=!0,this.threeRenderer.outputEncoding=3007,this.threeRenderer.physicallyCorrectLights=!0,this.threeRenderer.setPixelRatio(1),this.threeRenderer.shadowMap.enabled=!0,this.threeRenderer.shadowMap.type=2,this.threeRenderer.shadowMap.autoUpdate=!1,this.debugger=null!=t&&t.debug?new Qu(this):null,this.threeRenderer.debug={checkShaderErrors:!!this.debugger},this.threeRenderer.toneMapping=4}catch(t){console.warn(t)}this.arRenderer=new Nu(this),this.textureUtils=this.canRender?new dh(this.threeRenderer):null,this.roughnessMipmapper=new yu(this.threeRenderer),Oc.initializeKTX2Loader(this.threeRenderer),this.updateRendererSize(),this.lastTick=performance.now(),this.avgFrameDuration=0}static get singleton(){return this._singleton}static resetSingleton(){this._singleton.dispose(),this._singleton=new fh({debug:Su()})}get canRender(){return null!=this.threeRenderer}get scaleFactor(){return ph[this.scaleStep]}set minScale(t){let e=1;for(;e<ph.length&&!(ph[e]<t);)++e;this.lastStep=e-1}updateRendererSize(){const t=Eu();if(t!==this.dpr)for(const o of this.scenes){const{element:t}=o;t[Gh](t.getBoundingClientRect())}let e=0,i=0;for(const o of this.scenes)e=Math.max(e,o.width),i=Math.max(i,o.height);if(e===this.width&&i===this.height&&t===this.dpr)return;this.width=e,this.height=i,this.dpr=t,this.canRender&&this.threeRenderer.setSize(e*t,i*t,!1);const n=this.scaleFactor,r=e/n,s=i/n;this.canvasElement.style.width=r+"px",this.canvasElement.style.height=s+"px";for(const o of this.scenes){const{canvas:n}=o;n.width=Math.round(e*t),n.height=Math.round(i*t),n.style.width=r+"px",n.style.height=s+"px",o.isDirty=!0}}updateRendererScale(){const t=this.scaleStep;if(this.avgFrameDuration>26&&this.scaleStep<this.lastStep?++this.scaleStep:this.avgFrameDuration<18&&this.scaleStep>0&&--this.scaleStep,t==this.scaleStep)return;const e=this.scaleFactor;this.avgFrameDuration=22;const i=this.width/e,n=this.height/e;this.canvasElement.style.width=i+"px",this.canvasElement.style.height=n+"px";for(const r of this.scenes){const{style:t}=r.canvas;t.width=i+"px",t.height=n+"px",r.isDirty=!0}}registerScene(t){this.scenes.add(t);const{canvas:e}=t,i=this.scaleFactor;e.width=Math.round(this.width*this.dpr),e.height=Math.round(this.height*this.dpr),e.style.width=this.width/i+"px",e.style.height=this.height/i+"px",this.multipleScenesVisible&&e.classList.add("show"),t.isDirty=!0,this.canRender&&this.scenes.size>0&&this.threeRenderer.setAnimationLoop(t=>this.render(t)),null!=this.debugger&&this.debugger.addScene(t)}unregisterScene(t){this.scenes.delete(t),this.canRender&&0===this.scenes.size&&this.threeRenderer.setAnimationLoop(null),null!=this.debugger&&this.debugger.removeScene(t)}displayCanvas(t){return this.multipleScenesVisible?t.element[Xh]:this.canvasElement}selectCanvas(){let t=0,e=null;for(const r of this.scenes){const{element:i}=r;i.modelIsVisible&&(++t,e=i[Jh])}const i=t>1||!1,{canvasElement:n}=this;if(i!==this.multipleScenesVisible||!i&&n.parentElement!==e){this.multipleScenesVisible=i,i&&n.classList.remove("show");for(const t of this.scenes){const r=t.element[Jh],s=t.element[Xh];i?(s.classList.add("show"),t.isDirty=!0):r===e&&(r.appendChild(n),n.classList.add("show"),s.classList.remove("show"),t.isDirty=!0)}}}orderedScenes(){const t=[];for(const e of[!1,!0])for(const i of this.scenes)i.element.modelIsVisible===e&&t.push(i);return t}get isPresenting(){return this.arRenderer.isPresenting}preRender(t,e,i){const{element:n,exposure:r}=t;n[td](e,i);const s="number"==typeof r&&!self.isNaN(r);this.threeRenderer.toneMappingExposure=s?r:1,t.isShadowDirty()&&(this.threeRenderer.shadowMap.needsUpdate=!0)}render(t){const e=t-this.lastTick;if(this.lastTick=t,!this.canRender||this.isPresenting)return;this.avgFrameDuration+=Cu(.2*(e-this.avgFrameDuration),-2,2),this.selectCanvas(),this.updateRendererSize(),this.updateRendererScale();const{dpr:i,scaleFactor:n}=this;for(const r of this.orderedScenes()){if(!r.element[ld]())continue;if(this.preRender(r,t,e),!r.isDirty)continue;if(r.isDirty=!1,++r.renderCount,!r.element.modelIsVisible&&!this.multipleScenesVisible)for(const t of this.scenes)t.element.modelIsVisible&&(t.isDirty=!0);const s=Math.min(Math.ceil(r.width*n*i),this.canvas3D.width),o=Math.min(Math.ceil(r.height*n*i),this.canvas3D.height);if(this.threeRenderer.setRenderTarget(null),this.threeRenderer.setViewport(0,Math.floor(this.height*i)-o,s,o),this.threeRenderer.render(r,r.getCamera()),this.multipleScenesVisible){null==r.context&&r.createContext();{const t=r.context;t.clearRect(0,0,s,o),t.drawImage(this.canvas3D,0,0,s,o,0,0,s,o)}}}}dispose(){null!=this.textureUtils&&this.textureUtils.dispose(),null!=this.threeRenderer&&this.threeRenderer.dispose(),this.textureUtils=null,this.threeRenderer=null,this.scenes.clear(),this.canvas3D.removeEventListener("webglcontextlost",this.onWebGLContextLost)}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gh,mh;fh._singleton=new fh({debug:Su()});const vh=Symbol("ongoingActivities"),Ah=Symbol("announceTotalProgress"),yh=Symbol("eventDelegate");class _h{constructor(){this[gh]=document.createDocumentFragment(),this.addEventListener=(...t)=>this[yh].addEventListener(...t),this.removeEventListener=(...t)=>this[yh].removeEventListener(...t),this.dispatchEvent=(...t)=>this[yh].dispatchEvent(...t),this[mh]=new Set}get ongoingActivityCount(){return this[vh].size}beginActivity(){const t={progress:0};return this[vh].add(t),1===this.ongoingActivityCount&&this[Ah](),e=>{let i;return i=Math.max(Cu(e,0,1),t.progress),i!==t.progress&&(t.progress=i,this[Ah]()),t.progress}}[(gh=yh,mh=vh,Ah)](){let t=0,e=0,i=0;for(const n of this[vh]){const{progress:r}=n;t+=r*(.5/Math.pow(2,e++)),1===r&&i++}i===this.ongoingActivityCount&&(t=1,this[vh].clear()),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:t}}))}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bh,wh,xh,Ch,Eh,Sh,Ih,Th,Mh,Bh,kh=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const Lh=document.createElement("canvas");let Rh=null;const Ph=Symbol("template"),Dh=Symbol("fallbackResizeHandler"),Oh=Symbol("defaultAriaLabel"),Fh=Symbol("resizeObserver"),Nh=Symbol("intersectionObserver"),Qh=Symbol("clearModelTimeout"),Hh=Symbol("onContextLost"),Uh=Symbol("loaded"),Gh=Symbol("updateSize"),zh=Symbol("isElementInViewport"),jh=Symbol("announceModelVisibility"),Vh=Symbol("ariaLabel"),Wh=Symbol("loadedTime"),qh=Symbol("updateSource"),Yh=Symbol("markLoaded"),$h=Symbol("container"),Jh=Symbol("input"),Xh=Symbol("canvas"),Kh=Symbol("scene"),Zh=Symbol("needsRender"),td=Symbol("tick"),ed=Symbol("onModelLoad"),id=Symbol("onResize"),nd=Symbol("renderer"),rd=Symbol("progressTracker"),sd=Symbol("getLoaded"),od=Symbol("getModelIsVisible"),ad=Symbol("shouldAttemptPreload"),ld=Symbol("sceneIsReady"),cd=Symbol("hasTransitioned"),ud=t=>({x:t.x,y:t.y,z:t.z,toString(){return`${this.x}m ${this.y}m ${this.z}m`}});class hd extends s{constructor(){super(),this.alt=null,this.src=null,this[bh]=!1,this[wh]=!1,this[xh]=0,this[Ch]=null,this[Eh]=xu(()=>{const t=this.getBoundingClientRect();this[Gh](t)},50),this[Sh]=xu(t=>{const e=this.modelIsVisible;e!==t&&this.dispatchEvent(new CustomEvent("model-visibility",{detail:{visible:e}}))},0),this[Ih]=null,this[Th]=null,this[Mh]=new _h,this[Bh]=t=>{this.dispatchEvent(new CustomEvent("error",{detail:{type:"webglcontextlost",sourceError:t.sourceEvent}}))};const t=this.constructor.template;window.ShadyCSS&&window.ShadyCSS.styleElement(this,{}),this.attachShadow({mode:"open"});const e=this.shadowRoot;let i,n;if(e.appendChild(t.content.cloneNode(!0)),this[$h]=e.querySelector(".container"),this[Jh]=e.querySelector(".userInput"),this[Xh]=e.querySelector("canvas"),this[Oh]=this[Jh].getAttribute("aria-label"),this.isConnected){const t=this.getBoundingClientRect();i=t.width,n=t.height}else i=300,n=150;this[Kh]=new du({canvas:this[Xh],element:this,width:i,height:n}),this[Kh].addEventListener("model-load",async t=>{this[Yh](),this[ed](),await((t=0)=>new Promise(e=>setTimeout(e,t)))(),this.dispatchEvent(new CustomEvent("load",{detail:{url:t.url}}))}),Promise.resolve().then(()=>{this[Gh](this.getBoundingClientRect())}),u&&(this[Fh]=new ResizeObserver(t=>{if(!this[nd].isPresenting)for(let e of t)e.target===this&&this[Gh](e.contentRect)})),h?this[Nh]=new IntersectionObserver(t=>{for(let e of t)if(e.target===this){const t=this.modelIsVisible;this[zh]=e.isIntersecting,this[jh](t),this[zh]&&!this[ld]()&&this[qh]()}},{root:null,rootMargin:"0px",threshold:0}):this[zh]=!0}static get is(){return"model-viewer"}static get template(){return this.hasOwnProperty(Ph)||(this[Ph]=(t=>{const e=document.createElement("template");return e.innerHTML=y.innerHTML,window.ShadyCSS&&window.ShadyCSS.prepareTemplate(e,t),e})(this.is)),this[Ph]}static set modelCacheSize(t){Oc[Pc].evictionThreshold=t}static get modelCacheSize(){return Oc[Pc].evictionThreshold}static set minimumRenderScale(t){t>1&&console.warn("<model-viewer> minimumRenderScale has been clamped to a maximum value of 1."),t<=0&&console.warn("<model-viewer> minimumRenderScale has been clamped to a minimum value of 0.25."),fh.singleton.minScale=t}static get minimumRenderScale(){return fh.singleton.minScale}get loaded(){return this[sd]()}get[(bh=zh,wh=Uh,xh=Wh,Ch=Qh,Eh=Dh,Sh=jh,Ih=Fh,Th=Nh,Mh=rd,nd)](){return fh.singleton}get modelIsVisible(){return this[od]()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),u?this[Fh].observe(this):self.addEventListener("resize",this[Dh]),h&&this[Nh].observe(this);const t=this[nd];t.addEventListener("contextlost",this[Hh]),t.registerScene(this[Kh]),null!=this[Qh]&&(self.clearTimeout(this[Qh]),this[Qh]=null,this.requestUpdate("src",null))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),u?this[Fh].unobserve(this):self.removeEventListener("resize",this[Dh]),h&&this[Nh].unobserve(this);const t=this[nd];t.removeEventListener("contextlost",this[Hh]),t.unregisterScene(this[Kh]),this[Qh]=self.setTimeout(()=>{this[Kh].reset()},1e3)}updated(t){if(super.updated(t),t.has("src")&&(null==this.src?(this[Uh]=!1,this[Wh]=0,this[Kh].reset()):this.src!==this[Kh].url&&(this[Uh]=!1,this[Wh]=0,this[qh]())),t.has("alt")){const t=null==this.alt?this[Oh]:this.alt;this[Jh].setAttribute("aria-label",t)}}toDataURL(t,e){return this[nd].displayCanvas(this[Kh]).toDataURL(t,e)}async toBlob(t){const e=t?t.mimeType:void 0,i=t?t.qualityArgument:void 0,n=t?t.idealAspect:void 0,{width:r,height:s,fieldOfViewAspect:o,aspect:a}=this[Kh],{dpr:l,scaleFactor:c}=this[nd];let u=r*c*l,h=s*c*l,d=0,p=0;if(!0===n)if(o>a){const t=h;h=Math.round(u/o),p=(t-h)/2}else{const t=u;u=Math.round(h*o),d=(t-u)/2}Lh.width=u,Lh.height=h;try{return new Promise(async(t,n)=>(null==Rh&&(Rh=Lh.getContext("2d")),Rh.drawImage(this[nd].displayCanvas(this[Kh]),d,p,u,h,0,0,u,h),!Lh.msToBlob||e&&"image/png"!==e?Lh.toBlob?void Lh.toBlob(e=>{if(!e)return n(new Error("Unable to retrieve canvas blob"));t(e)},e,i):t(await(async t=>new Promise((e,i)=>{const n=t.match(/data:(.*);/);if(!n)return i(new Error(t+" is not a valid data Url"));const r=n[1],s=t.replace(/data:image\/\w+;base64,/,""),o=atob(s),a=[];for(let t=0;t<o.length;t+=512){const e=o.slice(t,t+512),i=new Array(e.length);for(let t=0;t<e.length;t++)i[t]=e.charCodeAt(t);const n=new Uint8Array(i);a.push(n)}e(new Blob(a,{type:r}))}))(Lh.toDataURL(e,i))):t(Lh.msToBlob())))}finally{this[Gh]({width:r,height:s})}}get[Vh](){return null==this.alt||"null"===this.alt?this[Oh]:this.alt}[sd](){return this[Uh]}[od](){return this.loaded&&this[zh]}[cd](){return this.modelIsVisible}[ad](){return!!this.src&&this[zh]}[ld](){return this[Uh]}[Gh]({width:t,height:e}){this[$h].style.width=t+"px",this[$h].style.height=e+"px",this[id]({width:parseFloat(t),height:parseFloat(e)})}[td](t,e){}[Yh](){this[Uh]||(this[Uh]=!0,this[Wh]=performance.now())}[Zh](){this[Kh].isDirty=!0}[ed](){}[id](t){this[Kh].setSize(t.width,t.height)}async[(Bh=Hh,qh)](){if(this.loaded||!this[ad]())return;const t=this[rd].beginActivity(),e=this.src;try{await this[Kh].setSource(e,e=>t(.8*e));const i={url:e};this.dispatchEvent(new CustomEvent("preload",{detail:i}))}catch(t){this.dispatchEvent(new CustomEvent("error",{detail:t}))}finally{t(.9),requestAnimationFrame(()=>{requestAnimationFrame(()=>{t(1)})})}}}kh([a({type:String})],hd.prototype,"alt",void 0),kh([a({type:String})],hd.prototype,"src",void 0);
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var dd=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const pd=Symbol("changeAnimation"),fd=Symbol("paused"),gd=Symbol("annotationRenderer"),md=Symbol("hotspotMap"),vd=Symbol("mutationCallback"),Ad=Symbol("observer"),yd=Symbol("addHotspot"),_d=Symbol("removeHotspot"),bd=new C,wd=new lt,xd=new E;
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cd=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};let Ed=!1,Sd=!1;const Id=(Td=["quick-look","scene-viewer","webxr","none"],t=>{try{const e=zc(t),i=(e.length?e[0].terms:[]).filter(t=>t&&"ident"===t.type).map(t=>t.value).filter(t=>Td.indexOf(t)>-1),n=new Set;for(const t of i)n.add(t);return n}catch(t){}return new Set});var Td;const Md="quick-look",Bd="scene-viewer",kd="webxr",Ld="none",Rd=Symbol("arButtonContainer"),Pd=Symbol("enterARWithWebXR"),Dd=Symbol("openSceneViewer"),Od=Symbol("openIOSARQuickLook"),Fd=Symbol("canActivateAR"),Nd=Symbol("arMode"),Qd=Symbol("arModes"),Hd=Symbol("arAnchor"),Ud=Symbol("preload"),Gd=Symbol("onARButtonContainerClick"),zd=Symbol("onARStatus"),jd=Symbol("onARTap"),Vd=Symbol("selectARMode");
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wd,qd,Yd;const $d=Symbol("evaluate"),Jd=Symbol("lastValue");class Xd{constructor(){this[Wd]=null}static evaluatableFor(t,e=Xc){if(t instanceof Xd)return t;if("number"===t.type)return"%"===t.unit?new tp(t,e):t;switch(t.name.value){case"calc":return new sp(t,e);case"env":return new ip(t)}return Xc}static evaluate(t){return t instanceof Xd?t.evaluate():t}static isConstant(t){return!(t instanceof Xd)||t.isConstant}static applyIntrinsics(t,e){const{basis:i,keywords:n}=e,{auto:r}=n;return i.map((e,i)=>{const s=null==r[i]?e:r[i];let o=t[i]?t[i]:s;if("ident"===o.type){const t=o.value;t in n&&(o=n[t][i])}return null!=o&&"ident"!==o.type||(o=s),"%"===o.unit?Gc(o.number/100*e.number,e.unit):(o=tu(o,e),o.unit!==e.unit?e:o)})}get isConstant(){return!1}evaluate(){return this.isConstant&&null!=this[Jd]||(this[Jd]=this[$d]()),this[Jd]}}Wd=Jd;const Kd=Symbol("percentage"),Zd=Symbol("basis");class tp extends Xd{constructor(t,e){super(),this[Kd]=t,this[Zd]=e}get isConstant(){return!0}[$d](){return Gc(this[Kd].number/100*this[Zd].number,this[Zd].unit)}}const ep=Symbol("identNode");class ip extends Xd{constructor(t){super(),this[qd]=null;const e=t.arguments.length?t.arguments[0].terms[0]:null;null!=e&&"ident"===e.type&&(this[ep]=e)}get isConstant(){return!1}[(qd=ep,$d)](){if(null!=this[ep])switch(this[ep].value){case"window-scroll-y":return{type:"number",number:window.pageYOffset/(Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)-window.innerHeight)||0,unit:null}}return Xc}}const np=/[\*\/]/,rp=Symbol("evalutor");class sp extends Xd{constructor(t,e=Xc){if(super(),this[Yd]=null,1!==t.arguments.length)return;const i=t.arguments[0].terms.slice(),n=[];for(;i.length;){const t=i.shift();if(n.length>0){const i=n[n.length-1];if("operator"===i.type&&np.test(i.value)){const i=n.pop(),r=n.pop();if(null==r)return;n.push(new cp(i,Xd.evaluatableFor(r,e),Xd.evaluatableFor(t,e)));continue}}n.push("operator"===t.type?t:Xd.evaluatableFor(t,e))}for(;n.length>2;){const[t,i,r]=n.splice(0,3);if("operator"!==i.type)return;n.unshift(new cp(i,Xd.evaluatableFor(t,e),Xd.evaluatableFor(r,e)))}1===n.length&&(this[rp]=n[0])}get isConstant(){return null==this[rp]||Xd.isConstant(this[rp])}[(Yd=rp,$d)](){return null!=this[rp]?Xd.evaluate(this[rp]):Xc}}const op=Symbol("operator"),ap=Symbol("left"),lp=Symbol("right");class cp extends Xd{constructor(t,e,i){super(),this[op]=t,this[ap]=e,this[lp]=i}get isConstant(){return Xd.isConstant(this[ap])&&Xd.isConstant(this[lp])}[$d](){const t=tu(Xd.evaluate(this[ap])),e=tu(Xd.evaluate(this[lp])),{number:i,unit:n}=t,{number:r,unit:s}=e;if(null!=s&&null!=n&&s!=n)return Xc;const o=n||s;let a;switch(this[op].value){case"+":a=i+r;break;case"-":a=i-r;break;case"/":a=i/r;break;case"*":a=i*r;break;default:return Xc}return{type:"number",number:a,unit:o}}}const up=Symbol("evaluatables"),hp=Symbol("intrinsics");class dp extends Xd{constructor(t,e){super(),this[hp]=e;const i=t[0],n=null!=i?i.terms:[];this[up]=e.basis.map((t,e)=>{const i=n[e];return null==i?{type:"ident",value:"auto"}:"ident"===i.type?i:Xd.evaluatableFor(i,t)})}get isConstant(){for(const t of this[up])if(!Xd.isConstant(t))return!1;return!0}[$d](){const t=this[up].map(t=>Xd.evaluate(t));return Xd.applyIntrinsics(t,this[hp]).map(t=>t.number)}}
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pp,fp,gp,mp;const vp=Symbol("instances"),Ap=Symbol("activateListener"),yp=Symbol("deactivateListener"),_p=Symbol("notifyInstances"),bp=Symbol("notify"),wp=Symbol("callback");class xp{constructor(t){this[wp]=t}static[_p](){for(const t of xp[vp])t[bp]()}static[(pp=vp,Ap)](){window.addEventListener("scroll",this[_p],{passive:!0})}static[yp](){window.removeEventListener("scroll",this[_p])}observe(){0===xp[vp].size&&xp[Ap](),xp[vp].add(this)}disconnect(){xp[vp].delete(this),0===xp[vp].size&&xp[yp]()}[bp](){this[wp]()}}xp[pp]=new Set;const Cp=Symbol("computeStyleCallback"),Ep=Symbol("astWalker"),Sp=Symbol("dependencies"),Ip=Symbol("onScroll");class Tp{constructor(t){this[fp]={},this[gp]=new Jc(["function"]),this[mp]=()=>{this[Cp]({relatedState:"window-scroll"})},this[Cp]=t}observeEffectsFor(t){const e={},i=this[Sp];this[Ep].walk(t,t=>{const{name:n}=t,r=t.arguments[0].terms[0];if("env"===n.value&&null!=r&&"ident"===r.type)switch(r.value){case"window-scroll-y":if(null==e["window-scroll"]){const t="window-scroll"in i?i["window-scroll"]:new xp(this[Ip]);t.observe(),delete i["window-scroll"],e["window-scroll"]=t}}});for(const n in i)i[n].disconnect();this[Sp]=e}dispose(){for(const t in this[Sp])this[Sp][t].disconnect()}}fp=Sp,gp=Ep,mp=Ip;
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Mp=t=>{const e=t.observeEffects||!1,i=t.intrinsics instanceof Function?t.intrinsics:()=>t.intrinsics;return(n,r)=>{const s=n.updated,o=n.connectedCallback,a=n.disconnectedCallback,l=Symbol(r+"StyleEffector"),c=Symbol(r+"StyleEvaluator"),u=Symbol(r+"UpdateEvaluator"),h=Symbol(r+"EvaluateAndSync");Object.defineProperties(n,{[l]:{value:null,writable:!0},[c]:{value:null,writable:!0},[u]:{value:function(){const t=zc(this[r]);this[c]=new dp(t,i(this)),null==this[l]&&e&&(this[l]=new Tp(()=>this[h]())),null!=this[l]&&this[l].observeEffectsFor(t)}},[h]:{value:function(){if(null==this[c])return;const e=this[c].evaluate();this[t.updateHandler](e)}},updated:{value:function(t){t.has(r)&&(this[u](),this[h]()),s.call(this,t)}},connectedCallback:{value:function(){o.call(this),this.requestUpdate(r,this[r])}},disconnectedCallback:{value:function(){a.call(this),null!=this[l]&&(this[l].dispose(),this[l]=null)}}})}},Bp=Object.freeze({minimumRadius:0,maximumRadius:1/0,minimumPolarAngle:Math.PI/8,maximumPolarAngle:Math.PI-Math.PI/8,minimumAzimuthalAngle:-1/0,maximumAzimuthalAngle:1/0,minimumFieldOfView:10,maximumFieldOfView:45,interactionPolicy:"always-allow",touchAction:"pan-y"}),kp=/^touch(start|end|move)$/,Lp=Math.PI/8,Rp=33,Pp=34,Dp=37,Op=38,Fp=39,Np=40,Qp="user-interaction",Hp="none";
/* @license
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends _{constructor(t,e){super(),this.camera=t,this.element=e,this.sensitivity=1,this._interactionEnabled=!1,this._disableZoom=!1,this.isUserChange=!1,this.isUserPointing=!1,this.spherical=new ol,this.goalSpherical=new ol,this.thetaDamper=new Qc,this.phiDamper=new Qc,this.radiusDamper=new Qc,this.logFov=Math.log(Bp.maximumFieldOfView),this.goalLogFov=this.logFov,this.fovDamper=new Qc,this.pointerIsDown=!1,this.lastPointerPosition={clientX:0,clientY:0},this.touchMode="rotate",this.touchDecided=!1,this.onPointerMove=t=>{if(this.pointerIsDown&&this.canInteract){if(kp.test(t.type)){const{touches:e}=t;switch(this.touchMode){case"zoom":if(this.lastTouches.length>1&&e.length>1){const t=.04*(this.twoTouchDistance(this.lastTouches[0],this.lastTouches[1])-this.twoTouchDistance(e[0],e[1]))/10;this.userAdjustOrbit(0,0,t)}break;case"rotate":const{touchAction:t}=this._options;if(!this.touchDecided&&"none"!==t){this.touchDecided=!0;const{clientX:i,clientY:n}=e[0],r=Math.abs(i-this.lastPointerPosition.clientX),s=Math.abs(n-this.lastPointerPosition.clientY);if("pan-y"===t&&s>r&&document.body.scrollHeight>window.innerHeight||"pan-x"===t&&r>s)return void(this.touchMode="scroll")}this.handleSinglePointerMove(e[0]);break;case"scroll":return}this.lastTouches=e}else this.handleSinglePointerMove(t);t.cancelable&&t.preventDefault()}},this.onPointerDown=t=>{if(this.pointerIsDown=!0,this.isUserPointing=!1,kp.test(t.type)){const{touches:e}=t;switch(this.touchDecided=!1,e.length){default:case 1:this.touchMode="rotate",this.handleSinglePointerDown(e[0]);break;case 2:this.touchMode=this._disableZoom?"scroll":"zoom"}this.lastTouches=e}else this.handleSinglePointerDown(t)},this.onPointerUp=t=>{this.element.style.cursor="grab",this.pointerIsDown=!1,this.isUserPointing&&this.dispatchEvent({type:"pointer-change-end",pointer:Object.assign({},this.lastPointerPosition)})},this.onWheel=t=>{if(!this.canInteract)return;const e=t.deltaY*(1==t.deltaMode?18:1)*.04/30;this.userAdjustOrbit(0,0,e),t.cancelable&&t.preventDefault()},this.onKeyDown=t=>{let e=!1;switch(t.keyCode){case Rp:e=!0,this.userAdjustOrbit(0,0,.04);break;case Pp:e=!0,this.userAdjustOrbit(0,0,-.04);break;case Op:e=!0,this.userAdjustOrbit(0,-Lp,0);break;case Np:e=!0,this.userAdjustOrbit(0,Lp,0);break;case Dp:e=!0,this.userAdjustOrbit(-Lp,0,0);break;case Fp:e=!0,this.userAdjustOrbit(Lp,0,0)}e&&t.cancelable&&t.preventDefault()},this._options=Object.assign({},Bp),this.setOrbit(0,Math.PI/2,1),this.setFieldOfView(100),this.jumpToGoal()}get interactionEnabled(){return this._interactionEnabled}enableInteraction(){if(!1===this._interactionEnabled){const{element:t}=this;t.addEventListener("mousemove",this.onPointerMove),t.addEventListener("mousedown",this.onPointerDown),this._disableZoom||t.addEventListener("wheel",this.onWheel),t.addEventListener("keydown",this.onKeyDown),t.addEventListener("touchstart",this.onPointerDown,{passive:!0}),t.addEventListener("touchmove",this.onPointerMove),self.addEventListener("mouseup",this.onPointerUp),self.addEventListener("touchend",this.onPointerUp),this.element.style.cursor="grab",this._interactionEnabled=!0}}disableInteraction(){if(!0===this._interactionEnabled){const{element:t}=this;t.removeEventListener("mousemove",this.onPointerMove),t.removeEventListener("mousedown",this.onPointerDown),this._disableZoom||t.removeEventListener("wheel",this.onWheel),t.removeEventListener("keydown",this.onKeyDown),t.removeEventListener("touchstart",this.onPointerDown),t.removeEventListener("touchmove",this.onPointerMove),self.removeEventListener("mouseup",this.onPointerUp),self.removeEventListener("touchend",this.onPointerUp),t.style.cursor="",this._interactionEnabled=!1}}get options(){return this._options}set disableZoom(t){this._disableZoom!=t&&(this._disableZoom=t,!0===t?this.element.removeEventListener("wheel",this.onWheel):this.element.addEventListener("wheel",this.onWheel))}getCameraSpherical(t=new ol){return t.copy(this.spherical)}getFieldOfView(){return this.camera.fov}applyOptions(t){Object.assign(this._options,t),this.setOrbit(),this.setFieldOfView(Math.exp(this.goalLogFov))}updateNearFar(t,e){this.camera.near=Math.max(t,e/1e3),this.camera.far=e,this.camera.updateProjectionMatrix()}updateAspect(t){this.camera.aspect=t,this.camera.updateProjectionMatrix()}setOrbit(t=this.goalSpherical.theta,e=this.goalSpherical.phi,i=this.goalSpherical.radius){const{minimumAzimuthalAngle:n,maximumAzimuthalAngle:r,minimumPolarAngle:s,maximumPolarAngle:o,minimumRadius:a,maximumRadius:l}=this._options,{theta:c,phi:u,radius:h}=this.goalSpherical,d=Cu(t,n,r);isFinite(n)||isFinite(r)||(this.spherical.theta=this.wrapAngle(this.spherical.theta-d)+d);const p=Cu(e,s,o),f=Cu(i,a,l);return(d!==c||p!==u||f!==h)&&(this.goalSpherical.theta=d,this.goalSpherical.phi=p,this.goalSpherical.radius=f,this.goalSpherical.makeSafe(),this.isUserChange=!1,!0)}setRadius(t){this.goalSpherical.radius=t,this.setOrbit()}setFieldOfView(t){const{minimumFieldOfView:e,maximumFieldOfView:i}=this._options;t=Cu(t,e,i),this.goalLogFov=Math.log(t)}adjustOrbit(t,e,i){const{theta:n,phi:r,radius:s}=this.goalSpherical,{minimumRadius:o,maximumRadius:a,minimumFieldOfView:l,maximumFieldOfView:c}=this._options,u=this.spherical.theta-n,h=Math.PI-.001,d=n-Cu(t,-h-u,h-u),p=r-e,f=0===i?0:i>0?(a-s)/(Math.log(c)-this.goalLogFov):(s-o)/(this.goalLogFov-Math.log(l)),g=s+i*Math.min(isFinite(f)?f:1/0,a-o);if(this.setOrbit(d,p,g),0!==i){const t=this.goalLogFov+i;this.setFieldOfView(Math.exp(t))}}jumpToGoal(){this.update(0,1e4)}update(t,e){if(this.isStationary())return;const{maximumPolarAngle:i,maximumRadius:n}=this._options,r=this.spherical.theta-this.goalSpherical.theta;Math.abs(r)>Math.PI&&!isFinite(this._options.minimumAzimuthalAngle)&&!isFinite(this._options.maximumAzimuthalAngle)&&(this.spherical.theta-=2*Math.sign(r)*Math.PI),this.spherical.theta=this.thetaDamper.update(this.spherical.theta,this.goalSpherical.theta,e,Math.PI),this.spherical.phi=this.phiDamper.update(this.spherical.phi,this.goalSpherical.phi,e,i),this.spherical.radius=this.radiusDamper.update(this.spherical.radius,this.goalSpherical.radius,e,n),this.logFov=this.fovDamper.update(this.logFov,this.goalLogFov,e,1),this.moveCamera()}isStationary(){return this.goalSpherical.theta===this.spherical.theta&&this.goalSpherical.phi===this.spherical.phi&&this.goalSpherical.radius===this.spherical.radius&&this.goalLogFov===this.logFov}moveCamera(){this.spherical.makeSafe(),this.camera.position.setFromSpherical(this.spherical),this.camera.setRotationFromEuler(new mt(this.spherical.phi-Math.PI/2,this.spherical.theta,0,"YXZ")),this.camera.fov!==Math.exp(this.logFov)&&(this.camera.fov=Math.exp(this.logFov),this.camera.updateProjectionMatrix());const t=this.isUserChange?Qp:Hp;this.dispatchEvent({type:"change",source:t})}get canInteract(){return"allow-when-focused"==this._options.interactionPolicy?this.element.getRootNode().activeElement===this.element:"always-allow"===this._options.interactionPolicy}userAdjustOrbit(t,e,i){this.adjustOrbit(t*this.sensitivity,e*this.sensitivity,i),this.isUserChange=!0,this.dispatchEvent({type:"change",source:Qp})}wrapAngle(t){const e=(t+Math.PI)/(2*Math.PI);return 2*(e-Math.floor(e))*Math.PI-Math.PI}pixelLengthToSphericalAngle(t){return 2*Math.PI*t/this.element.clientHeight}twoTouchDistance(t,e){const{clientX:i,clientY:n}=t,{clientX:r,clientY:s}=e,o=r-i,a=s-n;return Math.sqrt(o*o+a*a)}handleSinglePointerMove(t){const{clientX:e,clientY:i}=t,n=this.pixelLengthToSphericalAngle(e-this.lastPointerPosition.clientX),r=this.pixelLengthToSphericalAngle(i-this.lastPointerPosition.clientY);this.lastPointerPosition.clientX=e,this.lastPointerPosition.clientY=i,!1===this.isUserPointing&&(this.isUserPointing=!0,this.dispatchEvent({type:"pointer-change-start",pointer:Object.assign({},t)})),this.userAdjustOrbit(n,r,0)}handleSinglePointerDown(t){this.lastPointerPosition.clientX=t.clientX,this.lastPointerPosition.clientY=t.clientY,this.element.style.cursor="grabbing"
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}const Gp=t=>t<.5?2*t*t:(4-2*t)*t-1,zp=(t,e,i=Gp)=>n=>t+(e-t)*i(n),jp=(t,e)=>{const i=[],n=[];let r=t;for(let s=0;s<e.length;++s){const t=e[s],{value:o,frames:a}=t,l=t.ease||Gp,c=zp(r,o,l);i.push(c),n.push(a),r=o}return((t,e)=>{const i=e.reduce((t,e)=>t+e,0),n=e.map(t=>t/i);return e=>{let i=0,r=1/0,s=()=>0;for(let o=0;o<n.length&&(r=n[o],s=t[o],!(e<=i+r));++o)i+=r;return s((e-i)/r)}})(i,n)};
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vp=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const Wp=jp(0,[{frames:5,value:-1},{frames:1,value:-1},{frames:8,value:1},{frames:1,value:1},{frames:5,value:0},{frames:18,value:0}]),qp=jp(0,[{frames:1,value:1},{frames:5,value:1},{frames:1,value:0},{frames:6,value:0}]),Yp=1.1*su,$p=["front","right","back","left"],Jp=["upper-","","lower-"],Xp="auto",Kp="when-focused",Zp="wiggle",tf="always-allow",ef="pan-y",nf=t=>({basis:[Gc(t[Mf]*Math.PI/180,"rad")],keywords:{auto:[null]}}),rf={basis:[Kc(Gc(25,"deg"))],keywords:{auto:[null]}},sf=t=>{const e=t[Kh];return{basis:[Kc(Gc(45,"deg"))],keywords:{auto:[Gc(e.framedFieldOfView,"deg")]}}},of=(()=>{const t=zc("0deg 75deg 105%")[0].terms,e=tu(t[0]),i=tu(t[1]);return t=>{const n=t[Kh].idealCameraDistance;return{basis:[e,i,Gc(n,"m")],keywords:{auto:[null,null,Gc(105,"%")]}}}})(),af=t=>{const e=Yp*t[Kh].idealCameraDistance;return{basis:[Gc(-1/0,"rad"),Gc(Math.PI/8,"rad"),Gc(e,"m")],keywords:{auto:[null,null,null]}}},lf=t=>{const e=of(t),i=new dp([],e).evaluate()[2];return{basis:[Gc(1/0,"rad"),Gc(Math.PI-Math.PI/8,"rad"),Gc(i,"m")],keywords:{auto:[null,null,null]}}},cf=t=>{const e=t[Kh].boundingBox.getCenter(new P);return{basis:[Gc(e.x,"m"),Gc(e.y,"m"),Gc(e.z,"m")],keywords:{auto:[null,null,null]}}},uf=Math.PI/2,hf=Math.PI/3,df=uf/2,pf=2*Math.PI,ff=Symbol("controls"),gf=Symbol("promptElement"),mf=Symbol("promptAnimatedContainer"),vf=Symbol("deferInteractionPrompt"),Af=Symbol("updateAria"),yf=Symbol("updateCameraForRadius"),_f=Symbol("onBlur"),bf=Symbol("onFocus"),wf=Symbol("onChange"),xf=Symbol("onPointerChange"),Cf=Symbol("waitingToPromptUser"),Ef=Symbol("userHasInteracted"),Sf=Symbol("promptElementVisibleTime"),If=Symbol("lastPromptOffset"),Tf=Symbol("focusedTime"),Mf=Symbol("zoomAdjustedFieldOfView"),Bf=Symbol("lastSpherical"),kf=Symbol("jumpCamera"),Lf=Symbol("initialized"),Rf=Symbol("maintainThetaPhi"),Pf=Symbol("syncCameraOrbit"),Df=Symbol("syncFieldOfView"),Of=Symbol("syncCameraTarget"),Ff=Symbol("syncMinCameraOrbit"),Nf=Symbol("syncMaxCameraOrbit"),Qf=Symbol("syncMinFieldOfView"),Hf=Symbol("syncMaxFieldOfView");
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uf=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const Gf=Symbol("currentEnvironmentMap"),zf=Symbol("applyEnvironmentMap"),jf=Symbol("updateEnvironment"),Vf=Symbol("cancelEnvironmentUpdate"),Wf=Symbol("onPreload");
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qf,Yf;const $f=Symbol("modelViewerStatusInstance"),Jf=Symbol("updateStatus");qf=$f,Yf=Jf;
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Xf=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const Kf="auto",Zf="manual",tg="auto",eg="eager",ig="interaction",ng=new class extends _{constructor(){super(),this[qf]=null,this.registeredInstanceStatuses=new Map,this.loadingPromises=[],this.statusElement=document.createElement("p"),this.statusUpdateInProgress=!1,this[Yf]=xu(()=>this.updateStatus(),100);const{statusElement:t}=this,{style:e}=t;t.setAttribute("role","status"),t.classList.add("screen-reader-only"),e.top=e.left="0",e.pointerEvents="none"}registerInstance(t){if(this.registeredInstanceStatuses.has(t))return;let e=()=>{};const i=!1===t.loaded&&!!t.src,n=new Promise(n=>{if(!i)return void n();const r=()=>{n(),t.removeEventListener("load",r),t.removeEventListener("error",r)};t.addEventListener("load",r),t.addEventListener("error",r),e=r});this.registeredInstanceStatuses.set(t,{onUnregistered:e}),this.loadingPromises.push(n),null==this.modelViewerStatusInstance&&(this.modelViewerStatusInstance=t)}unregisterInstance(t){if(!this.registeredInstanceStatuses.has(t))return;const e=this.registeredInstanceStatuses,i=e.get(t);e.delete(t),i.onUnregistered(),this.modelViewerStatusInstance===t&&(this.modelViewerStatusInstance=e.size>0?(t=>{if(null!=t.keys)return t.keys().next().value||null;let e=null;try{t.forEach((t,i,n)=>{throw e=i,new Error})}catch(t){}return e})(e):null)}get modelViewerStatusInstance(){return this[$f]}set modelViewerStatusInstance(t){if(this[$f]===t)return;const{statusElement:e}=this;null!=t&&null!=t.shadowRoot?t.shadowRoot.appendChild(e):null!=e.parentNode&&e.parentNode.removeChild(e),this[$f]=t,this[Jf]()}async updateStatus(){if(!this.statusUpdateInProgress&&0!==this.loadingPromises.length){for(this.statusElement.textContent="This page includes one or more 3D models that are loading",this.statusUpdateInProgress=!0,this.dispatchEvent({type:"initial-status-announced"});this.loadingPromises.length;){const{loadingPromises:t}=this;this.loadingPromises=[],await Promise.all(t)}this.statusElement.textContent="All 3D models in the page have loaded",this.statusUpdateInProgress=!1,this.dispatchEvent({type:"finished-loading-announced"})}}},rg=Symbol("defaultProgressBarElement"),sg=Symbol("defaultProgressMaskElement"),og=Symbol("posterContainerElement"),ag=Symbol("defaultPosterElement"),lg=Symbol("posterDismissalSource"),cg=Symbol("hidePoster"),ug=Symbol("modelIsRevealed"),hg=Symbol("updateProgressBar"),dg=Symbol("lastReportedProgress"),pg=Symbol("transitioned"),fg=Symbol("ariaLabelCallToAction"),gg=Symbol("onClick"),mg=Symbol("onKeydown"),vg=Symbol("onProgress");var Ag=0,yg=1,_g=2,bg=3,wg=4,xg=5121,Cg=5123,Eg=5126,Sg=5125,Ig=34962,Tg=34963,Mg=9728,Bg=9729,kg=9984,Lg=9985,Rg=9986,Pg=9987,Dg=33071,Og=33648,Fg=10497,Ng=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],Qg={};Qg[1003]=Mg,Qg[1004]=kg,Qg[1005]=Rg,Qg[1006]=Bg,Qg[1007]=Lg,Qg[1008]=Pg,Qg[1001]=Dg,Qg[1e3]=Fg,Qg[1002]=Og;var Hg={scale:"scale",position:"translation",quaternion:"rotation",morphTargetInfluences:"weights"},Ug=function(){};Ug.prototype={constructor:Ug,parse:function(t,e,i){var n={binary:!1,trs:!1,onlyVisible:!0,truncateDrawRange:!0,embedImages:!0,maxTextureSize:1/0,animations:[],includeCustomExtensions:!1};(i=Object.assign({},n,i)).animations.length>0&&(i.trs=!0);var r,s={asset:{version:"2.0",generator:"THREE.GLTFExporter"}},o=0,a=[],l=[],c=new Map,u=[],h={},d={meshes:new Map,attributes:new Map,attributesNormalized:new Map,materials:new Map,textures:new Map,images:new Map},p=new Map,f=0;function g(t){return p.has(t)||p.set(t,f++),p.get(t)}function m(t,e){return t.length===e.length&&t.every((function(t,i){return t===e[i]}))}function v(t){return 4*Math.ceil(t/4)}function A(t,e){e=e||0;var i=v(t.byteLength);if(i!==t.byteLength){var n=new Uint8Array(i);if(n.set(new Uint8Array(t)),0!==e)for(var r=t.byteLength;r<i;r++)n[r]=e;return n.buffer}return t}function y(t,e){if(0!==Object.keys(t.userData).length)try{var n=JSON.parse(JSON.stringify(t.userData));if(i.includeCustomExtensions&&n.gltfExtensions){for(var r in void 0===e.extensions&&(e.extensions={}),n.gltfExtensions)e.extensions[r]=n.gltfExtensions[r],h[r]=!0;delete n.gltfExtensions}Object.keys(n).length>0&&(e.extras=n)}catch(e){console.warn("THREE.GLTFExporter: userData of '"+t.name+"' won't be serialized because of JSON.stringify error - "+e.message)}}function _(t,e){var i=!1,n={};0===e.offset.x&&0===e.offset.y||(n.offset=e.offset.toArray(),i=!0),0!==e.rotation&&(n.rotation=e.rotation,i=!0),1===e.repeat.x&&1===e.repeat.y||(n.scale=e.repeat.toArray(),i=!0),i&&(t.extensions=t.extensions||{},t.extensions.KHR_texture_transform=n,h.KHR_texture_transform=!0)}function b(t){return s.buffers||(s.buffers=[{byteLength:0}]),a.push(t),0}function w(t,e,n,r){var a;if(t.array.constructor===Float32Array)a=Eg;else if(t.array.constructor===Uint32Array)a=Sg;else if(t.array.constructor===Uint16Array)a=Cg;else{if(t.array.constructor!==Uint8Array)throw new Error("THREE.GLTFExporter: Unsupported bufferAttribute component type.");a=xg}if(void 0===n&&(n=0),void 0===r&&(r=t.count),i.truncateDrawRange&&void 0!==e&&null===e.index){var l=n+r,c=e.drawRange.count===1/0?t.count:e.drawRange.start+e.drawRange.count;n=Math.max(n,e.drawRange.start),(r=Math.min(l,c)-n)<0&&(r=0)}if(0===r)return null;var u,h=function(t,e,i){for(var n={min:new Array(t.itemSize).fill(Number.POSITIVE_INFINITY),max:new Array(t.itemSize).fill(Number.NEGATIVE_INFINITY)},r=e;r<e+i;r++)for(var s=0;s<t.itemSize;s++){var o;t.itemSize>4?o=t.array[r*t.itemSize+s]:0===s?o=t.getX(r):1===s?o=t.getY(r):2===s?o=t.getZ(r):3===s&&(o=t.getW(r)),n.min[s]=Math.min(n.min[s],o),n.max[s]=Math.max(n.max[s],o)}return n}(t,n,r);void 0!==e&&(u=t===e.index?Tg:Ig);var d=function(t,e,i,n,r){var a;s.bufferViews||(s.bufferViews=[]),a=e===xg?1:e===Cg?2:4;for(var l=v(n*t.itemSize*a),c=new DataView(new ArrayBuffer(l)),u=0,h=i;h<i+n;h++)for(var d=0;d<t.itemSize;d++){var p;t.itemSize>4?p=t.array[h*t.itemSize+d]:0===d?p=t.getX(h):1===d?p=t.getY(h):2===d?p=t.getZ(h):3===d&&(p=t.getW(h)),e===Eg?c.setFloat32(u,p,!0):e===Sg?c.setUint32(u,p,!0):e===Cg?c.setUint16(u,p,!0):e===xg&&c.setUint8(u,p),u+=a}var f={buffer:b(c.buffer),byteOffset:o,byteLength:l};return void 0!==r&&(f.target=r),r===Ig&&(f.byteStride=t.itemSize*a),o+=l,s.bufferViews.push(f),{id:s.bufferViews.length-1,byteLength:0}}(t,a,n,r,u),p={bufferView:d.id,byteOffset:d.byteOffset,componentType:a,count:r,max:h.max,min:h.min,type:{1:"SCALAR",2:"VEC2",3:"VEC3",4:"VEC4",16:"MAT4"}[t.itemSize]};return!0===t.normalized&&(p.normalized=!0),s.accessors||(s.accessors=[]),s.accessors.push(p),s.accessors.length-1}function C(t,e,n){d.images.has(t)||d.images.set(t,{});var a=d.images.get(t),c=1023===e?"image/png":"image/jpeg",u=c+":flipY/"+n.toString();if(void 0!==a[u])return a[u];s.images||(s.images=[]);var h={mimeType:c};if(i.embedImages){var p=r=r||document.createElement("canvas");p.width=Math.min(t.width,i.maxTextureSize),p.height=Math.min(t.height,i.maxTextureSize);var f=p.getContext("2d");if(!0===n&&(f.translate(0,p.height),f.scale(1,-1)),"undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap)f.drawImage(t,0,0,p.width,p.height);else{1023!==e&&1022!==e&&console.error("GLTFExporter: Only RGB and RGBA formats are supported."),(t.width>i.maxTextureSize||t.height>i.maxTextureSize)&&console.warn("GLTFExporter: Image size is bigger than maxTextureSize",t);let n=t.data;if(1022===e){n=new Uint8ClampedArray(t.height*t.width*4);for(var g=0,m=0;g<n.length;g+=4,m+=3)n[g+0]=t.data[m+0],n[g+1]=t.data[m+1],n[g+2]=t.data[m+2],n[g+3]=255}f.putImageData(new ImageData(n,t.width,t.height),0,0)}!0===i.binary?l.push(new Promise((function(t){p.toBlob((function(e){(function(t){return s.bufferViews||(s.bufferViews=[]),new Promise((function(e){var i=new window.FileReader;i.readAsArrayBuffer(t),i.onloadend=function(){var t=A(i.result),n={buffer:b(t),byteOffset:o,byteLength:t.byteLength};o+=t.byteLength,s.bufferViews.push(n),e(s.bufferViews.length-1)}}))})(e).then((function(e){h.bufferView=e,t()}))}),c)}))):h.uri=p.toDataURL(c)}else h.uri=t.src;s.images.push(h);var v=s.images.length-1;return a[u]=v,v}function E(t){s.samplers||(s.samplers=[]);var e={magFilter:Qg[t.magFilter],minFilter:Qg[t.minFilter],wrapS:Qg[t.wrapS],wrapT:Qg[t.wrapT]};return s.samplers.push(e),s.samplers.length-1}function S(t){if(d.textures.has(t))return d.textures.get(t);s.textures||(s.textures=[]);var e={sampler:E(t),source:C(t.image,t.format,t.flipY)};t.name&&(e.name=t.name),s.textures.push(e);var i=s.textures.length-1;return d.textures.set(t,i),i}function I(t){if(d.materials.has(t))return d.materials.get(t);if(t.isShaderMaterial)return console.warn("GLTFExporter: THREE.ShaderMaterial not supported."),null;s.materials||(s.materials=[]);var e={pbrMetallicRoughness:{}};t.isMeshBasicMaterial?(e.extensions={KHR_materials_unlit:{}},h.KHR_materials_unlit=!0):t.isGLTFSpecularGlossinessMaterial?(e.extensions={KHR_materials_pbrSpecularGlossiness:{}},h.KHR_materials_pbrSpecularGlossiness=!0):t.isMeshStandardMaterial||console.warn("GLTFExporter: Use MeshStandardMaterial or MeshBasicMaterial for best results.");var i=t.color.toArray().concat([t.opacity]);if(m(i,[1,1,1,1])||(e.pbrMetallicRoughness.baseColorFactor=i),t.isMeshStandardMaterial?(e.pbrMetallicRoughness.metallicFactor=t.metalness,e.pbrMetallicRoughness.roughnessFactor=t.roughness):t.isMeshBasicMaterial?(e.pbrMetallicRoughness.metallicFactor=0,e.pbrMetallicRoughness.roughnessFactor=.9):(e.pbrMetallicRoughness.metallicFactor=.5,e.pbrMetallicRoughness.roughnessFactor=.5),t.isGLTFSpecularGlossinessMaterial){e.pbrMetallicRoughness.baseColorFactor&&(e.extensions.KHR_materials_pbrSpecularGlossiness.diffuseFactor=e.pbrMetallicRoughness.baseColorFactor);var n=[1,1,1];t.specular.toArray(n,0),e.extensions.KHR_materials_pbrSpecularGlossiness.specularFactor=n,e.extensions.KHR_materials_pbrSpecularGlossiness.glossinessFactor=t.glossiness}if(t.metalnessMap||t.roughnessMap)if(t.metalnessMap===t.roughnessMap){var r={index:S(t.metalnessMap)};_(r,t.metalnessMap),e.pbrMetallicRoughness.metallicRoughnessTexture=r}else console.warn("THREE.GLTFExporter: Ignoring metalnessMap and roughnessMap because they are not the same Texture.");if(t.map){var o={index:S(t.map)};_(o,t.map),t.isGLTFSpecularGlossinessMaterial&&(e.extensions.KHR_materials_pbrSpecularGlossiness.diffuseTexture=o),e.pbrMetallicRoughness.baseColorTexture=o}if(t.isGLTFSpecularGlossinessMaterial&&t.specularMap){var a={index:S(t.specularMap)};_(a,t.specularMap),e.extensions.KHR_materials_pbrSpecularGlossiness.specularGlossinessTexture=a}if(t.emissive){var l=t.emissive.clone().multiplyScalar(t.emissiveIntensity).toArray();if(m(l,[0,0,0])||(e.emissiveFactor=l),t.emissiveMap){var c={index:S(t.emissiveMap)};_(c,t.emissiveMap),e.emissiveTexture=c}}if(t.normalMap){var u={index:S(t.normalMap)};t.normalScale&&-1!==t.normalScale.x&&(t.normalScale.x!==t.normalScale.y&&console.warn("THREE.GLTFExporter: Normal scale components are different, ignoring Y and exporting X."),u.scale=t.normalScale.x),_(u,t.normalMap),e.normalTexture=u}if(t.aoMap){var p={index:S(t.aoMap),texCoord:1};1!==t.aoMapIntensity&&(p.strength=t.aoMapIntensity),_(p,t.aoMap),e.occlusionTexture=p}t.transparent?e.alphaMode="BLEND":t.alphaTest>0&&(e.alphaMode="MASK",e.alphaCutoff=t.alphaTest),2===t.side&&(e.doubleSided=!0),""!==t.name&&(e.name=t.name),y(t,e),s.materials.push(e);var f=s.materials.length-1;return d.materials.set(t,f),f}function T(t){var e=[t.geometry.uuid];if(Array.isArray(t.material))for(var i=0,n=t.material.length;i<n;i++)e.push(t.material[i].uuid);else e.push(t.material.uuid);var r=e.join(":");if(d.meshes.has(r))return d.meshes.get(r);var o,a=t.geometry;if(o=t.isLineSegments?yg:t.isLineLoop?_g:t.isLine?bg:t.isPoints?Ag:t.material.wireframe?yg:wg,!0!==a.isBufferGeometry)throw new Error("THREE.GLTFExporter: Geometry is not of type THREE.BufferGeometry.");var l={},c={},u=[],h=[],p={uv:"TEXCOORD_0",uv2:"TEXCOORD_1",color:"COLOR_0",skinWeight:"WEIGHTS_0",skinIndex:"JOINTS_0"},f=a.getAttribute("normal");void 0===f||function(t){if(d.attributesNormalized.has(t))return!1;for(var e=new P,i=0,n=t.count;i<n;i++)if(Math.abs(e.fromBufferAttribute(t,i).length()-1)>5e-4)return!1;return!0}(f)||(console.warn("THREE.GLTFExporter: Creating normalized normal attribute from the non-normalized one."),a.setAttribute("normal",function(t){if(d.attributesNormalized.has(t))return d.attributesNormalized.get(t);for(var e=t.clone(),i=new P,n=0,r=e.count;n<r;n++)i.fromBufferAttribute(e,n),0===i.x&&0===i.y&&0===i.z?i.setX(1):i.normalize(),e.setXYZ(n,i.x,i.y,i.z);return d.attributesNormalized.set(t,e),e}(f)));var m=null;for(var v in a.attributes)if("morph"!==v.substr(0,5)){var A=a.attributes[v];if(v=p[v]||v.toUpperCase(),/^(POSITION|NORMAL|TANGENT|TEXCOORD_\d+|COLOR_\d+|JOINTS_\d+|WEIGHTS_\d+)$/.test(v)||(v="_"+v),d.attributes.has(g(A)))c[v]=d.attributes.get(g(A));else{m=null;var _=A.array;"JOINTS_0"!==v||_ instanceof Uint16Array||_ instanceof Uint8Array||(console.warn('GLTFExporter: Attribute "skinIndex" converted to type UNSIGNED_SHORT.'),m=new le(new Uint16Array(_),A.itemSize,A.normalized));var b=w(m||A,a);null!==b&&(c[v]=b,d.attributes.set(g(A),b))}}if(void 0!==f&&a.setAttribute("normal",f),0===Object.keys(c).length)return null;if(void 0!==t.morphTargetInfluences&&t.morphTargetInfluences.length>0){var x=[],C=[],E={};if(void 0!==t.morphTargetDictionary)for(var S in t.morphTargetDictionary)E[t.morphTargetDictionary[S]]=S;for(i=0;i<t.morphTargetInfluences.length;++i){var T={},M=!1;for(var v in a.morphAttributes)if("position"===v||"normal"===v){A=a.morphAttributes[v][i];var B=v.toUpperCase(),k=a.attributes[v];if(d.attributes.has(g(A)))T[B]=d.attributes.get(g(A));else{var L=A.clone();if(!a.morphTargetsRelative)for(var R=0,D=A.count;R<D;R++)L.setXYZ(R,A.getX(R)-k.getX(R),A.getY(R)-k.getY(R),A.getZ(R)-k.getZ(R));T[B]=w(L,a),d.attributes.set(g(k),T[B])}}else M||(console.warn("GLTFExporter: Only POSITION and NORMAL morph are supported."),M=!0);h.push(T),x.push(t.morphTargetInfluences[i]),void 0!==t.morphTargetDictionary&&C.push(E[i])}l.weights=x,C.length>0&&(l.extras={},l.extras.targetNames=C)}var O=Array.isArray(t.material);if(O&&0===a.groups.length)return null;for(var F=O?t.material:[t.material],N=O?a.groups:[{materialIndex:0,start:void 0,count:void 0}],Q=(i=0,N.length);i<Q;i++){var H={mode:o,attributes:c};if(y(a,H),h.length>0&&(H.targets=h),null!==a.index){var U=g(a.index);void 0===N[i].start&&void 0===N[i].count||(U+=":"+N[i].start+":"+N[i].count),d.attributes.has(U)?H.indices=d.attributes.get(U):(H.indices=w(a.index,a,N[i].start,N[i].count),d.attributes.set(U,H.indices)),null===H.indices&&delete H.indices}var G=I(F[N[i].materialIndex]);null!==G&&(H.material=G),u.push(H)}l.primitives=u,s.meshes||(s.meshes=[]),s.meshes.push(l);var z=s.meshes.length-1;return d.meshes.set(r,z),z}function M(t,e){s.animations||(s.animations=[]);for(var i=(t=Ug.Utils.mergeMorphTargetTracks(t.clone(),e)).tracks,n=[],r=[],o=0;o<i.length;++o){var a=i[o],l=Xa.parseTrackName(a.name),u=Xa.findNode(e,l.nodeName),h=Hg[l.propertyName];if("bones"===l.objectName&&(u=!0===u.isSkinnedMesh?u.skeleton.getBoneByName(l.objectIndex):void 0),!u||!h)return console.warn('THREE.GLTFExporter: Could not export animation track "%s".',a.name),null;var d,p=a.values.length/a.times.length;h===Hg.morphTargetInfluences&&(p/=u.morphTargetInfluences.length),!0===a.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline?(d="CUBICSPLINE",p/=3):d=2300===a.getInterpolation()?"STEP":"LINEAR",r.push({input:w(new le(a.times,1)),output:w(new le(a.values,p)),interpolation:d}),n.push({sampler:r.length-1,target:{node:c.get(u),path:h}})}return s.animations.push({name:t.name||"clip_"+s.animations.length,samplers:r,channels:n}),s.animations.length-1}function B(t){var e=s.nodes[c.get(t)],i=t.skeleton;if(void 0===i)return null;var n=t.skeleton.bones[0];if(void 0===n)return null;for(var r=[],o=new Float32Array(16*i.bones.length),a=new lt,l=0;l<i.bones.length;++l)r.push(c.get(i.bones[l])),a.copy(i.boneInverses[l]),a.multiply(t.bindMatrix).toArray(o,16*l);return void 0===s.skins&&(s.skins=[]),s.skins.push({inverseBindMatrices:w(new le(o,16)),joints:r,skeleton:c.get(n)}),e.skin=s.skins.length-1}function k(t){var e={};t.name&&(e.name=t.name),e.color=t.color.toArray(),e.intensity=t.intensity,t.isDirectionalLight?e.type="directional":t.isPointLight?(e.type="point",t.distance>0&&(e.range=t.distance)):t.isSpotLight&&(e.type="spot",t.distance>0&&(e.range=t.distance),e.spot={},e.spot.innerConeAngle=(t.penumbra-1)*t.angle*-1,e.spot.outerConeAngle=t.angle),void 0!==t.decay&&2!==t.decay&&console.warn("THREE.GLTFExporter: Light decay may be lost. glTF is physically-based, and expects light.decay=2."),!t.target||t.target.parent===t&&0===t.target.position.x&&0===t.target.position.y&&-1===t.target.position.z||console.warn("THREE.GLTFExporter: Light direction may be lost. For best results, make light.target a child of the light with position 0,0,-1.");var i=s.extensions.KHR_lights_punctual.lights;return i.push(e),i.length-1}function L(t){s.nodes||(s.nodes=[]);var e={};if(i.trs){var n=t.quaternion.toArray(),r=t.position.toArray(),o=t.scale.toArray();m(n,[0,0,0,1])||(e.rotation=n),m(r,[0,0,0])||(e.translation=r),m(o,[1,1,1])||(e.scale=o)}else t.matrixAutoUpdate&&t.updateMatrix(),!1===m(t.matrix.elements,Ng)&&(e.matrix=t.matrix.elements);if(""!==t.name&&(e.name=String(t.name)),y(t,e),t.isMesh||t.isLine||t.isPoints){var a=T(t);null!==a&&(e.mesh=a)}else if(t.isCamera)e.camera=function(t){s.cameras||(s.cameras=[]);var e=t.isOrthographicCamera,i={type:e?"orthographic":"perspective"};return e?i.orthographic={xmag:2*t.right,ymag:2*t.top,zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near}:i.perspective={aspectRatio:t.aspect,yfov:x.degToRad(t.fov),zfar:t.far<=0?.001:t.far,znear:t.near<0?0:t.near},""!==t.name&&(i.name=t.type),s.cameras.push(i),s.cameras.length-1}(t);else if(t.isDirectionalLight||t.isPointLight||t.isSpotLight)h.KHR_lights_punctual||(s.extensions=s.extensions||{},s.extensions.KHR_lights_punctual={lights:[]},h.KHR_lights_punctual=!0),e.extensions=e.extensions||{},e.extensions.KHR_lights_punctual={light:k(t)};else if(t.isLight)return console.warn("THREE.GLTFExporter: Only directional, point, and spot lights are supported.",t),null;if(t.isSkinnedMesh&&u.push(t),t.children.length>0){for(var l=[],d=0,p=t.children.length;d<p;d++){var f=t.children[d];if(f.visible||!1===i.onlyVisible){var g=L(f);null!==g&&l.push(g)}}l.length>0&&(e.children=l)}s.nodes.push(e);var v=s.nodes.length-1;return c.set(t,v),v}function R(t){s.scenes||(s.scenes=[],s.scene=0);var e={};""!==t.name&&(e.name=t.name),s.scenes.push(e);for(var n=[],r=0,o=t.children.length;r<o;r++){var a=t.children[r];if(a.visible||!1===i.onlyVisible){var l=L(a);null!==l&&n.push(l)}}n.length>0&&(e.nodes=n),y(t,e)}!function(t){t=t instanceof Array?t:[t];for(var e=[],n=0;n<t.length;n++)t[n]instanceof Ar?R(t[n]):e.push(t[n]);for(e.length>0&&function(t){var e=new Ar;e.name="AuxScene";for(var i=0;i<t.length;i++)e.children.push(t[i]);R(e)}(e),n=0;n<u.length;++n)B(u[n]);for(n=0;n<i.animations.length;++n)M(i.animations[n],t[0])}(t),Promise.all(l).then((function(){var t,n=new Blob(a,{type:"application/octet-stream"}),r=Object.keys(h);(r.length>0&&(s.extensionsUsed=r),s.buffers&&s.buffers.length>0&&(s.buffers[0].byteLength=n.size),!0===i.binary)?((t=new window.FileReader).readAsArrayBuffer(n),t.onloadend=function(){var i=A(t.result),n=new DataView(new ArrayBuffer(8));n.setUint32(0,i.byteLength,!0),n.setUint32(4,5130562,!0);var r=A(function(t){if(void 0!==window.TextEncoder)return(new TextEncoder).encode(t).buffer;for(var e=new Uint8Array(new ArrayBuffer(t.length)),i=0,n=t.length;i<n;i++){var r=t.charCodeAt(i);e[i]=r>255?32:r}return e.buffer}(JSON.stringify(s)),32),o=new DataView(new ArrayBuffer(8));o.setUint32(0,r.byteLength,!0),o.setUint32(4,1313821514,!0);var a=new ArrayBuffer(12),l=new DataView(a);l.setUint32(0,1179937895,!0),l.setUint32(4,2,!0);var c=12+o.byteLength+r.byteLength+n.byteLength+i.byteLength;l.setUint32(8,c,!0);var u=new Blob([a,o,r,n,i],{type:"application/octet-stream"}),h=new window.FileReader;h.readAsArrayBuffer(u),h.onloadend=function(){e(h.result)}}):s.buffers&&s.buffers.length>0?((t=new window.FileReader).readAsDataURL(n),t.onloadend=function(){var i=t.result;s.buffers[0].uri=i,e(s)}):e(s)}))}},Ug.Utils={insertKeyframe:function(t,e){var i,n=.001,r=t.getValueSize(),s=new t.TimeBufferType(t.times.length+1),o=new t.ValueBufferType(t.values.length+r),a=t.createInterpolant(new t.ValueBufferType(r));if(0===t.times.length){s[0]=e;for(var l=0;l<r;l++)o[l]=0;i=0}else if(e<t.times[0]){if(Math.abs(t.times[0]-e)<n)return 0;s[0]=e,s.set(t.times,1),o.set(a.evaluate(e),0),o.set(t.values,r),i=0}else if(e>t.times[t.times.length-1]){if(Math.abs(t.times[t.times.length-1]-e)<n)return t.times.length-1;s[s.length-1]=e,s.set(t.times,0),o.set(t.values,0),o.set(a.evaluate(e),t.values.length),i=s.length-1}else for(l=0;l<t.times.length;l++){if(Math.abs(t.times[l]-e)<n)return l;if(t.times[l]<e&&t.times[l+1]>e){s.set(t.times.slice(0,l+1),0),s[l+1]=e,s.set(t.times.slice(l+1),l+2),o.set(t.values.slice(0,(l+1)*r),0),o.set(a.evaluate(e),(l+1)*r),o.set(t.values.slice((l+1)*r),(l+2)*r),i=l+1;break}}return t.times=s,t.values=o,i},mergeMorphTargetTracks:function(t,e){for(var i=[],n={},r=t.tracks,s=0;s<r.length;++s){var o=r[s],a=Xa.parseTrackName(o.name),l=Xa.findNode(e,a.nodeName);if("morphTargetInfluences"===a.propertyName&&void 0!==a.propertyIndex){if(o.createInterpolant!==o.InterpolantFactoryMethodDiscrete&&o.createInterpolant!==o.InterpolantFactoryMethodLinear){if(o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline)throw new Error("THREE.GLTFExporter: Cannot merge tracks with glTF CUBICSPLINE interpolation.");console.warn("THREE.GLTFExporter: Morph target interpolation mode not yet supported. Using LINEAR instead."),(o=o.clone()).setInterpolation(2301)}var c,u=l.morphTargetInfluences.length,h=l.morphTargetDictionary[a.propertyIndex];if(void 0===h)throw new Error("THREE.GLTFExporter: Morph target name not found: "+a.propertyIndex);if(void 0!==n[l.uuid]){var d=o.createInterpolant(new o.ValueBufferType(1));for(c=n[l.uuid],g=0;g<c.times.length;g++)c.values[g*u+h]=d.evaluate(c.times[g]);for(g=0;g<o.times.length;g++){var p=this.insertKeyframe(c,o.times[g]);c.values[p*u+h]=o.values[g]}}else{for(var f=new((c=o.clone()).ValueBufferType)(u*c.times.length),g=0;g<c.times.length;g++)f[g*u+h]=c.values[g];c.name=(a.nodeName||"")+".morphTargetInfluences",c.values=f,n[l.uuid]=c,i.push(c)}}else i.push(o)}return t.tracks=i,t}};
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Gg=Symbol("correlatedObjects"),zg=Symbol("sourceObject"),jg=Symbol("onUpdate");class Vg{constructor(t,e,i=null){this[jg]=t,this[zg]=e,this[Gg]=i
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}var Wg,qg;const Yg=new Oo,$g=Symbol("threeTextures"),Jg=Symbol("uri"),Xg=Symbol("bufferViewImages");class Kg extends Vg{constructor(t,e,i){if(super(t,e,i),this[Wg]=void 0,this[qg]=new WeakMap,null!=e.uri&&(this[Jg]=e.uri),null!=e.bufferView)for(const n of i)this[Xg].set(n,n.image)}get[$g](){return this[Gg]}get name(){return this[zg].name||""}get uri(){return this[Jg]}get type(){return null!=this.uri?"external":"embedded"}async setURI(t){this[Jg]=t;const e=await new Promise((e,i)=>{Yg.load(t,e,void 0,i)});for(const i of this[$g])null==e&&null!=this[zg].bufferView?i.image=this[Xg].get(i):i.image=e,i.needsUpdate=!0;this[jg]()}}Wg=Jg,qg=Xg;
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
const Zg=(()=>{const t=[9728,9729,9984,9985,9986,9987];return e=>t.indexOf(e)>-1})(),tm=(()=>{const t=[9728,9729];return e=>t.indexOf(e)>-1})(),em=(()=>{const t=[33071,33648,10497];return e=>t.indexOf(e)>-1})(),im=Symbol("threeTextures"),nm=Symbol("setProperty");class rm extends Vg{get[im](){return this[Gg]}constructor(t,e,i){null==e.minFilter&&(e.minFilter=9987),null==e.magFilter&&(e.magFilter=9729),null==e.wrapS&&(e.wrapS=10497),null==e.wrapT&&(e.wrapT=10497),super(t,e,i)}get name(){return this[zg].name||""}get minFilter(){return this[zg].minFilter}get magFilter(){return this[zg].magFilter}get wrapS(){return this[zg].wrapS}get wrapT(){return this[zg].wrapT}setMinFilter(t){this[nm]("minFilter",t)}setMagFilter(t){this[nm]("magFilter",t)}setWrapS(t){this[nm]("wrapS",t)}setWrapT(t){this[nm]("wrapT",t)}[nm](t,e){const i=this[zg];if(((t,e)=>{switch(t){case"minFilter":return Zg(e);case"magFilter":return tm(e);case"wrapS":case"wrapT":return em(e);default:throw new Error(`Cannot configure property "${t}" on Sampler`)}})(t,e)){i[t]=e;for(const i of this[im])i[t]=e,i.needsUpdate=!0}this[jg]()}}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm=Symbol("source"),om=Symbol("sampler");class am extends Vg{constructor(t,e,i,n){super(t,i,n);const{sampler:r,source:s}=i,o=null!=e.samplers&&null!=r?e.samplers[r]:{};if(this[om]=new rm(t,o,n),null!=e.images&&null!=s){const i=e.images[s];null!=i&&(this[sm]=new Kg(t,i,n))}}get name(){return this[zg].name||""}get sampler(){return this[om]}get source(){return this[sm]}}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lm=Symbol("texture");class cm extends Vg{constructor(t,e,i,n){super(t,i,n);const{index:r}=i,s=e.textures[r];null!=s&&(this[lm]=new am(t,e,s,n))}get texture(){return this[lm]}}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um,hm;const dm=Symbol("threeMaterials"),pm=Symbol("baseColorTexture"),fm=Symbol("metallicRoughnessTexture");class gm extends Vg{constructor(t,e,i,n){super(t,i,n),this[um]=null,this[hm]=null,null==i.baseColorFactor&&(i.baseColorFactor=[1,1,1,1]),null==i.roughnessFactor&&(i.roughnessFactor=0),null==i.metallicFactor&&(i.metallicFactor=0);const{baseColorTexture:r,metallicRoughnessTexture:s}=i,o=new Set,a=new Set;for(const l of n)null!=r&&null!=l.map&&o.add(l.map),null!=s&&null!=l.metalnessMap&&a.add(l.metalnessMap);o.size>0&&(this[pm]=new cm(t,e,r,o)),a.size>0&&(this[fm]=new cm(t,e,s,a))}get[(um=pm,hm=fm,dm)](){return this[Gg]}get baseColorFactor(){return this[zg].baseColorFactor}get metallicFactor(){return this[zg].metallicFactor}get roughnessFactor(){return this[zg].roughnessFactor}get baseColorTexture(){return this[pm]}get metallicRoughnessTexture(){return this[fm]}setBaseColorFactor(t){for(const e of this[dm])e.color.fromArray(t),e.opacity=t[3];this[zg].baseColorFactor=t,this[jg]()}setMetallicFactor(t){for(const e of this[dm])e.metalness=t;this[zg].metallicFactor=t,this[jg]()}setRoughnessFactor(t){for(const e of this[dm])e.roughness=t;this[zg].roughnessFactor=t,this[jg]()}}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mm,vm,Am;const ym=Symbol("pbrMetallicRoughness"),_m=Symbol("normalTexture"),bm=Symbol("occlusionTexture"),wm=Symbol("emissiveTexture");class xm extends Vg{constructor(t,e,i,n){if(super(t,i,n),this[mm]=null,this[vm]=null,this[Am]=null,null==n)return;null==i.pbrMetallicRoughness&&(i.pbrMetallicRoughness={}),this[ym]=new gm(t,e,i.pbrMetallicRoughness,n);const{normalTexture:r,occlusionTexture:s,emissiveTexture:o}=i,a=new Set,l=new Set,c=new Set;for(const u of n){const{normalMap:t,aoMap:e,emissiveMap:i}=u;null!=r&&null!=t&&a.add(t),null!=s&&null!=e&&l.add(e),null!=o&&null!=i&&c.add(i)}a.size>0&&(this[_m]=new cm(t,e,r,a)),l.size>0&&(this[bm]=new cm(t,e,s,l)),c.size>0&&(this[wm]=new cm(t,e,o,c))}get name(){return this[zg].name||""}get pbrMetallicRoughness(){return this[ym]}get normalTexture(){return this[_m]}get occlusionTexture(){return this[bm]}get emissiveTexture(){return this[wm]}get emissiveFactor(){return this[zg].emissiveFactor}setEmissiveFactor(t){for(const e of this[Gg])e.emissive.fromArray(t);this[zg].emissiveFactor=t,this[jg]()}}
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cm;mm=_m,vm=bm,Am=wm;const Em=Symbol("materials");class Sm{constructor(t,e=(()=>{})){this[Cm]=[];const{gltf:i,gltfElementMap:n}=t;i.materials.forEach(t=>{this[Em].push(new xm(e,i,t,n.get(t)))})}get materials(){return this[Em]}}Cm=Em;
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Im=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const Tm=Symbol("currentGLTF"),Mm=Symbol("model"),Bm=Symbol("variants");
/* @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var km=function(t,e,i,n){for(var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n,a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o};const Lm=Math.PI/32,Rm={basis:[Kc(Gc(Lm,"rad"))],keywords:{auto:[null]}},Pm=Symbol("autoRotateStartTime"),Dm=Symbol("radiansPerSecond"),Om=Symbol("syncRotationRate"),Fm=Symbol("onCameraChange"),Nm=(t=>{var e,i,n,r;class s extends t{constructor(...t){super(...t),this[e]=new Uc,this[i]=new Map,this[n]=t=>{t.forEach(t=>{t instanceof MutationRecord&&"childList"!==t.type||(t.addedNodes.forEach(t=>{this[yd](t)}),t.removedNodes.forEach(t=>{this[_d](t)}),this[Zh]())})},this[r]=new MutationObserver(this[vd]);const{domElement:s}=this[gd],{style:o}=s;o.display="none",o.pointerEvents="none",o.position="absolute",o.top="0",this.shadowRoot.querySelector(".default").appendChild(s)}connectedCallback(){super.connectedCallback();for(let e=0;e<this.children.length;++e)this[yd](this.children[e]);const{ShadyDOM:t}=self;null==t?this[Ad].observe(this,{childList:!0}):this[Ad]=t.observeChildren(this,this[vd])}disconnectedCallback(){super.disconnectedCallback();const{ShadyDOM:t}=self;null==t?this[Ad].disconnect():t.unobserveChildren(this[Ad])}updateHotspot(t){const e=this[md].get(t.name);null!=e&&(e.updatePosition(t.position),e.updateNormal(t.normal),this[Zh]())}positionAndNormalFromPoint(t,e){const i=this[Kh],{width:n,height:r,target:s}=i;bd.set(t/n,e/r).multiplyScalar(2).subScalar(1),bd.y*=-1;const o=i.positionAndNormalFromPoint(bd);if(null==o)return null;wd.copy(s.matrixWorld).invert();const a=ud(o.position.applyMatrix4(wd));return xd.getNormalMatrix(wd),{position:a,normal:ud(o.normal.applyNormalMatrix(xd))}}[(e=gd,i=md,n=vd,r=Ad,td)](t,e){super[td](t,e);const i=this[Kh],n=i.getCamera();i.isDirty&&(i.updateHotspots(n.position),this[gd].domElement.style.display="",this[gd].render(i,n))}[id](t){super[id](t),this[gd].setSize(t.width,t.height)}[yd](t){if(!(t instanceof HTMLElement&&0===t.slot.indexOf("hotspot")))return;let e=this[md].get(t.slot);null!=e?e.increment():(e=new eu({name:t.slot,position:t.dataset.position,normal:t.dataset.normal}),this[md].set(t.slot,e),this[Kh].addHotspot(e),this[gd].domElement.appendChild(e.element)),this[Kh].isDirty=!0}[_d](t){if(!(t instanceof HTMLElement))return;const e=this[md].get(t.slot);e&&(e.decrement()&&(this[Kh].removeHotspot(e),this[md].delete(t.slot)),this[Kh].isDirty=!0)}}return s})((t=>{var e,i,n;class r extends t{constructor(){super(...arguments),this[e]=void 0,this[i]=null,this[n]=[],this.variantName=void 0,this.orientation="0 0 0",this.scale="1 1 1"}get model(){return this[Mm]}get availableVariants(){return this[Bm]}updated(t){if(super.updated(t),t.has("variantName")){const t=this[Bm],e=this[Tm],{variantName:i}=this,n=t.findIndex(t=>t===i);if(null==e||n<0)return;const r=()=>{this[Zh]()},s=e.correlatedSceneGraph.loadVariant(n,r),{gltf:o,gltfElementMap:a}=e.correlatedSceneGraph;for(const l of s){const t=o.materials[l];this[Mm].materials[l]=new xm(r,o,t,a.get(t))}}if(t.has("orientation")||t.has("scale")){const{modelContainer:t}=this[Kh],e=zc(this.orientation)[0].terms,i=tu(e[0]).number,n=tu(e[1]).number,r=tu(e[2]).number;t.quaternion.setFromEuler(new mt(n,r,i,"YXZ"));const s=zc(this.scale)[0].terms;t.scale.set(s[0].number,s[1].number,s[2].number),this[Kh].updateBoundingBox(),this[Kh].updateShadow(),this[nd].arRenderer.onUpdateScene(),this[Zh]()}}[(e=Mm,i=Tm,n=Bm,ed)](){super[ed](),this[Bm]=[];const{currentGLTF:t}=this[Kh];if(null!=t){const{correlatedSceneGraph:e}=t;null!=e&&t!==this[Tm]&&(this[Mm]=new Sm(e,()=>{this[Zh]()}));const{gltfExtensions:i}=t.userData;if(null!=i){const t=i.KHR_materials_variants;null!=t&&(this[Bm]=t.variants.map(t=>t.name),this.requestUpdate("variantName"))}}this[Tm]=t,this.dispatchEvent(new CustomEvent("scene-graph-ready"))}async exportScene(t){const e=this[Kh];return new Promise(async i=>{const n={binary:!0,onlyVisible:!0,maxTextureSize:1/0,forcePowerOfTwoTextures:!1,includeCustomExtensions:!1,embedImages:!0};Object.assign(n,t),n.animations=e.animations,n.truncateDrawRange=!0;const r=e.shadow;let s=!1;null!=r&&(s=r.visible,r.visible=!1),(new Ug).parse(e.modelContainer,t=>i(new Blob([n.binary?t:JSON.stringify(t)],{type:n.binary?"application/octet-stream":"application/json"})),n),null!=r&&(r.visible=s)})}}return Im([a({type:String,attribute:"variant-name"})],r.prototype,"variantName",void 0),Im([a({type:String,attribute:"orientation"})],r.prototype,"orientation",void 0),Im([a({type:String,attribute:"scale"})],r.prototype,"scale",void 0),r})((t=>{var e,i,n;class r extends t{constructor(){super(...arguments),this.autoRotate=!1,this.autoRotateDelay=3e3,this.rotationPerSecond="auto",this[e]=performance.now(),this[i]=0,this[n]=t=>{this.autoRotate&&"user-interaction"===t.detail.source&&(this[Pm]=performance.now())}}connectedCallback(){super.connectedCallback(),this.addEventListener("camera-change",this[Fm]),this[Pm]=performance.now()}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("camera-change",this[Fm]),this[Pm]=performance.now()}updated(t){super.updated(t),t.has("autoRotate")&&(this[Pm]=performance.now())}[(e=Pm,i=Dm,Om)](t){this[Dm]=t[0]}[td](t,e){if(super[td](t,e),!this.autoRotate||!this[cd]()||this[nd].isPresenting)return;const i=Math.min(e,t-this[Pm]-this.autoRotateDelay);i>0&&(this[Kh].yaw=this.turntableRotation+this[Dm]*i*.001)}get turntableRotation(){return this[Kh].yaw}resetTurntableRotation(t=0){this[Kh].yaw=t}}return n=Fm,km([a({type:Boolean,attribute:"auto-rotate"})],r.prototype,"autoRotate",void 0),km([a({type:Number,attribute:"auto-rotate-delay"})],r.prototype,"autoRotateDelay",void 0),km([Mp({intrinsics:Rm,updateHandler:Om}),a({type:String,attribute:"rotation-per-second"})],r.prototype,"rotationPerSecond",void 0),r})((t=>{var e,i,n;class r extends t{constructor(){super(...arguments),this.environmentImage=null,this.skyboxImage=null,this.shadowIntensity=0,this.shadowSoftness=1,this.exposure=1,this[e]=null,this[i]=null,this[n]=t=>{t.element===this&&this[jf]()}}connectedCallback(){super.connectedCallback(),this[nd].loader.addEventListener("preload",this[Wf])}disconnectedCallback(){super.disconnectedCallback(),this[nd].loader.removeEventListener("preload",this[Wf])}updated(t){super.updated(t),t.has("shadowIntensity")&&(this[Kh].setShadowIntensity(.1*this.shadowIntensity),this[Zh]()),t.has("shadowSoftness")&&(this[Kh].setShadowSoftness(this.shadowSoftness),this[Zh]()),t.has("exposure")&&(this[Kh].exposure=this.exposure,this[Zh]()),(t.has("environmentImage")||t.has("skyboxImage"))&&this[ad]()&&this[jf]()}[(e=Gf,i=Vf,n=Wf,ed)](){super[ed](),null!=this[Gf]&&this[zf](this[Gf])}async[jf](){const{skyboxImage:t,environmentImage:e}=this;null!=this[Vf]&&(this[Vf](),this[Vf]=null);const{textureUtils:i}=this[nd];if(null!=i)try{const{environmentMap:n,skybox:r}=await new Promise(async(n,r)=>{const s=i.generateEnvironmentMapAndSkybox(_u(t),e,{progressTracker:this[rd]});this[Vf]=()=>r(s),n(await s)}),s=n.texture;this[Kh].background=null!=r?r.userData.url===s.userData.url?s:r:null,this[zf](n.texture),this[Kh].dispatchEvent({type:"envmap-update"})}catch(t){if(t instanceof Error)throw this[zf](null),t}}[zf](t){this[Gf]=t,this[Kh].environment=this[Gf],this.dispatchEvent(new CustomEvent("environment-change")),this[Zh]()}}return Uf([a({type:String,attribute:"environment-image"})],r.prototype,"environmentImage",void 0),Uf([a({type:String,attribute:"skybox-image"})],r.prototype,"skyboxImage",void 0),Uf([a({type:Number,attribute:"shadow-intensity"})],r.prototype,"shadowIntensity",void 0),Uf([a({type:Number,attribute:"shadow-softness"})],r.prototype,"shadowSoftness",void 0),Uf([a({type:Number})],r.prototype,"exposure",void 0),r})((t=>{var e,i,n,r,s,o,l,c,u,h,d,p,f,g,m,v,A;class y extends t{constructor(){super(...arguments),this.cameraControls=!1,this.cameraOrbit="0deg 75deg 105%",this.cameraTarget="auto auto auto",this.fieldOfView="auto",this.minCameraOrbit="auto",this.maxCameraOrbit="auto",this.minFieldOfView="auto",this.maxFieldOfView="auto",this.interactionPromptThreshold=3e3,this.interactionPromptStyle=Zp,this.interactionPrompt=Xp,this.interactionPolicy=tf,this.orbitSensitivity=1,this.touchAction=ef,this.disableZoom=!1,this.bounds="legacy",this[e]=this.shadowRoot.querySelector(".interaction-prompt"),this[i]=this.shadowRoot.querySelector(".interaction-prompt > .animated-container"),this[n]=1/0,this[r]=0,this[s]=1/0,this[o]=!1,this[l]=!1,this[c]=new Up(this[Kh].camera,this[Jh]),this[u]=0,this[h]=new ol,this[d]=!1,this[p]=!1,this[f]=!1,this[g]=()=>{const t=this[Jh];isFinite(this[Tf])||(this[Tf]=performance.now());const e=this[Vh];t.getAttribute("aria-label")!==e&&t.setAttribute("aria-label",e),this.interactionPrompt!==Kp||this[Ef]||(this[Cf]=!0)},this[m]=()=>{this.interactionPrompt===Kp&&(this[Cf]=!1,this[gf].classList.remove("visible"),this[Sf]=1/0,this[Tf]=1/0)},this[v]=({source:t})=>{this[Af](),this[Zh](),t===Qp&&(this[Ef]=!0,this[vf]()),this.dispatchEvent(new CustomEvent("camera-change",{detail:{source:t}}))},this[A]=t=>{"pointer-change-start"===t.type?this[$h].classList.add("pointer-tumbling"):this[$h].classList.remove("pointer-tumbling")}}getCameraOrbit(){const{theta:t,phi:e,radius:i}=this[Bf];return{theta:t,phi:e,radius:i,toString(){return`${this.theta}rad ${this.phi}rad ${this.radius}m`}}}getCameraTarget(){return ud(this[nd].isPresenting?this[nd].arRenderer.target:this[Kh].getTarget())}getFieldOfView(){return this[ff].getFieldOfView()}getMinimumFieldOfView(){return this[ff].options.minimumFieldOfView}getMaximumFieldOfView(){return this[ff].options.maximumFieldOfView}jumpCameraToGoal(){this[kf]=!0,this.requestUpdate(kf,!1)}resetInteractionPrompt(){this[If]=0,this[Sf]=1/0,this[Ef]=!1,this[Cf]=this.interactionPrompt===Xp&&this.cameraControls}connectedCallback(){super.connectedCallback(),this[ff].addEventListener("change",this[wf]),this[ff].addEventListener("pointer-change-start",this[xf]),this[ff].addEventListener("pointer-change-end",this[xf])}disconnectedCallback(){super.disconnectedCallback(),this[ff].removeEventListener("change",this[wf]),this[ff].removeEventListener("pointer-change-start",this[xf]),this[ff].removeEventListener("pointer-change-end",this[xf])}updated(t){super.updated(t);const e=this[ff],i=this[Jh];if(t.has("cameraControls")&&(this.cameraControls?(e.enableInteraction(),this.interactionPrompt===Xp&&(this[Cf]=!0),i.addEventListener("focus",this[bf]),i.addEventListener("blur",this[_f])):(i.removeEventListener("focus",this[bf]),i.removeEventListener("blur",this[_f]),e.disableInteraction(),this[vf]())),t.has("disableZoom")&&(e.disableZoom=this.disableZoom),t.has("bounds")&&(this[Kh].tightBounds="tight"===this.bounds),(t.has("interactionPrompt")||t.has("cameraControls")||t.has("src"))&&(this.interactionPrompt===Xp&&this.cameraControls&&!this[Ef]?this[Cf]=!0:this[vf]()),t.has("interactionPromptStyle")&&this[gf].classList.toggle("wiggle",this.interactionPromptStyle===Zp),t.has("interactionPolicy")){const t=this.interactionPolicy;e.applyOptions({interactionPolicy:t})}if(t.has("touchAction")){const t=this.touchAction;e.applyOptions({touchAction:t})}t.has("orbitSensitivity")&&(e.sensitivity=this.orbitSensitivity),!0===this[kf]&&Promise.resolve().then(()=>{e.jumpToGoal(),this[Kh].jumpToGoal(),this[kf]=!1})}async updateFraming(){const t=this[Kh],e=t.framedFieldOfView;await this.requestUpdate("cameraTarget"),t.updateFraming("tight"===this.bounds?t.getTarget():void 0),t.frameModel();const i=t.framedFieldOfView,n=this[ff].getFieldOfView()/e;this[Mf]=i*n,this[Rf]=!0,this.requestUpdate("maxFieldOfView"),this.requestUpdate("fieldOfView"),this.requestUpdate("minCameraOrbit"),this.requestUpdate("maxCameraOrbit"),await this.requestUpdate("cameraOrbit")}[(e=gf,i=mf,n=Tf,r=If,s=Sf,o=Ef,l=Cf,c=ff,u=Mf,h=Bf,d=kf,p=Lf,f=Rf,Df)](t){this[ff].setFieldOfView(180*t[0]/Math.PI)}[Pf](t){if(this[Rf]){const{theta:e,phi:i}=this.getCameraOrbit();t[0]=e,t[1]=i,this[Rf]=!1}this[ff].setOrbit(t[0],t[1],t[2])}[Ff](t){this[ff].applyOptions({minimumAzimuthalAngle:t[0],minimumPolarAngle:t[1],minimumRadius:t[2]}),this.jumpCameraToGoal()}[Nf](t){this[ff].applyOptions({maximumAzimuthalAngle:t[0],maximumPolarAngle:t[1],maximumRadius:t[2]}),this[yf](t[2]),this.jumpCameraToGoal()}[Qf](t){this[ff].applyOptions({minimumFieldOfView:180*t[0]/Math.PI}),this.jumpCameraToGoal()}[Hf](t){this[ff].applyOptions({maximumFieldOfView:180*t[0]/Math.PI}),this.jumpCameraToGoal()}[Of](t){const[e,i,n]=t;this[Kh].setTarget(e,i,n),this[nd].arRenderer.updateTarget()}[td](t,e){if(super[td](t,e),this[nd].isPresenting||!this[cd]())return;const i=performance.now();if(this[Cf]){const t=this.interactionPrompt===Xp?this[Wh]:this[Tf];this.loaded&&i>t+this.interactionPromptThreshold&&(this[Jh].setAttribute("aria-label","Use mouse, touch or arrow keys to control the camera!"),this[Cf]=!1,this[Sf]=i,this[gf].classList.add("visible"))}if(isFinite(this[Sf])&&this.interactionPromptStyle===Zp){const t=this[Kh],e=(i-this[Sf])/5e3%1,n=Wp(e),r=qp(e);if(this[mf].style.opacity=""+r,n!==this[If]){const e=n*t.width*.05,i=(n-this[If])*Math.PI/16;this[mf].style.transform=`translateX(${e}px)`,this[ff].adjustOrbit(i,0,0),this[If]=n}}this[ff].update(t,e),this[Kh].updateTarget(e)}[vf](){this[Cf]=!1,this[gf].classList.remove("visible"),this[Sf]=1/0}[yf](t){const{idealCameraDistance:e}=this[Kh],i=2*Math.max(e,t);this[ff].updateNearFar(0,i)}[Af](){const{theta:t,phi:e}=this[Bf],{theta:i,phi:n}=this[ff].getCameraSpherical(this[Bf]),r=this.getRootNode();if(null!=r&&r.activeElement===this){const r=(4+Math.floor((t%pf+df)/uf))%4,s=(4+Math.floor((i%pf+df)/uf))%4,o=Math.floor(e/hf),a=Math.floor(n/hf);if(s!==r||a!==o){const t=`View from stage ${Jp[a]}${$p[s]}`;this[Jh].setAttribute("aria-label",t)}}}[id](t){const e=this[ff],i=this[Kh].framedFieldOfView;super[id](t);const n=this[Kh].framedFieldOfView,r=e.getFieldOfView()/i;this[Mf]=n*r,e.updateAspect(this[Kh].aspect),this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.jumpCameraToGoal()}[ed](){super[ed]();const{framedFieldOfView:t}=this[Kh];this[Mf]=t,this[Lf]?this[Rf]=!0:this[Lf]=!0,this.requestUpdate("maxFieldOfView",this.maxFieldOfView),this.requestUpdate("fieldOfView",this.fieldOfView),this.requestUpdate("minCameraOrbit",this.minCameraOrbit),this.requestUpdate("maxCameraOrbit",this.maxCameraOrbit),this.requestUpdate("cameraOrbit",this.cameraOrbit),this.requestUpdate("cameraTarget",this.cameraTarget),this.jumpCameraToGoal()}}return g=bf,m=_f,v=wf,A=xf,Vp([a({type:Boolean,attribute:"camera-controls"})],y.prototype,"cameraControls",void 0),Vp([Mp({intrinsics:of,observeEffects:!0,updateHandler:Pf}),a({type:String,attribute:"camera-orbit",hasChanged:()=>!0})],y.prototype,"cameraOrbit",void 0),Vp([Mp({intrinsics:cf,observeEffects:!0,updateHandler:Of}),a({type:String,attribute:"camera-target",hasChanged:()=>!0})],y.prototype,"cameraTarget",void 0),Vp([Mp({intrinsics:nf,observeEffects:!0,updateHandler:Df}),a({type:String,attribute:"field-of-view",hasChanged:()=>!0})],y.prototype,"fieldOfView",void 0),Vp([Mp({intrinsics:af,updateHandler:Ff}),a({type:String,attribute:"min-camera-orbit",hasChanged:()=>!0})],y.prototype,"minCameraOrbit",void 0),Vp([Mp({intrinsics:lf,updateHandler:Nf}),a({type:String,attribute:"max-camera-orbit",hasChanged:()=>!0})],y.prototype,"maxCameraOrbit",void 0),Vp([Mp({intrinsics:rf,updateHandler:Qf}),a({type:String,attribute:"min-field-of-view",hasChanged:()=>!0})],y.prototype,"minFieldOfView",void 0),Vp([Mp({intrinsics:sf,updateHandler:Hf}),a({type:String,attribute:"max-field-of-view",hasChanged:()=>!0})],y.prototype,"maxFieldOfView",void 0),Vp([a({type:Number,attribute:"interaction-prompt-threshold"})],y.prototype,"interactionPromptThreshold",void 0),Vp([a({type:String,attribute:"interaction-prompt-style"})],y.prototype,"interactionPromptStyle",void 0),Vp([a({type:String,attribute:"interaction-prompt"})],y.prototype,"interactionPrompt",void 0),Vp([a({type:String,attribute:"interaction-policy"})],y.prototype,"interactionPolicy",void 0),Vp([a({type:Number,attribute:"orbit-sensitivity"})],y.prototype,"orbitSensitivity",void 0),Vp([a({type:String,attribute:"touch-action"})],y.prototype,"touchAction",void 0),Vp([a({type:Boolean,attribute:"disable-zoom"})],y.prototype,"disableZoom",void 0),Vp([a({type:String,attribute:"bounds"})],y.prototype,"bounds",void 0),y})((t=>{var e,i,n,r,s,o,l,c,u;class h extends t{constructor(){super(...arguments),this.ar=!1,this.arScale="auto",this.arPlacement="floor",this.arModes="webxr scene-viewer quick-look",this.iosSrc=null,this[e]=!1,this[i]=this.shadowRoot.querySelector(".ar-button"),this[n]=document.createElement("a"),this[r]=new Set,this[s]=Ld,this[o]=!1,this[l]=t=>{t.preventDefault(),this.activateAR()},this[c]=({status:t})=>{t!==ku&&this[nd].arRenderer.presentedScene!==this[Kh]||(this.setAttribute("ar-status",t),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:t}})))},this[u]=t=>{"_apple_ar_quicklook_button_tapped"==t.data&&this.dispatchEvent(new CustomEvent("quick-look-button-tapped"))}}get canActivateAR(){return this[Nd]!==Ld}connectedCallback(){super.connectedCallback(),this[nd].arRenderer.addEventListener("status",this[zd]),this.setAttribute("ar-status",ku),this[Hd].addEventListener("message",this[jd])}disconnectedCallback(){super.disconnectedCallback(),this[nd].arRenderer.removeEventListener("status",this[zd]),this[Hd].removeEventListener("message",this[jd])}async update(t){super.update(t),t.has("arScale")&&(this[Kh].canScale="fixed"!==this.arScale),t.has("arPlacement")&&(this[Kh].setShadowIntensity(this[Kh].shadowIntensity),this[Zh]()),(t.has("ar")||t.has("arModes")||t.has("iosSrc"))&&(t.has("arModes")&&(this[Qd]=Id(this.arModes)),this[Vd]())}async activateAR(){switch(this[Nd]){case Md:this[Od]();break;case kd:await this[Pd]();break;case Bd:this[Dd]();break;default:console.warn("No AR Mode can be activated. This is probably due to missing configuration or device capabilities")}}async[(e=Fd,i=Rd,n=Hd,r=Qd,s=Nd,o=Ud,l=Gd,c=zd,u=jd,Vd)](){if(this[Nd]=Ld,this.ar){const t=[];this[Qd].forEach(e=>{t.push(e)});for(const e of t){if("webxr"===e&&d&&!Ed&&await this[nd].arRenderer.supportsPresentation()){this[Nd]=kd;break}if("scene-viewer"===e&&A&&!Sd){this[Nd]=Bd;break}if("quick-look"===e&&this.iosSrc&&g){this[Nd]=Md;break}}}if(this.canActivateAR)this[Rd].classList.add("enabled"),this[Rd].addEventListener("click",this[Gd]);else if(this[Rd].classList.contains("enabled")){this[Rd].removeEventListener("click",this[Gd]),this[Rd].classList.remove("enabled");const t=Pu;this.setAttribute("ar-status",t),this.dispatchEvent(new CustomEvent("ar-status",{detail:{status:t}}))}}async[Pd](){console.log("Attempting to present in AR..."),this[Uh]||(this[Ud]=!0,this[qh](),await((t,e,i=null)=>new Promise(n=>{t.addEventListener(e,(function r(s){i&&!i(s)||(n(s),t.removeEventListener(e,r))}))}))
/* @license
 * Copyright 2020 Google LLC. All Rights Reserved.
 * Licensed under the Apache License, Version 2.0 (the 'License');
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an 'AS IS' BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this,"load"),this[Ud]=!1);try{this[Rd].removeEventListener("click",this[Gd]);const{arRenderer:t}=this[nd];t.placeOnWall="wall"===this.arPlacement,await t.present(this[Kh])}catch(t){console.warn("Error while trying to present to AR"),console.error(t),await this[nd].arRenderer.stopPresenting(),Ed=!0,await this[Vd](),this.activateAR()}finally{this[Vd]()}}[ad](){return super[ad]()||this[Ud]}[Dd](){const t=this.src.replace("?","&"),e=self.location.toString(),i=new URL(e),n=new URL(t,e);i.hash="#model-viewer-no-ar-fallback";let r=`?file=${n.toString()}&mode=ar_only`;t.includes("&disable_occlusion=")||(r+="&disable_occlusion=true"),"fixed"===this.arScale&&(r+="&resizable=false"),"wall"===this.arPlacement&&(r+="&enable_vertical_placement=true");const s=`intent://arvr.google.com/scene-viewer/1.0${r}#Intent;scheme=https;package=com.google.ar.core;action=android.intent.action.VIEW;S.browser_fallback_url=${encodeURIComponent(i.toString())};end;`;self.addEventListener("hashchange",()=>{"#model-viewer-no-ar-fallback"===self.location.hash&&(Sd=!0,self.history.back(),this[Vd]())},{once:!0}),this[Hd].setAttribute("href",s),this[Hd].click()}[Od](){const t=new URL(this.iosSrc,self.location.toString());"fixed"===this.arScale&&(t.hash&&(t.hash+="&"),t.hash+="allowsContentScaling=0");const e=this[Hd];e.setAttribute("rel","ar");const i=document.createElement("img");e.appendChild(i),e.setAttribute("href",t.toString()),e.click(),e.removeChild(i)}}return Cd([a({type:Boolean,attribute:"ar"})],h.prototype,"ar",void 0),Cd([a({type:String,attribute:"ar-scale"})],h.prototype,"arScale",void 0),Cd([a({type:String,attribute:"ar-placement"})],h.prototype,"arPlacement",void 0),Cd([a({type:String,attribute:"ar-modes"})],h.prototype,"arModes",void 0),Cd([a({type:String,attribute:"ios-src"})],h.prototype,"iosSrc",void 0),h})((t=>{var e,i,n,r,s,o,l,c,u,h,d,p,f;class g extends t{constructor(...t){super(...t),this.poster=null,this.reveal=Kf,this.loading=tg,this[e]=!1,this[i]=!1,this[n]=0,this[r]=null,this[s]=this.shadowRoot.querySelector(".slot.poster"),this[o]=this.shadowRoot.querySelector("#default-poster"),this[l]=this.shadowRoot.querySelector("#default-progress-bar > .bar"),this[c]=this.shadowRoot.querySelector("#default-progress-bar > .mask"),this[u]=this[ag].getAttribute("aria-label"),this[h]=((t,e)=>{let i=null;const n=(...n)=>{null==i&&(t(...n),i=self.setTimeout(()=>i=null,e))};return n.flush=()=>{null!=i&&(self.clearTimeout(i),i=null)},n})(t=>{const e=this[rg].parentNode;requestAnimationFrame(()=>{this[sg].style.opacity=""+.2*(1-t),this[rg].style.transform=`scaleX(${t})`,0===t&&(e.removeChild(this[rg]),e.appendChild(this[rg])),1===t?this[rg].classList.add("hide"):this[rg].classList.remove("hide")})},100),this[d]=()=>{this.reveal!==Zf&&this.dismissPoster()},this[p]=t=>{if(this.reveal!==Zf)switch(t.keyCode){case 32:case 13:this.dismissPoster()}},this[f]=t=>{const e=t.detail.totalProgress;this[dg]=Math.max(e,this[dg]),1===e&&(this[hg].flush(),!this[ld]()||null==this[lg]&&this.reveal!==Kf||this[cg]()),this[hg](e),this.dispatchEvent(new CustomEvent("progress",{detail:{totalProgress:e}}))};const a=self.ModelViewerElement||{},g=a.dracoDecoderLocation||"https://www.gstatic.com/draco/versioned/decoders/1.3.6/";Oc.setDRACODecoderLocation(g);const m=a.ktx2TranscoderLocation||"https://www.gstatic.com/basis-universal/versioned/2020-12-21-ef70ddd/";Oc.setKTX2TranscoderLocation(m)}static set dracoDecoderLocation(t){Oc.setDRACODecoderLocation(t)}static get dracoDecoderLocation(){return Oc.getDRACODecoderLocation()}static set ktx2TranscoderLocation(t){Oc.setKTX2TranscoderLocation(t)}static get ktx2TranscoderLocation(){return Oc.getKTX2TranscoderLocation()}static mapURLs(t){fh.singleton.loader[Rc].manager.setURLModifier(t)}dismissPoster(){this[ld]()?this[cg]():(this[lg]=ig,this[qh]())}showPoster(){const t=this[og],e=this[ag];e.removeAttribute("tabindex"),e.removeAttribute("aria-hidden"),t.classList.add("show");const i=this.modelIsVisible;this[ug]=!1,this[jh](i),this[pg]=!1}getDimensions(){return ud(this[Kh].size)}connectedCallback(){super.connectedCallback(),this[og].addEventListener("click",this[gg]),this[og].addEventListener("keydown",this[mg]),this[rd].addEventListener("progress",this[vg]),ng.registerInstance(this)}disconnectedCallback(){super.disconnectedCallback(),this[og].removeEventListener("click",this[gg]),this[og].removeEventListener("keydown",this[mg]),this[rd].removeEventListener("progress",this[vg]),ng.unregisterInstance(this)}async updated(t){super.updated(t),t.has("poster")&&null!=this.poster&&(this[ag].style.backgroundImage=`url(${this.poster})`),t.has("alt")&&this[ag].setAttribute("aria-label",`${this[Vh]}. ${this[fg]}`),(t.has("reveal")||t.has("loaded"))&&(this[ld]()||this[qh]())}[(e=ug,i=pg,n=dg,r=lg,s=og,o=ag,l=rg,c=sg,u=fg,h=hg,d=gg,p=mg,f=vg,ad)](){return!!this.src&&(null!=this[lg]||this.loading===eg||this.reveal===Kf&&this[zh])}[ld](){const{src:t}=this;return!!t&&super[ld]()&&1===this[dg]}[cg](){this[lg]=null;const t=this[og],e=this[ag];if(t.classList.contains("show")){t.classList.remove("show");const i=this.modelIsVisible;this[ug]=!0,this[jh](i),t.addEventListener("transitionend",()=>{requestAnimationFrame(()=>{this[pg]=!0;const t=this.getRootNode();t&&t.activeElement===this&&this[Jh].focus(),e.setAttribute("aria-hidden","true"),e.tabIndex=-1,this.dispatchEvent(new CustomEvent("poster-dismissed"))})},{once:!0})}}[od](){return super[od]()&&this[ug]}[cd](){return super[cd]()&&this[pg]}async[qh](){this[dg]=0,null!=this[Kh].currentGLTF&&null!=this.src&&this[ad]()||this.showPoster(),await super[qh]()}}return Xf([a({type:String})],g.prototype,"poster",void 0),Xf([a({type:String})],g.prototype,"reveal",void 0),Xf([a({type:String})],g.prototype,"loading",void 0),g})((t=>{var e;class i extends t{constructor(){super(...arguments),this.autoplay=!1,this.animationName=void 0,this.animationCrossfadeDuration=300,this[e]=!0}get availableAnimations(){return this.loaded?this[Kh].animationNames:[]}get duration(){return this[Kh].duration}get paused(){return this[fd]}get currentTime(){return this[Kh].animationTime}set currentTime(t){this[Kh].animationTime=t,this[nd].threeRenderer.shadowMap.needsUpdate=!0,this[Zh]()}pause(){this[fd]||(this[fd]=!0,this[nd].threeRenderer.shadowMap.autoUpdate=!1,this.dispatchEvent(new CustomEvent("pause")))}play(){this[fd]&&this.availableAnimations.length>0&&(this[fd]=!1,this[nd].threeRenderer.shadowMap.autoUpdate=!0,this[Kh].hasActiveAnimation||this[pd](),this.dispatchEvent(new CustomEvent("play")))}[(e=fd,ed)](){super[ed](),this[fd]=!0,this.autoplay&&(this[pd](),this.play())}[td](t,e){super[td](t,e),!this[fd]&&this[cd]()&&(this[Kh].updateAnimation(e/1e3),this[Zh]())}updated(t){super.updated(t),t.has("autoplay")&&this.autoplay&&this.play(),t.has("animationName")&&this[pd]()}async[qh](){return this[Kh].stopAnimation(),super[qh]()}[pd](){this[Kh].playAnimation(this.animationName,this.animationCrossfadeDuration/1e3),this[fd]&&(this[Kh].updateAnimation(0),this[Zh]())}}return dd([a({type:Boolean})],i.prototype,"autoplay",void 0),dd([a({type:String,attribute:"animation-name"})],i.prototype,"animationName",void 0),dd([a({type:Number,attribute:"animation-crossfade-duration"})],i.prototype,"animationCrossfadeDuration",void 0),i})((t=>{var e;const i=Symbol("endPolyfillCoordination");return e=i,class extends t{constructor(){super(...arguments),this[e]=null}connectedCallback(){super.connectedCallback&&super.connectedCallback(),null==this[i]&&(this[i]=(t=>{if(null==t.shadowRoot||t.hasAttribute("data-js-focus-visible"))return()=>{};if(!self.applyFocusVisiblePolyfill){const e=()=>{self.applyFocusVisiblePolyfill(t.shadowRoot)};return self.addEventListener("focus-visible-polyfill-ready",e,{once:!0}),()=>{self.removeEventListener("focus-visible-polyfill-ready",e)}}return self.applyFocusVisiblePolyfill(t.shadowRoot),()=>{}})(this))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),null!=this[i]&&(this[i](),this[i]=null)}}})(hd)))))))));customElements.define("model-viewer",Nm)}).call(this,i("1c35").Buffer)},"40d5":function(t,e,i){var n=i("d039");t.exports=!n((function(){var t=function(){}.bind();return"function"!=typeof t||t.hasOwnProperty("prototype")}))},"424a":function(t,e,i){"use strict";i("d7dc")},"42a2":function(t,e,i){var n=i("b5a7"),r=i("79bc"),s=i("1cec"),o=i("c869"),a=i("39ff"),l=i("3729"),c=i("dc57"),u="[object Map]",h="[object Object]",d="[object Promise]",p="[object Set]",f="[object WeakMap]",g="[object DataView]",m=c(n),v=c(r),A=c(s),y=c(o),_=c(a),b=l;(n&&b(new n(new ArrayBuffer(1)))!=g||r&&b(new r)!=u||s&&b(s.resolve())!=d||o&&b(new o)!=p||a&&b(new a)!=f)&&(b=function(t){var e=l(t),i=e==h?t.constructor:void 0,n=i?c(i):"";if(n)switch(n){case m:return g;case v:return u;case A:return d;case y:return p;case _:return f}return e}),t.exports=b},4362:function(t,e,i){e.nextTick=function(t){var e=Array.prototype.slice.call(arguments);e.shift(),setTimeout((function(){t.apply(null,e)}),0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,n="/";e.cwd=function(){return n},e.chdir=function(e){t||(t=i("df7c")),n=t.resolve(e,n)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"43f2":function(t,e,i){},"44ad":function(t,e,i){var n=i("e330"),r=i("d039"),s=i("c6b6"),o=Object,a=n("".split);t.exports=r((function(){return!o("z").propertyIsEnumerable(0)}))?function(t){return"String"==s(t)?a(t,""):o(t)}:o},"455a":function(t,e,i){"use strict";i("ee06")},"455e":function(t,e,i){var n=i("be09"),r=t.exports={WebVTT:i("09be"),VTTCue:i("1c4a"),VTTRegion:i("6dea")};n.vttjs=r,n.WebVTT=r.WebVTT;var s=r.VTTCue,o=r.VTTRegion,a=n.VTTCue,l=n.VTTRegion;r.shim=function(){n.VTTCue=s,n.VTTRegion=o},r.restore=function(){n.VTTCue=a,n.VTTRegion=l},n.VTTCue||r.shim()},4625:function(t,e,i){},"478b":function(t,e,i){"use strict";i("6aa3")},"485a":function(t,e,i){var n=i("c65b"),r=i("1626"),s=i("861d"),o=TypeError;t.exports=function(t,e){var i,a;if("string"===e&&r(i=t.toString)&&!s(a=n(i,t)))return a;if(r(i=t.valueOf)&&!s(a=n(i,t)))return a;if("string"!==e&&r(i=t.toString)&&!s(a=n(i,t)))return a;throw o("Can't convert object to primitive value")}},"48e1":function(t,e,i){},4961:function(t,e,i){"use strict";i("8bda")},"49cc":function(t,e,i){},"4a7a":function(t,e,i){!function(e,i){t.exports=i()}("undefined"!=typeof self&&self,(function(){return(()=>{var t={646:t=>{t.exports=function(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}},713:t=>{t.exports=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},860:t=>{t.exports=function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}},206:t=>{t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},319:(t,e,i)=>{var n=i(646),r=i(860),s=i(206);t.exports=function(t){return n(t)||r(t)||s()}},8:t=>{function e(i){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=e=function(t){return typeof t}:t.exports=e=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(i)}t.exports=e}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var s=e[n]={exports:{}};return t[n](s,s.exports,i),s.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var n={};return(()=>{"use strict";i.r(n),i.d(n,{VueSelect:()=>y,default:()=>b,mixins:()=>_});var t=i(319),e=i.n(t),r=i(8),s=i.n(r),o=i(713),a=i.n(o);const l={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer:function(){this.autoscroll&&this.maybeAdjustScroll()},open:function(t){var e=this;this.autoscroll&&t&&this.$nextTick((function(){return e.maybeAdjustScroll()}))}},methods:{maybeAdjustScroll:function(){var t,e=(null===(t=this.$refs.dropdownMenu)||void 0===t?void 0:t.children[this.typeAheadPointer])||!1;if(e){var i=this.getDropdownViewport(),n=e.getBoundingClientRect(),r=n.top,s=n.bottom,o=n.height;if(r<i.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(s>i.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(i.height-o)}},getDropdownViewport:function(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},c={data:function(){return{typeAheadPointer:-1}},watch:{filteredOptions:function(){for(var t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open:function(t){t&&this.typeAheadToLastSelected()},selectedValue:function(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp:function(){for(var t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown:function(){for(var t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect:function(){var t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected:function(){this.typeAheadPointer=0!==this.selectedValue.length?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},u={props:{loading:{type:Boolean,default:!1}},data:function(){return{mutableLoading:!1}},watch:{search:function(){this.$emit("search",this.search,this.toggleLoading)},loading:function(t){this.mutableLoading=t}},methods:{toggleLoading:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.mutableLoading=null==t?!this.mutableLoading:t}}};function h(t,e,i,n,r,s,o,a){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=i,c._compiled=!0),n&&(c.functional=!0),s&&(c._scopeId="data-v-"+s),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},c._ssrRegister=l):r&&(l=a?function(){r.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(c.functional){c._injectStyles=l;var u=c.render;c.render=function(t,e){return l.call(e),u(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,l):[l]}return{exports:t,options:c}}const d={Deselect:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"}},[e("path",{attrs:{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"}})])}),[],!1,null,null,null).exports,OpenIndicator:h({},(function(){var t=this.$createElement,e=this._self._c||t;return e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"}},[e("path",{attrs:{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"}})])}),[],!1,null,null,null).exports},p={inserted:function(t,e,i){var n=i.context;if(n.appendToBody){var r=n.$refs.toggle.getBoundingClientRect(),s=r.height,o=r.top,a=r.left,l=r.width,c=window.scrollX||window.pageXOffset,u=window.scrollY||window.pageYOffset;t.unbindPosition=n.calculatePosition(t,n,{width:l+"px",left:c+a+"px",top:u+o+s+"px"}),document.body.appendChild(t)}},unbind:function(t,e,i){i.context.appendToBody&&(t.unbindPosition&&"function"==typeof t.unbindPosition&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}},f=function(t){var e={};return Object.keys(t).sort().forEach((function(i){e[i]=t[i]})),JSON.stringify(e)};var g=0;const m=function(){return++g};function v(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,n)}return i}function A(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?v(Object(i),!0).forEach((function(e){a()(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const y=h({components:A({},d),directives:{appendToBody:p},mixins:[l,c,u],props:{value:{},components:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:function(t){return t}},selectable:{type:Function,default:function(t){return!0}},getOptionLabel:{type:Function,default:function(t){return"object"===s()(t)?t.hasOwnProperty(this.label)?t[this.label]:console.warn('[vue-select warn]: Label key "option.'.concat(this.label,'" does not')+" exist in options object ".concat(JSON.stringify(t),".\n")+"https://vue-select.org/api/props.html#getoptionlabel"):t}},getOptionKey:{type:Function,default:function(t){if("object"!==s()(t))return t;try{return t.hasOwnProperty("id")?t.id:f(t)}catch(e){return console.warn("[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.\nhttps://vue-select.org/api/props.html#getoptionkey",t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default:function(t,e,i){return(e||"").toLocaleLowerCase().indexOf(i.toLocaleLowerCase())>-1}},filter:{type:Function,default:function(t,e){var i=this;return t.filter((function(t){var n=i.getOptionLabel(t);return"number"==typeof n&&(n=n.toString()),i.filterBy(t,n,e)}))}},createOption:{type:Function,default:function(t){return"object"===s()(this.optionList[0])?a()({},this.label,t):t}},resetOnOptionsChange:{default:!1,validator:function(t){return["function","boolean"].includes(s()(t))}},clearSearchOnBlur:{type:Function,default:function(t){var e=t.clearSearchOnSelect,i=t.multiple;return e&&!i}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:function(){return[13]}},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:function(t,e){return t}},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default:function(t,e,i){var n=i.width,r=i.top,s=i.left;t.style.top=r,t.style.left=s,t.style.width=n}},dropdownShouldOpen:{type:Function,default:function(t){var e=t.noDrop,i=t.open,n=t.mutableLoading;return!e&&i&&!n}},uid:{type:[String,Number],default:function(){return m()}}},data:function(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[]}},computed:{isTrackingValues:function(){return void 0===this.value||this.$options.propsData.hasOwnProperty("reduce")},selectedValue:function(){var t=this.value;return this.isTrackingValues&&(t=this.$data._value),null!=t&&""!==t?[].concat(t):[]},optionList:function(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl:function(){return this.$scopedSlots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope:function(){var t=this,e={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:A({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":"vs".concat(this.uid,"__combobox"),"aria-controls":"vs".concat(this.uid,"__listbox"),ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":"vs".concat(this.uid,"__option-").concat(this.typeAheadPointer)}:{}),events:{compositionstart:function(){return t.isComposing=!0},compositionend:function(){return t.isComposing=!1},keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:function(e){return t.search=e.target.value}}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:e,listFooter:e,header:A({},e,{deselect:this.deselect}),footer:A({},e,{deselect:this.deselect})}},childComponents:function(){return A({},d,{},this.components)},stateClasses:function(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching:function(){return!!this.search},dropdownOpen:function(){return this.dropdownShouldOpen(this)},searchPlaceholder:function(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions:function(){var t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;var e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){var i=this.createOption(this.search);this.optionExists(i)||e.unshift(i)}return e},isValueEmpty:function(){return 0===this.selectedValue.length},showClearButton:function(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options:function(t,e){var i=this;!this.taggable&&("function"==typeof i.resetOnOptionsChange?i.resetOnOptionsChange(t,e,i.selectedValue):i.resetOnOptionsChange)&&this.clearSelection(),this.value&&this.isTrackingValues&&this.setInternalValueFromOptions(this.value)},value:{immediate:!0,handler:function(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple:function(){this.clearSelection()},open:function(t){this.$emit(t?"open":"close")}},created:function(){this.mutableLoading=this.loading,this.$on("option:created",this.pushTag)},methods:{setInternalValueFromOptions:function(t){var e=this;Array.isArray(t)?this.$data._value=t.map((function(t){return e.findOptionFromReducedValue(t)})):this.$data._value=this.findOptionFromReducedValue(t)},select:function(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&this.$emit("option:created",t),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect:function(t){var e=this;this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter((function(i){return!e.optionComparator(i,t)}))),this.$emit("option:deselected",t)},clearSelection:function(){this.updateValue(this.multiple?[]:null)},onAfterSelect:function(t){var e=this;this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search=""),this.noDrop&&this.multiple&&this.$nextTick((function(){return e.$refs.search.focus()}))},updateValue:function(t){var e=this;void 0===this.value&&(this.$data._value=t),null!==t&&(t=Array.isArray(t)?t.map((function(t){return e.reduce(t)})):this.reduce(t)),this.$emit("input",t)},toggleDropdown:function(t){var i=t.target!==this.searchEl;i&&t.preventDefault();var n=[].concat(e()(this.$refs.deselectButtons||[]),e()([this.$refs.clearButton]||!1));void 0===this.searchEl||n.filter(Boolean).some((function(e){return e.contains(t.target)||e===t.target}))?t.preventDefault():this.open&&i?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected:function(t){var e=this;return this.selectedValue.some((function(i){return e.optionComparator(i,t)}))},isOptionDeselectable:function(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator:function(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue:function(t){var i=this,n=[].concat(e()(this.options),e()(this.pushedTags)).filter((function(e){return JSON.stringify(i.reduce(e))===JSON.stringify(t)}));return 1===n.length?n[0]:n.find((function(t){return i.optionComparator(t,i.$data._value)}))||t},closeSearchOptions:function(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue:function(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){var t=null;this.multiple&&(t=e()(this.selectedValue.slice(0,this.selectedValue.length-1))),this.updateValue(t)}},optionExists:function(t){var e=this;return this.optionList.some((function(i){return e.optionComparator(i,t)}))},normalizeOptionForSlot:function(t){return"object"===s()(t)?t:a()({},this.label,t)},pushTag:function(t){this.pushedTags.push(t)},onEscape:function(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur:function(){if(!this.mousedown||this.searching){var t=this.clearSearchOnSelect,e=this.multiple;return this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),void this.closeSearchOptions()}this.mousedown=!1,0!==this.search.length||0!==this.options.length||this.closeSearchOptions()},onSearchFocus:function(){this.open=!0,this.$emit("search:focus")},onMousedown:function(){this.mousedown=!0},onMouseUp:function(){this.mousedown=!1},onSearchKeyDown:function(t){var e=this,i=function(t){return t.preventDefault(),!e.isComposing&&e.typeAheadSelect()},n={8:function(t){return e.maybeDeleteValue()},9:function(t){return e.onTab()},27:function(t){return e.onEscape()},38:function(t){return t.preventDefault(),e.typeAheadUp()},40:function(t){return t.preventDefault(),e.typeAheadDown()}};this.selectOnKeyCodes.forEach((function(t){return n[t]=i}));var r=this.mapKeydown(n,this);if("function"==typeof r[t.keyCode])return r[t.keyCode](t)}}},(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"v-select",class:t.stateClasses,attrs:{dir:t.dir}},[t._t("header",null,null,t.scope.header),t._v(" "),i("div",{ref:"toggle",staticClass:"vs__dropdown-toggle",attrs:{id:"vs"+t.uid+"__combobox",role:"combobox","aria-expanded":t.dropdownOpen.toString(),"aria-owns":"vs"+t.uid+"__listbox","aria-label":"Search for option"},on:{mousedown:function(e){return t.toggleDropdown(e)}}},[i("div",{ref:"selectedOptions",staticClass:"vs__selected-options"},[t._l(t.selectedValue,(function(e){return t._t("selected-option-container",[i("span",{key:t.getOptionKey(e),staticClass:"vs__selected"},[t._t("selected-option",[t._v("\n            "+t._s(t.getOptionLabel(e))+"\n          ")],null,t.normalizeOptionForSlot(e)),t._v(" "),t.multiple?i("button",{ref:"deselectButtons",refInFor:!0,staticClass:"vs__deselect",attrs:{disabled:t.disabled,type:"button",title:"Deselect "+t.getOptionLabel(e),"aria-label":"Deselect "+t.getOptionLabel(e)},on:{click:function(i){return t.deselect(e)}}},[i(t.childComponents.Deselect,{tag:"component"})],1):t._e()],2)],{option:t.normalizeOptionForSlot(e),deselect:t.deselect,multiple:t.multiple,disabled:t.disabled})})),t._v(" "),t._t("search",[i("input",t._g(t._b({staticClass:"vs__search"},"input",t.scope.search.attributes,!1),t.scope.search.events))],null,t.scope.search)],2),t._v(" "),i("div",{ref:"actions",staticClass:"vs__actions"},[i("button",{directives:[{name:"show",rawName:"v-show",value:t.showClearButton,expression:"showClearButton"}],ref:"clearButton",staticClass:"vs__clear",attrs:{disabled:t.disabled,type:"button",title:"Clear Selected","aria-label":"Clear Selected"},on:{click:t.clearSelection}},[i(t.childComponents.Deselect,{tag:"component"})],1),t._v(" "),t._t("open-indicator",[t.noDrop?t._e():i(t.childComponents.OpenIndicator,t._b({tag:"component"},"component",t.scope.openIndicator.attributes,!1))],null,t.scope.openIndicator),t._v(" "),t._t("spinner",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.mutableLoading,expression:"mutableLoading"}],staticClass:"vs__spinner"},[t._v("Loading...")])],null,t.scope.spinner)],2)]),t._v(" "),i("transition",{attrs:{name:t.transition}},[t.dropdownOpen?i("ul",{directives:[{name:"append-to-body",rawName:"v-append-to-body"}],key:"vs"+t.uid+"__listbox",ref:"dropdownMenu",staticClass:"vs__dropdown-menu",attrs:{id:"vs"+t.uid+"__listbox",role:"listbox",tabindex:"-1"},on:{mousedown:function(e){return e.preventDefault(),t.onMousedown(e)},mouseup:t.onMouseUp}},[t._t("list-header",null,null,t.scope.listHeader),t._v(" "),t._l(t.filteredOptions,(function(e,n){return i("li",{key:t.getOptionKey(e),staticClass:"vs__dropdown-option",class:{"vs__dropdown-option--deselect":t.isOptionDeselectable(e)&&n===t.typeAheadPointer,"vs__dropdown-option--selected":t.isOptionSelected(e),"vs__dropdown-option--highlight":n===t.typeAheadPointer,"vs__dropdown-option--disabled":!t.selectable(e)},attrs:{id:"vs"+t.uid+"__option-"+n,role:"option","aria-selected":n===t.typeAheadPointer||null},on:{mouseover:function(i){t.selectable(e)&&(t.typeAheadPointer=n)},click:function(i){i.preventDefault(),i.stopPropagation(),t.selectable(e)&&t.select(e)}}},[t._t("option",[t._v("\n          "+t._s(t.getOptionLabel(e))+"\n        ")],null,t.normalizeOptionForSlot(e))],2)})),t._v(" "),0===t.filteredOptions.length?i("li",{staticClass:"vs__no-options"},[t._t("no-options",[t._v("\n          Sorry, no matching options.\n        ")],null,t.scope.noOptions)],2):t._e(),t._v(" "),t._t("list-footer",null,null,t.scope.listFooter)],2):i("ul",{staticStyle:{display:"none",visibility:"hidden"},attrs:{id:"vs"+t.uid+"__listbox",role:"listbox"}})]),t._v(" "),t._t("footer",null,null,t.scope.footer)],2)}),[],!1,null,null,null).exports,_={ajax:u,pointer:c,pointerScroll:l},b=y})(),n})()}))},"4bcc":function(t,e,i){},"4d21":function(t,e,i){},"4d42":function(t,e,i){},"4d64":function(t,e,i){var n=i("fc6a"),r=i("23cb"),s=i("07fa"),o=function(t){return function(e,i,o){var a,l=n(e),c=s(l),u=r(o,c);if(t&&i!=i){while(c>u)if(a=l[u++],a!=a)return!0}else for(;c>u;u++)if((t||u in l)&&l[u]===i)return t||u||0;return!t&&-1}};t.exports={includes:o(!0),indexOf:o(!1)}},"500f":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/placeholder-w312.45668bda86f9b47c3f0132fd7579f20c.png"},"50c4":function(t,e,i){var n=i("5926"),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},"50df":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/radio-selected.73374042fd3ebd76506e86db622c073a.svg"},"51bc":function(t,e,i){"use strict";i("675f")},5203:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/share.344544e68b5b424fee997fd92f813b74.svg"},5235:function(t,e){},"52a6":function(t,e,i){},5309:function(t,e,i){},"53a8":function(t,e){t.exports=n;var i=Object.prototype.hasOwnProperty;function n(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)i.call(n,r)&&(t[r]=n[r])}return t}},5677:function(t,e,i){"use strict";i("7e69")},5692:function(t,e,i){var n=i("c430"),r=i("c6cd");(t.exports=function(t,e){return r[t]||(r[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.26.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56a9":function(t,e,i){"use strict";i("a6fb")},"56ef":function(t,e,i){var n=i("d066"),r=i("e330"),s=i("241c"),o=i("7418"),a=i("825a"),l=r([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=s.f(a(t)),i=o.f;return i?l(e,i(t)):e}},"577e":function(t,e,i){var n=i("f5df"),r=String;t.exports=function(t){if("Symbol"===n(t))throw TypeError("Cannot convert a Symbol value to a string");return r(t)}},"57a5":function(t,e,i){var n=i("91e9"),r=n(Object.keys,Object);t.exports=r},"585a":function(t,e,i){(function(e){var i="object"==typeof e&&e&&e.Object===Object&&e;t.exports=i}).call(this,i("c8ba"))},"586b":function(t,e,i){"use strict";i("baec")},5897:function(t,e,i){"use strict";i("0db0")},"58f8":function(t,e,i){"use strict";i("ed53")},5926:function(t,e,i){var n=i("b42e");t.exports=function(t){var e=+t;return e!==e||0===e?0:n(e)}},5942:function(t,e,i){"use strict";i("8bde")},5957:function(t,e,i){},"59e3":function(t,e,i){"use strict";var n=i("6038"),r=i.n(n);e["default"]=r.a},"59ed":function(t,e,i){var n=i("1626"),r=i("0d51"),s=TypeError;t.exports=function(t){if(n(t))return t;throw s(r(t)+" is not a function")}},"5bab":function(t,e,i){"use strict";i("bf34")},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"5cd2":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t._self._c;return t.reseted?e("div",{staticClass:"video-player"},[e("video",{ref:"video",staticClass:"video-js"})]):t._e()},r=[],s=(i("d9e2"),i("ac2e")),o=i.n(s);const a=window.videojs||o.a;"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");const i=Object(t);for(let n=1;n<arguments.length;n++){const t=arguments[n];if(null!=t)for(const e in t)Object.prototype.hasOwnProperty.call(t,e)&&(i[e]=t[e])}return i},writable:!0,configurable:!0});const l=["loadeddata","canplay","canplaythrough","play","pause","waiting","playing","ended","error"];var c={name:"video-player",props:{start:{type:Number,default:0},crossOrigin:{type:String,default:""},playsinline:{type:Boolean,default:!1},customEventName:{type:String,default:"statechanged"},options:{type:Object,required:!0},events:{type:Array,default:()=>[]},globalOptions:{type:Object,default:()=>({controls:!0,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"],plugins:{}})},globalEvents:{type:Array,default:()=>[]}},data(){return{player:null,reseted:!0}},mounted(){this.player||this.initialize()},beforeDestroy(){this.player&&this.dispose()},methods:{initialize(){const t=Object.assign({},this.globalOptions,this.options);this.playsinline&&(this.$refs.video.setAttribute("playsinline",this.playsinline),this.$refs.video.setAttribute("webkit-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-playsinline",this.playsinline),this.$refs.video.setAttribute("x5-video-player-type","h5"),this.$refs.video.setAttribute("x5-video-player-fullscreen",!1)),""!==this.crossOrigin&&(this.$refs.video.crossOrigin=this.crossOrigin,this.$refs.video.setAttribute("crossOrigin",this.crossOrigin));const e=(t,e)=>{t&&this.$emit(t,this.player),e&&this.$emit(this.customEventName,{[t]:e})};t.plugins&&delete t.plugins.__ob__;const i=this;this.player=a(this.$refs.video,t,(function(){const t=l.concat(i.events).concat(i.globalEvents),n={};for(let i=0;i<t.length;i++)"string"===typeof t[i]&&void 0===n[t[i]]&&(t=>{n[t]=null,this.on(t,()=>{e(t,!0)})})(t[i]);this.on("timeupdate",(function(){e("timeupdate",this.currentTime())})),i.$emit("ready",this)}))},dispose(t){this.player&&this.player.dispose&&("Flash"!==this.player.techName_&&this.player.pause&&this.player.pause(),this.player.dispose(),this.player=null,this.$nextTick(()=>{this.reseted=!1,this.$nextTick(()=>{this.reseted=!0,this.$nextTick(()=>{t&&t()})})}))}},watch:{options:{deep:!0,handler(t,e){this.dispose(()=>{t&&t.sources&&t.sources.length&&this.initialize()})}}}},u=c,h=i("2877"),d=Object(h["a"])(u,n,r,!1,null,null,null);e["default"]=d.exports},"5cd2b":function(t,e){},"5e77":function(t,e,i){var n=i("83ab"),r=i("1a2d"),s=Function.prototype,o=n&&Object.getOwnPropertyDescriptor,a=r(s,"name"),l=a&&"something"===function(){}.name,c=a&&(!n||n&&o(s,"name").configurable);t.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},"5e94":function(t,e,i){"use strict";i("b1f9")},"5f5a":function(t,e,i){},6038:function(t,e){t.exports={name:"fdk-popup",props:{content:{type:String},id:{type:String}},methods:{showToast:function(){var t=document.getElementById(this.id);t.className="toast show",setTimeout((function(){t.className=t.className.replace("toast show","toast hide")}),3e3)}},data:function(){return{}},mounted(){}}},"605d":function(t,e,i){var n=i("c6b6"),r=i("da84");t.exports="process"==n(r.process)},"608b":function(t,e,i){"use strict";i("2738")},"611b":function(t,e,i){"use strict";i("05d8")},"614b":function(t,e,i){"use strict";i("d1f8")},6276:function(t,e,i){},"62e4":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},6374:function(t,e,i){var n=i("da84"),r=Object.defineProperty;t.exports=function(t,e){try{r(n,t,{value:e,configurable:!0,writable:!0})}catch(i){n[t]=e}return e}},"63d5":function(t,e,i){},6444:function(t,e){var i=function(t){return t.replace(/^\s+|\s+$/g,"")},n=function(t){return"[object Array]"===Object.prototype.toString.call(t)};t.exports=function(t){if(!t)return{};for(var e={},r=i(t).split("\n"),s=0;s<r.length;s++){var o=r[s],a=o.indexOf(":"),l=i(o.slice(0,a)).toLowerCase(),c=i(o.slice(a+1));"undefined"===typeof e[l]?e[l]=c:n(e[l])?e[l].push(c):e[l]=[e[l],c]}return e}},"65a4":function(t,e,i){"use strict";i("65b4")},"65ac":function(t,e,i){"use strict";i.d(e,"a",(function(){return n})),i.d(e,"b",(function(){return r}));var n=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"toast",attrs:{id:t.id}},[t._v(t._s(t.content))])},r=[]},"65b4":function(t,e,i){},6671:function(t,e){},"66cd":function(t,e){},6747:function(t,e){var i=Array.isArray;t.exports=i},6758:function(t,e,i){},"675f":function(t,e,i){},"69f3":function(t,e,i){var n,r,s,o=i("cdce"),a=i("da84"),l=i("861d"),c=i("9112"),u=i("1a2d"),h=i("c6cd"),d=i("f772"),p=i("d012"),f="Object already initialized",g=a.TypeError,m=a.WeakMap,v=function(t){return s(t)?r(t):n(t,{})},A=function(t){return function(e){var i;if(!l(e)||(i=r(e)).type!==t)throw g("Incompatible receiver, "+t+" required");return i}};if(o||h.state){var y=h.state||(h.state=new m);y.get=y.get,y.has=y.has,y.set=y.set,n=function(t,e){if(y.has(t))throw g(f);return e.facade=t,y.set(t,e),e},r=function(t){return y.get(t)||{}},s=function(t){return y.has(t)}}else{var _=d("state");p[_]=!0,n=function(t,e){if(u(t,_))throw g(f);return e.facade=t,c(t,_,e),e},r=function(t){return u(t,_)?t[_]:{}},s=function(t){return u(t,_)}}t.exports={set:n,get:r,has:s,enforce:v,getterFor:A}},"6aa3":function(t,e,i){},"6bd7":function(t,e,i){},"6d34":function(t,e,i){},"6dea":function(t,e){var i={"":!0,up:!0};function n(t){if("string"!==typeof t)return!1;var e=i[t.toLowerCase()];return!!e&&t.toLowerCase()}function r(t){return"number"===typeof t&&t>=0&&t<=100}function s(){var t=100,e=3,i=0,s=100,o=0,a=100,l="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!r(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!==typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return s},set:function(t){if(!r(t))throw new Error("RegionAnchorX must be between 0 and 100.");s=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!r(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return a},set:function(t){if(!r(t))throw new Error("ViewportAnchorY must be between 0 and 100.");a=t}},viewportAnchorX:{enumerable:!0,get:function(){return o},set:function(t){if(!r(t))throw new Error("ViewportAnchorX must be between 0 and 100.");o=t}},scroll:{enumerable:!0,get:function(){return l},set:function(t){var e=n(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");l=e}}})}t.exports=s},"6dfc":function(t,e,i){},"6ec7":function(t,e,i){},"6fcc":function(t,e){},"706b":function(t,e,i){},7071:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/special-badge.bca78ca416ea291079d3974c4aab5e24.png"},7156:function(t,e,i){var n=i("1626"),r=i("861d"),s=i("d2bb");t.exports=function(t,e,i){var o,a;return s&&n(o=e.constructor)&&o!==i&&r(a=o.prototype)&&a!==i.prototype&&s(t,a),t}},7161:function(t,e,i){},"719d":function(t,e,i){"use strict";i("8d4b")},7234:function(t,e){t.exports=function(t){return null===t||void 0===t}},7305:function(t,e,i){"use strict";i("0e51")},"73ac":function(t,e,i){var n=i("743f"),r=i("b047"),s=i("99d3"),o=s&&s.isTypedArray,a=o?r(o):n;t.exports=a},7418:function(t,e){e.f=Object.getOwnPropertySymbols},"743f":function(t,e,i){var n=i("3729"),r=i("b218"),s=i("1310"),o="[object Arguments]",a="[object Array]",l="[object Boolean]",c="[object Date]",u="[object Error]",h="[object Function]",d="[object Map]",p="[object Number]",f="[object Object]",g="[object RegExp]",m="[object Set]",v="[object String]",A="[object WeakMap]",y="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",C="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",I="[object Uint8ClampedArray]",T="[object Uint16Array]",M="[object Uint32Array]",B={};function k(t){return s(t)&&r(t.length)&&!!B[n(t)]}B[b]=B[w]=B[x]=B[C]=B[E]=B[S]=B[I]=B[T]=B[M]=!0,B[o]=B[a]=B[y]=B[l]=B[_]=B[c]=B[u]=B[h]=B[d]=B[p]=B[f]=B[g]=B[m]=B[v]=B[A]=!1,t.exports=k},"74f8":function(t,e,i){"use strict";i("4625")},7594:function(t,e,i){"use strict";i("24e3")},"76e7":function(t,e,i){"use strict";i("e135")},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785f":function(t,e){},"793d":function(t,e,i){},"79bc":function(t,e,i){var n=i("0b07"),r=i("2b3e"),s=n(r,"Map");t.exports=s},"7b0b":function(t,e,i){var n=i("1d80"),r=Object;t.exports=function(t){return r(n(t))}},"7bd5":function(t,e,i){"use strict";i("793d")},"7d3d":function(t,e,i){"use strict";i("a054")},"7ddf":function(t,e,i){"use strict";i("1662")},"7de1":function(t,e,i){"use strict";i("c12d")},"7e69":function(t,e,i){},"7e699":function(t,e,i){"use strict";i("8b81")},"7f3a":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/3D.8a3f74d9826f997e36bc90b2085d6fee.svg"},"825a":function(t,e,i){var n=i("861d"),r=String,s=TypeError;t.exports=function(t){if(n(t))return t;throw s(r(t)+" is not an object")}},8274:function(t,e,i){},8362:function(t,e){t.exports=n;var i=Object.prototype.toString;function n(t){if(!t)return!1;var e=i.call(t);return"[object Function]"===e||"function"===typeof t&&"[object RegExp]"!==e||"undefined"!==typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}},"83ab":function(t,e,i){var n=i("d039");t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8463:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/bell.a0a2b9bcbadd0dc077d0679cc9fa1b3c.png"},"84b6":function(t,e,i){},8533:function(t,e,i){"use strict";i("de64")},"861d":function(t,e,i){var n=i("1626"),r=i("8ea1"),s=r.all;t.exports=r.IS_HTMLDDA?function(t){return"object"==typeof t?null!==t:n(t)||t===s}:function(t){return"object"==typeof t?null!==t:n(t)}},8847:function(t,e,i){"use strict";i("e3b66")},"88ea":function(t,e,i){},8925:function(t,e,i){var n=i("e330"),r=i("1626"),s=i("c6cd"),o=n(Function.toString);r(s.inspectSource)||(s.inspectSource=function(t){return o(t)}),t.exports=s.inspectSource},"89df":function(t,e,i){},"8b11":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/like.472f2391b76fe67533d6ae15e09b49b8.png"},"8b6b":function(t,e){},"8b81":function(t,e,i){},"8bda":function(t,e,i){},"8bde":function(t,e,i){},"8c10":function(t,e){function i(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(r){n=r}return[n,i]}t.exports=i},"8c58":function(t,e,i){},"8c80":function(t,e,i){"use strict";i("a8ad")},"8ced":function(t,e){},"8d4b":function(t,e,i){},"8d6e":function(t,e,i){"use strict";i("b57a")},"8ea1":function(t,e){var i="object"==typeof document&&document.all,n="undefined"==typeof i&&void 0!==i;t.exports={all:i,IS_HTMLDDA:n}},"8ec5":function(t,e,i){"use strict";i("1bdc")},"90e3":function(t,e,i){var n=i("e330"),r=0,s=Math.random(),o=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+o(++r+s,36)}},9112:function(t,e,i){var n=i("83ab"),r=i("9bf2"),s=i("5c6c");t.exports=n?function(t,e,i){return r.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},9152:function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,i,n,r){var s,o,a=8*r-n-1,l=(1<<a)-1,c=l>>1,u=-7,h=i?r-1:0,d=i?-1:1,p=t[e+h];for(h+=d,s=p&(1<<-u)-1,p>>=-u,u+=a;u>0;s=256*s+t[e+h],h+=d,u-=8);for(o=s&(1<<-u)-1,s>>=-u,u+=n;u>0;o=256*o+t[e+h],h+=d,u-=8);if(0===s)s=1-c;else{if(s===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),s-=c}return(p?-1:1)*o*Math.pow(2,s-n)},e.write=function(t,e,i,n,r,s){var o,a,l,c=8*s-r-1,u=(1<<c)-1,h=u>>1,d=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:s-1,f=n?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))<1&&(o--,l*=2),e+=o+h>=1?d/l:d*Math.pow(2,1-h),e*l>=2&&(o++,l/=2),o+h>=u?(a=0,o=u):o+h>=1?(a=(e*l-1)*Math.pow(2,r),o+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),o=0));r>=8;t[i+p]=255&a,p+=f,a/=256,r-=8);for(o=o<<r|a,c+=r;c>0;t[i+p]=255&o,p+=f,o/=256,c-=8);t[i+p-f]|=128*g}},"91d1":function(t,e,i){},"91e9":function(t,e){function i(t,e){return function(i){return t(e(i))}}t.exports=i},"92a3":function(t,e,i){"use strict";i("706b")},9300:function(t,e,i){},9460:function(t,e,i){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n="undefined"!==typeof window&&"undefined"!==typeof window.document,r="object"===("undefined"===typeof self?"undefined":i(self))&&self.constructor&&"DedicatedWorkerGlobalScope"===self.constructor.name,s="undefined"!==typeof t&&null!=t.versions&&null!=t.versions.node,o=function(){return"undefined"!==typeof window&&"nodejs"===window.name||navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")};e.isBrowser=n,e.isWebWorker=r,e.isNode=s,e.isJsDom=o}).call(this,i("4362"))},"94ba":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/loader.5eddc54fa34b0c516c786dfc06a0cd00.gif"},"94ca":function(t,e,i){var n=i("d039"),r=i("1626"),s=/#|\.prototype\./,o=function(t,e){var i=l[a(t)];return i==u||i!=c&&(r(e)?n(e):!!e)},a=o.normalize=function(t){return String(t).replace(s,".").toLowerCase()},l=o.data={},c=o.NATIVE="N",u=o.POLYFILL="P";t.exports=o},9520:function(t,e,i){var n=i("3729"),r=i("1a8c"),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";function c(t){if(!r(t))return!1;var e=n(t);return e==o||e==a||e==s||e==l}t.exports=c},"961a":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/plus-icon.471bc25fceb42c2368226e98e8b60a88.png"},"96bf":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/arrow-left.717ed295334f1bb97288f7dff6c56fbd.png"},"99d3":function(t,e,i){(function(t){var n=i("585a"),r=e&&!e.nodeType&&e,s=r&&"object"==typeof t&&t&&!t.nodeType&&t,o=s&&s.exports===r,a=o&&n.process,l=function(){try{var t=s&&s.require&&s.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=l}).call(this,i("62e4")(t))},"9a48":function(t,e,i){"use strict";i("a317")},"9bf2":function(t,e,i){var n=i("83ab"),r=i("0cfb"),s=i("aed9"),o=i("825a"),a=i("a04b"),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,h="enumerable",d="configurable",p="writable";e.f=n?s?function(t,e,i){if(o(t),e=a(e),o(i),"function"===typeof t&&"prototype"===e&&"value"in i&&p in i&&!i[p]){var n=u(t,e);n&&n[p]&&(t[e]=i.value,i={configurable:d in i?i[d]:n[d],enumerable:h in i?i[h]:n[h],writable:!1})}return c(t,e,i)}:c:function(t,e,i){if(o(t),e=a(e),o(i),r)try{return c(t,e,i)}catch(n){}if("get"in i||"set"in i)throw l("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},"9c19":function(t,e,i){"use strict";i("f6f0")},"9d68":function(t,e,i){},"9e69":function(t,e,i){var n=i("2b3e"),r=n.Symbol;t.exports=r},"9e73":function(t,e,i){"use strict";i("e563")},"9e95":function(t,e,i){"use strict";i("db43")},"9ece":function(t,e,i){},"9f89":function(t,e,i){},"9f9b":function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/arrow-right.62e33e89fd2ebdb2b13a803122f10015.png"},"9fa5":function(t,e,i){"use strict";i("88ea")},a04b:function(t,e,i){var n=i("c04e"),r=i("d9b5");t.exports=function(t){var e=n(t,"string");return r(e)?e:e+""}},a054:function(t,e,i){},a317:function(t,e,i){},a462:function(t,e){},a46f:function(t,e,i){"use strict";i("9f89")},a50c:function(t,e,i){},a5fd:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/close-icon.ed0c85b4d06e95b7b6ad2eabb9393cd7.png"},a5ff:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/close-icon-2.245a69dc5079dc7f2e9b7a1d1ed1d582.png"},a61f:function(t,e,i){},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){return 1},1)}))}},a65e:function(t,e){},a6b2:function(t,e,i){"use strict";function n(t){let e=[46,8,9,27,13,110];return!(!e.includes(t.keyCode)&&(65!==t.keyCode&&86!==t.keyCode||!0!==t.ctrlKey&&!0!==t.metaKey)&&!(t.keyCode>=35&&t.keyCode<=40))}function r(t){return!(t.shiftKey||t.keyCode<48||t.keyCode>57)||!(t.keyCode<96||t.keyCode>105)}function s(t){return 46==t.keyCode||8==t.keyCode||t.keyCode>=37&&t.keyCode<=40}function o(t){if(t=t.trim(),0===t.length)return!1;{let e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,i=e.test(String(t).toLowerCase());if(!i)return!1}return!0}t.exports={isSpecial:n,isNumberKey:r,isFreeNavigation:s,isValidEmail:o}},a6fb:function(t,e,i){},a6fd:function(t,e,i){"use strict";i("8c58")},a89d:function(t,e,i){"use strict";var n=i("05f6"),r=i("087f"),s=(i("7ddf"),i("2877")),o=Object(s["a"])(r["default"],n["a"],n["b"],!1,null,"5d4e2ca6",null);e["default"]=o.exports},a8ad:function(t,e,i){},a8e1:function(t,e,i){},a9f5:function(t,e,i){},ab36:function(t,e,i){var n=i("861d"),r=i("9112");t.exports=function(t,e){n(e)&&"cause"in e&&r(t,"cause",e.cause)}},ab45:function(t,e,i){},ac2e:function(t,e,i){
/**
 * @license
 * Video.js 6.13.0 <http://videojs.com/>
 * Copyright Brightcove, Inc. <https://www.brightcove.com/>
 * Available under Apache License Version 2.0
 * <https://github.com/videojs/video.js/blob/master/LICENSE>
 *
 * Includes vtt.js <https://github.com/mozilla/vtt.js>
 * Available under Apache License Version 2.0
 * <https://github.com/mozilla/vtt.js/blob/master/LICENSE>
 */
function n(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}var r=n(i("be09")),s=n(i("ef34")),o=n(i("1b8d")),a=n(i("8c10")),l=n(i("eec7")),c=n(i("455e")),u="6.13.0",h=r.navigator&&r.navigator.userAgent||"",d=/AppleWebKit\/([\d.]+)/i.exec(h),p=d?parseFloat(d.pop()):null,f=/iPad/i.test(h),g=/iPhone/i.test(h)&&!f,m=/iPod/i.test(h),v=g||f||m,A=function(){var t=h.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}(),y=/Android/i.test(h),_=function(){var t=h.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),b=y&&/webkit/i.test(h)&&_<2.3,w=y&&_<5&&p<537,x=/Firefox/i.test(h),C=/Edge/i.test(h),E=!C&&(/Chrome/i.test(h)||/CriOS/i.test(h)),S=function(){var t=h.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),I=/MSIE\s8\.0/.test(h),T=function(){var t=/MSIE\s(\d+)\.\d/.exec(h),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(h)&&/rv:11.0/.test(h)&&(e=11),e}(),M=/Safari/i.test(h)&&!E&&!y&&!C,B=(M||v)&&!E,k=it()&&("ontouchstart"in r||r.navigator.maxTouchPoints||r.DocumentTouch&&r.document instanceof r.DocumentTouch),L=it()&&"backgroundSize"in r.document.createElement("video").style,R=(Object.freeze||Object)({IS_IPAD:f,IS_IPHONE:g,IS_IPOD:m,IS_IOS:v,IOS_VERSION:A,IS_ANDROID:y,ANDROID_VERSION:_,IS_OLD_ANDROID:b,IS_NATIVE_ANDROID:w,IS_FIREFOX:x,IS_EDGE:C,IS_CHROME:E,CHROME_VERSION:S,IS_IE8:I,IE_VERSION:T,IS_SAFARI:M,IS_ANY_SAFARI:B,TOUCH_ENABLED:k,BACKGROUND_SIZE_SUPPORTED:L}),P="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},O=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},F=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},N=function(t,e){return t.raw=e,t},Q=Object.prototype.toString,H=function(t){return j(t)?Object.keys(t):[]};function U(t,e){H(t).forEach((function(i){return e(t[i],i)}))}function G(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return H(t).reduce((function(i,n){return e(i,t[n],n)}),i)}function z(t){for(var e=arguments.length,i=Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[t].concat(i)):(i.forEach((function(e){e&&U(e,(function(e,i){t[i]=e}))})),t)}function j(t){return!!t&&"object"===("undefined"===typeof t?"undefined":P(t))}function V(t){return j(t)&&"[object Object]"===Q.call(t)&&t.constructor===Object}var W=[],q=function(t,e){return function(i,n,s,o){var a=e.levels[n],l=new RegExp("^("+a+")$");if("log"!==i&&s.unshift(i.toUpperCase()+":"),s.unshift(t+":"),W&&W.push([].concat(s)),r.console){var c=r.console[i];c||"debug"!==i||(c=r.console.info||r.console.log),c&&a&&l.test(i)&&(o&&(s=s.map((function(t){if(j(t)||Array.isArray(t))try{return JSON.stringify(t)}catch(e){return String(t)}return String(t)})).join(" ")),c.apply?c[Array.isArray(s)?"apply":"call"](r.console,s):c(s))}}};function Y(t){var e="info",i=void 0,n=function t(){for(var n=t.stringify||T&&T<11,r=arguments.length,s=Array(r),o=0;o<r;o++)s[o]=arguments[o];i("log",e,s,n)};return i=q(t,n),n.createLogger=function(e){return Y(t+": "+e)},n.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:e},n.level=function(t){if("string"===typeof t){if(!n.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');e=t}return e},n.history=function(){return W?[].concat(W):[]},n.history.filter=function(t){return(W||[]).filter((function(e){return new RegExp(".*"+t+".*").test(e[0])}))},n.history.clear=function(){W&&(W.length=0)},n.history.disable=function(){null!==W&&(W.length=0,W=null)},n.history.enable=function(){null===W&&(W=[])},n.error=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i("error",e,n)},n.warn=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i("warn",e,n)},n.debug=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return i("debug",e,n)},n}var $=Y("VIDEOJS"),J=$.createLogger;function X(t,e){if(!t||!e)return"";if("function"===typeof r.getComputedStyle){var i=r.getComputedStyle(t);return i?i[e]:""}return t.currentStyle[e]||""}var K=N(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."],["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);function Z(t){return"string"===typeof t&&/\S/.test(t)}function tt(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function et(t){return new RegExp("(^|\\s)"+t+"($|\\s)")}function it(){return s===r.document&&"undefined"!==typeof s.createElement}function nt(t){return j(t)&&1===t.nodeType}function rt(){try{return r.parent!==r.self}catch(t){return!0}}function st(t){return function(e,i){if(!Z(e))return s[t](null);Z(i)&&(i=s.querySelector(i));var n=nt(i)?i:s;return n[t]&&n[t](e)}}function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],r=s.createElement(t);return Object.getOwnPropertyNames(e).forEach((function(t){var i=e[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?($.warn(o(K,t,i)),r.setAttribute(t,i)):"textContent"===t?at(r,i):r[t]=i})),Object.getOwnPropertyNames(i).forEach((function(t){r.setAttribute(t,i[t])})),n&&St(r,n),r}function at(t,e){return"undefined"===typeof t.textContent?t.innerText=e:t.textContent=e,t}function lt(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ct(t,e){return tt(e),t.classList?t.classList.contains(e):et(e).test(t.className)}function ut(t,e){return t.classList?t.classList.add(e):ct(t,e)||(t.className=(t.className+" "+e).trim()),t}function ht(t,e){return t.classList?t.classList.remove(e):(tt(e),t.className=t.className.split(/\s+/).filter((function(t){return t!==e})).join(" ")),t}function dt(t,e,i){var n=ct(t,e);if("function"===typeof i&&(i=i(t,e)),"boolean"!==typeof i&&(i=!n),i!==n)return i?ut(t,e):ht(t,e),t}function pt(t,e){Object.getOwnPropertyNames(e).forEach((function(i){var n=e[i];null===n||"undefined"===typeof n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)}))}function ft(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,r=n.length-1;r>=0;r--){var s=n[r].name,o=n[r].value;"boolean"!==typeof t[s]&&-1===i.indexOf(","+s+",")||(o=null!==o),e[s]=o}return e}function gt(t,e){return t.getAttribute(e)}function mt(t,e,i){t.setAttribute(e,i)}function vt(t,e){t.removeAttribute(e)}function At(){s.body.focus(),s.onselectstart=function(){return!1}}function yt(){s.onselectstart=function(){return!0}}function _t(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach((function(t){void 0!==e[t]&&(i[t]=e[t])})),i.height||(i.height=parseFloat(X(t,"height"))),i.width||(i.width=parseFloat(X(t,"width"))),i}}function bt(t){var e=void 0;if(t.getBoundingClientRect&&t.parentNode&&(e=t.getBoundingClientRect()),!e)return{left:0,top:0};var i=s.documentElement,n=s.body,o=i.clientLeft||n.clientLeft||0,a=r.pageXOffset||n.scrollLeft,l=e.left+a-o,c=i.clientTop||n.clientTop||0,u=r.pageYOffset||n.scrollTop,h=e.top+u-c;return{left:Math.round(l),top:Math.round(h)}}function wt(t,e){var i={},n=bt(t),r=t.offsetWidth,s=t.offsetHeight,o=n.top,a=n.left,l=e.pageY,c=e.pageX;return e.changedTouches&&(c=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+s)/s)),i.x=Math.max(0,Math.min(1,(c-a)/r)),i}function xt(t){return j(t)&&3===t.nodeType}function Ct(t){while(t.firstChild)t.removeChild(t.firstChild);return t}function Et(t){return"function"===typeof t&&(t=t()),(Array.isArray(t)?t:[t]).map((function(t){return"function"===typeof t&&(t=t()),nt(t)||xt(t)?t:"string"===typeof t&&/\S/.test(t)?s.createTextNode(t):void 0})).filter((function(t){return t}))}function St(t,e){return Et(e).forEach((function(e){return t.appendChild(e)})),t}function It(t,e){return St(Ct(t),e)}function Tt(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||(9===T||0===t.button&&1===t.buttons))}var Mt=st("querySelector"),Bt=st("querySelectorAll"),kt=(Object.freeze||Object)({isReal:it,isEl:nt,isInFrame:rt,createEl:ot,textContent:at,prependTo:lt,hasClass:ct,addClass:ut,removeClass:ht,toggleClass:dt,setAttributes:pt,getAttributes:ft,getAttribute:gt,setAttribute:mt,removeAttribute:vt,blockTextSelection:At,unblockTextSelection:yt,getBoundingClientRect:_t,findPosition:bt,getPointerPosition:wt,isTextNode:xt,emptyEl:Ct,normalizeContent:Et,appendContent:St,insertContent:It,isSingleLeftClick:Tt,$:Mt,$$:Bt}),Lt=1;function Rt(){return Lt++}var Pt={},Dt="vdata"+(new Date).getTime();function Ot(t){var e=t[Dt];return e||(e=t[Dt]=Rt()),Pt[e]||(Pt[e]={}),Pt[e]}function Ft(t){var e=t[Dt];return!!e&&!!Object.getOwnPropertyNames(Pt[e]).length}function Nt(t){var e=t[Dt];if(e){delete Pt[e];try{delete t[Dt]}catch(i){t.removeAttribute?t.removeAttribute(Dt):t[Dt]=null}}}function Qt(t,e){var i=Ot(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&Nt(t)}function Ht(t,e,i,n){i.forEach((function(i){t(e,i,n)}))}function Ut(t){function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped){var n=t||r.event;for(var o in t={},n)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&n.preventDefault||(t[o]=n[o]));if(t.target||(t.target=t.srcElement||s),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,null!==t.clientX&&void 0!==t.clientX){var a=s.documentElement,l=s.body;t.pageX=t.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),t.pageY=t.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}t.which=t.charCode||t.keyCode,null!==t.button&&void 0!==t.button&&(t.button=1&t.button?0:4&t.button?1:2&t.button?2:0)}return t}var Gt=!1;(function(){try{var t=Object.defineProperty({},"passive",{get:function(){Gt=!0}});r.addEventListener("test",null,t),r.removeEventListener("test",null,t)}catch(e){}})();var zt=["touchstart","touchmove"];function jt(t,e,i){if(Array.isArray(e))return Ht(jt,t,e,i);var n=Ot(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Rt()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=Ut(e);var r=n.handlers[e.type];if(r)for(var s=r.slice(0),o=0,a=s.length;o<a;o++){if(e.isImmediatePropagationStopped())break;try{s[o].call(t,e,i)}catch(l){$.error(l)}}}}),1===n.handlers[e].length)if(t.addEventListener){var r=!1;Gt&&zt.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,n.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function Vt(t,e,i){if(Ft(t)){var n=Ot(t);if(n.handlers){if(Array.isArray(e))return Ht(Vt,t,e,i);var r=function(t,e){n.handlers[e]=[],Qt(t,e)};if(void 0!==e){var s=n.handlers[e];if(s)if(i){if(i.guid)for(var o=0;o<s.length;o++)s[o].guid===i.guid&&s.splice(o--,1);Qt(t,e)}else r(t,e)}else for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&r(t,a)}}}function Wt(t,e,i){var n=Ft(t)?Ot(t):{},r=t.parentNode||t.ownerDocument;if("string"===typeof e?e={type:e,target:t}:e.target||(e.target=t),e=Ut(e),n.dispatcher&&n.dispatcher.call(t,e,i),r&&!e.isPropagationStopped()&&!0===e.bubbles)Wt.call(null,r,e,i);else if(!r&&!e.defaultPrevented){var s=Ot(e.target);e.target[e.type]&&(s.disabled=!0,"function"===typeof e.target[e.type]&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function qt(t,e,i){if(Array.isArray(e))return Ht(qt,t,e,i);var n=function n(){Vt(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||Rt(),jt(t,e,n)}var Yt=(Object.freeze||Object)({fixEvent:Ut,on:jt,off:Vt,trigger:Wt,one:qt}),$t=!1,Jt=void 0,Xt=function(){if(it()&&!1!==Jt.options.autoSetup){var t=s.getElementsByTagName("video"),e=s.getElementsByTagName("audio"),i=s.getElementsByTagName("video-js"),n=[];if(t&&t.length>0)for(var r=0,o=t.length;r<o;r++)n.push(t[r]);if(e&&e.length>0)for(var a=0,l=e.length;a<l;a++)n.push(e[a]);if(i&&i.length>0)for(var c=0,u=i.length;c<u;c++)n.push(i[c]);if(n&&n.length>0)for(var h=0,d=n.length;h<d;h++){var p=n[h];if(!p||!p.getAttribute){Kt(1);break}if(void 0===p.player){var f=p.getAttribute("data-setup");null!==f&&Jt(p)}}else $t||Kt(1)}};function Kt(t,e){e&&(Jt=e),r.setTimeout(Xt,t)}it()&&"complete"===s.readyState?$t=!0:qt(r,"load",(function(){$t=!0}));var Zt=function(t){var e=s.createElement("style");return e.className=t,e},te=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},ee=function(t,e,i){e.guid||(e.guid=Rt());var n=function(){return e.apply(t,arguments)};return n.guid=i?i+"_"+e.guid:e.guid,n},ie=function(t,e){var i=Date.now(),n=function(){var n=Date.now();n-i>=e&&(t.apply(void 0,arguments),i=n)};return n},ne=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r,s=void 0,o=function(){n.clearTimeout(s),s=null},a=function(){var r=this,o=arguments,a=function(){s=null,a=null,i||t.apply(r,o)};!s&&i&&t.apply(r,o),n.clearTimeout(s),s=n.setTimeout(a,e)};return a.cancel=o,a},re=function(){};re.prototype.allowedEvents_={},re.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},jt(this,t,e),this.addEventListener=i},re.prototype.addEventListener=re.prototype.on,re.prototype.off=function(t,e){Vt(this,t,e)},re.prototype.removeEventListener=re.prototype.off,re.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},qt(this,t,e),this.addEventListener=i},re.prototype.trigger=function(t){var e=t.type||t;"string"===typeof t&&(t={type:e}),t=Ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),Wt(this,t)},re.prototype.dispatchEvent=re.prototype.trigger;var se=function(t){return t instanceof re||!!t.eventBusEl_&&["on","one","off","trigger"].every((function(e){return"function"===typeof t[e]}))},oe=function(t){return"string"===typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},ae=function(t){if(!t.nodeName&&!se(t))throw new Error("Invalid target; must be a DOM node or evented object.")},le=function(t){if(!oe(t))throw new Error("Invalid event type; must be a non-empty string or array.")},ce=function(t){if("function"!==typeof t)throw new Error("Invalid listener; must be a function.")},ue=function(t,e){var i=e.length<3||e[0]===t||e[0]===t.eventBusEl_,n=void 0,r=void 0,s=void 0;return i?(n=t.eventBusEl_,e.length>=3&&e.shift(),r=e[0],s=e[1]):(n=e[0],r=e[1],s=e[2]),ae(n),le(r),ce(s),s=ee(t,s),{isTargetingSelf:i,target:n,type:r,listener:s}},he=function(t,e,i,n){ae(t),t.nodeName?Yt[e](t,i,n):t[e](i,n)},de={on:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ue(this,i),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;if(he(o,"on",a,l),!s){var c=function(){return t.off(o,a,l)};c.guid=l.guid;var u=function(){return t.off("dispose",c)};u.guid=l.guid,he(this,"on","dispose",c),he(o,"on","dispose",u)}},one:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var r=ue(this,i),s=r.isTargetingSelf,o=r.target,a=r.type,l=r.listener;if(s)he(o,"one",a,l);else{var c=function e(){for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];t.off(o,a,e),l.apply(null,n)};c.guid=l.guid,he(o,"one",a,c)}},off:function(t,e,i){if(!t||oe(t))Vt(this.eventBusEl_,t,e);else{var n=t,r=e;ae(n),le(r),ce(i),i=ee(this,i),this.off("dispose",i),n.nodeName?(Vt(n,r,i),Vt(n,"dispose",i)):se(n)&&(n.off(r,i),n.off("dispose",i))}},trigger:function(t,e){return Wt(this.eventBusEl_,t,e)}};function pe(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.eventBusKey;if(i){if(!t[i].nodeName)throw new Error('The eventBusKey "'+i+'" does not refer to an element.');t.eventBusEl_=t[i]}else t.eventBusEl_=ot("span",{className:"vjs-event-bus"});return z(t,de),t.on("dispose",(function(){t.off(),r.setTimeout((function(){t.eventBusEl_=null}),0)})),t}var fe={state:{},setState:function(t){var e=this;"function"===typeof t&&(t=t());var i=void 0;return U(t,(function(t,n){e.state[n]!==t&&(i=i||{},i[n]={from:e.state[n],to:t}),e.state[n]=t})),i&&se(this)&&this.trigger({changes:i,type:"statechanged"}),i}};function ge(t,e){return z(t,fe),t.state=z({},t.state,e),"function"===typeof t.handleStateChanged&&se(t)&&t.on("statechanged",t.handleStateChanged),t}function me(t){return"string"!==typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function ve(t,e){return me(t)===me(e)}function Ae(){for(var t={},e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach((function(e){e&&U(e,(function(e,i){V(e)?(V(t[i])||(t[i]={}),t[i]=Ae(t[i],e)):t[i]=e}))})),t}var ye=function(){function t(e,i,n){if(D(this,t),!e&&this.play?this.player_=e=this:this.player_=e,this.options_=Ae({},this.options_),i=this.options_=Ae(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){var r=e&&e.id&&e.id()||"no_player";this.id_=r+"_component_"+Rt()}this.name_=i.name||null,i.el?this.el_=i.el:!1!==i.createEl&&(this.el_=this.createEl()),!1!==i.evented&&pe(this,{eventBusKey:this.el_?"el_":null}),ge(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==i.initChildren&&this.initChildren(),this.ready(n),!1!==i.reportTouchActivity&&this.enableTouchActivity()}return t.prototype.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),Nt(this.el_),this.el_=null),this.player_=null},t.prototype.player=function(){return this.player_},t.prototype.options=function(t){return $.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=Ae(this.options_,t),this.options_):this.options_},t.prototype.el=function(){return this.el_},t.prototype.createEl=function(t,e,i){return ot(t,e,i)},t.prototype.localize=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t,n=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),s=r&&r[n],o=n&&n.split("-")[0],a=r&&r[o],l=i;return s&&s[t]?l=s[t]:a&&a[t]&&(l=a[t]),e&&(l=l.replace(/\{(\d+)\}/g,(function(t,i){var n=e[i-1],r=n;return"undefined"===typeof n&&(r=t),r}))),l},t.prototype.contentEl=function(){return this.contentEl_||this.el_},t.prototype.id=function(){return this.id_},t.prototype.name=function(){return this.name_},t.prototype.children=function(){return this.children_},t.prototype.getChildById=function(t){return this.childIndex_[t]},t.prototype.getChild=function(t){if(t)return t=me(t),this.childNameIndex_[t]},t.prototype.addChild=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.children_.length,r=void 0,s=void 0;if("string"===typeof e){s=me(e);var o=i.componentClass||s;i.name=s;var a=t.getComponent(o);if(!a)throw new Error("Component "+o+" does not exist");if("function"!==typeof a)return null;r=new a(this.player_||this,i)}else r=e;if(this.children_.splice(n,0,r),"function"===typeof r.id&&(this.childIndex_[r.id()]=r),s=s||r.name&&me(r.name()),s&&(this.childNameIndex_[s]=r),"function"===typeof r.el&&r.el()){var l=this.contentEl().children,c=l[n]||null;this.contentEl().insertBefore(r.el(),c)}return r},t.prototype.removeChild=function(t){if("string"===typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},t.prototype.initChildren=function(){var e=this,i=this.options_.children;if(i){var n=this.options_,r=function(t){var i=t.name,r=t.opts;if(void 0!==n[i]&&(r=n[i]),!1!==r){!0===r&&(r={}),r.playerOptions=e.options_.playerOptions;var s=e.addChild(i,r);s&&(e[i]=s)}},s=void 0,o=t.getComponent("Tech");s=Array.isArray(i)?i:Object.keys(i),s.concat(Object.keys(this.options_).filter((function(t){return!s.some((function(e){return"string"===typeof e?t===e:t===e.name}))}))).map((function(t){var n=void 0,r=void 0;return"string"===typeof t?(n=t,r=i[n]||e.options_[n]||{}):(n=t.name,r=t),{name:n,opts:r}})).filter((function(e){var i=t.getComponent(e.opts.componentClass||me(e.name));return i&&!o.isTech(i)})).forEach(r)}},t.prototype.buildCSSClass=function(){return""},t.prototype.ready=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},t.prototype.triggerReady=function(){this.isReady_=!0,this.setTimeout((function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach((function(t){t.call(this)}),this),this.trigger("ready")}),1)},t.prototype.$=function(t,e){return Mt(t,e||this.contentEl())},t.prototype.$$=function(t,e){return Bt(t,e||this.contentEl())},t.prototype.hasClass=function(t){return ct(this.el_,t)},t.prototype.addClass=function(t){ut(this.el_,t)},t.prototype.removeClass=function(t){ht(this.el_,t)},t.prototype.toggleClass=function(t,e){dt(this.el_,t,e)},t.prototype.show=function(){this.removeClass("vjs-hidden")},t.prototype.hide=function(){this.addClass("vjs-hidden")},t.prototype.lockShowing=function(){this.addClass("vjs-lock-showing")},t.prototype.unlockShowing=function(){this.removeClass("vjs-lock-showing")},t.prototype.getAttribute=function(t){return gt(this.el_,t)},t.prototype.setAttribute=function(t,e){mt(this.el_,t,e)},t.prototype.removeAttribute=function(t){vt(this.el_,t)},t.prototype.width=function(t,e){return this.dimension("width",t,e)},t.prototype.height=function(t,e){return this.dimension("height",t,e)},t.prototype.dimensions=function(t,e){this.width(t,!0),this.height(e)},t.prototype.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e===e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],r=n.indexOf("px");return-1!==r?parseInt(n.slice(0,r),10):parseInt(this.el_["offset"+me(t)],10)},t.prototype.currentDimension=function(t){var e=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"===typeof r.getComputedStyle){var i=r.getComputedStyle(this.el_);e=i.getPropertyValue(t)||i[t]}if(e=parseFloat(e),0===e){var n="offset"+me(t);e=this.el_[n]}return e},t.prototype.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},t.prototype.currentWidth=function(){return this.currentDimension("width")},t.prototype.currentHeight=function(){return this.currentDimension("height")},t.prototype.focus=function(){this.el_.focus()},t.prototype.blur=function(){this.el_.blur()},t.prototype.emitTapEvents=function(){var t=0,e=null,i=10,n=200,r=void 0;this.on("touchstart",(function(i){1===i.touches.length&&(e={pageX:i.touches[0].pageX,pageY:i.touches[0].pageY},t=(new Date).getTime(),r=!0)})),this.on("touchmove",(function(t){if(t.touches.length>1)r=!1;else if(e){var n=t.touches[0].pageX-e.pageX,s=t.touches[0].pageY-e.pageY,o=Math.sqrt(n*n+s*s);o>i&&(r=!1)}}));var s=function(){r=!1};this.on("touchleave",s),this.on("touchcancel",s),this.on("touchend",(function(i){if(e=null,!0===r){var s=(new Date).getTime()-t;s<n&&(i.preventDefault(),this.trigger("tap"))}}))},t.prototype.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t=ee(this.player(),this.player().reportUserActivity),e=void 0;this.on("touchstart",(function(){t(),this.clearInterval(e),e=this.setInterval(t,250)}));var i=function(i){t(),this.clearInterval(e)};this.on("touchmove",t),this.on("touchend",i),this.on("touchcancel",i)}},t.prototype.setTimeout=function(t,e){var i,n,s=this;return t=ee(this,t),i=r.setTimeout((function(){s.off("dispose",n),t()}),e),n=function(){return s.clearTimeout(i)},n.guid="vjs-timeout-"+i,this.on("dispose",n),i},t.prototype.clearTimeout=function(t){r.clearTimeout(t);var e=function(){};return e.guid="vjs-timeout-"+t,this.off("dispose",e),t},t.prototype.setInterval=function(t,e){var i=this;t=ee(this,t);var n=r.setInterval(t,e),s=function(){return i.clearInterval(n)};return s.guid="vjs-interval-"+n,this.on("dispose",s),n},t.prototype.clearInterval=function(t){r.clearInterval(t);var e=function(){};return e.guid="vjs-interval-"+t,this.off("dispose",e),t},t.prototype.requestAnimationFrame=function(t){var e,i,n=this;return this.supportsRaf_?(t=ee(this,t),e=r.requestAnimationFrame((function(){n.off("dispose",i),t()})),i=function(){return n.cancelAnimationFrame(e)},i.guid="vjs-raf-"+e,this.on("dispose",i),e):this.setTimeout(t,1e3/60)},t.prototype.cancelAnimationFrame=function(t){if(this.supportsRaf_){r.cancelAnimationFrame(t);var e=function(){};return e.guid="vjs-raf-"+t,this.off("dispose",e),t}return this.clearTimeout(t)},t.registerComponent=function(e,i){if("string"!==typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n=t.getComponent("Tech"),r=n&&n.isTech(i),s=t===i||t.prototype.isPrototypeOf(i.prototype);if(r||!s){var o=void 0;throw o=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+o+".")}e=me(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var l=a.players,c=Object.keys(l);if(l&&c.length>0&&c.map((function(t){return l[t]})).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,i},t.getComponent=function(e){if(e)return e=me(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();function _e(t,e,i){if("number"!==typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}function be(t,e,i,n){return _e(t,n,i.length-1),i[n][e]}function we(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:be.bind(null,"start",0,t),end:be.bind(null,"end",1,t)}}function xe(t,e){return Array.isArray(t)?we(t):void 0===t||void 0===e?we():we([[t,e]])}function Ce(t,e){var i=0,n=void 0,r=void 0;if(!e)return 0;t&&t.length||(t=xe(0,0));for(var s=0;s<t.length;s++)n=t.start(s),r=t.end(s),r>e&&(r=e),i+=r-n;return i/e}ye.prototype.supportsRaf_="function"===typeof r.requestAnimationFrame&&"function"===typeof r.cancelAnimationFrame,ye.registerComponent("Component",ye);for(var Ee={},Se=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ie=Se[0],Te=void 0,Me=0;Me<Se.length;Me++)if(Se[Me][1]in s){Te=Se[Me];break}if(Te)for(var Be=0;Be<Te.length;Be++)Ee[Ie[Be]]=Te[Be];function ke(t){if(t instanceof ke)return t;"number"===typeof t?this.code=t:"string"===typeof t?this.message=t:j(t)&&("number"===typeof t.code&&(this.code=t.code),z(this,t)),this.message||(this.message=ke.defaultMessages[this.code]||"")}ke.prototype.code=0,ke.prototype.message="",ke.prototype.status=null,ke.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],ke.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var Le=0;Le<ke.errorTypes.length;Le++)ke[ke.errorTypes[Le]]=Le,ke.prototype[ke.errorTypes[Le]]=Le;function Re(t){return void 0!==t&&null!==t&&"function"===typeof t.then}function Pe(t){Re(t)&&t.then(null,(function(t){}))}var De=function(t){var e=["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((function(e,i,n){return t[i]&&(e[i]=t[i]),e}),{cues:t.cues&&Array.prototype.map.call(t.cues,(function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}}))});return e},Oe=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,(function(t){return t.track})),n=Array.prototype.map.call(e,(function(t){var e=De(t.track);return t.src&&(e.src=t.src),e}));return n.concat(Array.prototype.filter.call(t.textTracks(),(function(t){return-1===i.indexOf(t)})).map(De))},Fe=function(t,e){return t.forEach((function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach((function(t){return i.addCue(t)}))})),e.textTracks()},Ne={textTracksToJson:Oe,jsonToTextTracks:Fe,trackToJson_:De},Qe="vjs-modal-dialog",He=27,Ue=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.opened_=r.hasBeenOpened_=r.hasBeenFilled_=!1,r.closeable(!r.options_.uncloseable),r.content(r.options_.content),r.contentEl_=ot("div",{className:Qe+"-content"},{role:"document"}),r.descEl_=ot("p",{className:Qe+"-description vjs-control-text",id:r.el().getAttribute("aria-describedby")}),at(r.descEl_,r.description()),r.el_.appendChild(r.descEl_),r.el_.appendChild(r.contentEl_),r}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},e.prototype.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return Qe+" vjs-hidden "+t.prototype.buildCSSClass.call(this)},e.prototype.handleKeyPress=function(t){t.which===He&&this.closeable()&&this.close()},e.prototype.label=function(){return this.localize(this.options_.label||"Modal Window")},e.prototype.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},e.prototype.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",ee(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},e.prototype.opened=function(t){return"boolean"===typeof t&&this[t?"open":"close"](),this.opened_},e.prototype.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",ee(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},e.prototype.closeable=function(t){if("boolean"===typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},e.prototype.fill=function(){this.fillWith(this.content())},e.prototype.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),It(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var r=this.getChild("closeButton");r&&i.appendChild(r.el_)},e.prototype.empty=function(){this.trigger("beforemodalempty"),Ct(this.contentEl()),this.trigger("modalempty")},e.prototype.content=function(t){return"undefined"!==typeof t&&(this.content_=t),this.content_},e.prototype.conditionalFocus_=function(){var t=s.activeElement,e=this.player_.el_;this.previouslyActiveEl_=null,(e.contains(t)||e===t)&&(this.previouslyActiveEl_=t,this.focus(),this.on(s,"keydown",this.handleKeyDown))},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(s,"keydown",this.handleKeyDown)},e.prototype.handleKeyDown=function(t){if(9===t.which){for(var e=this.focusableEls_(),i=this.el_.querySelector(":focus"),n=void 0,r=0;r<e.length;r++)if(i===e[r]){n=r;break}s.activeElement===this.el_&&(n=0),t.shiftKey&&0===n?(e[e.length-1].focus(),t.preventDefault()):t.shiftKey||n!==e.length-1||(e[0].focus(),t.preventDefault())}},e.prototype.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,(function(t){return(t instanceof r.HTMLAnchorElement||t instanceof r.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof r.HTMLInputElement||t instanceof r.HTMLSelectElement||t instanceof r.HTMLTextAreaElement||t instanceof r.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof r.HTMLIFrameElement||t instanceof r.HTMLObjectElement||t instanceof r.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")}))},e}(ye);Ue.prototype.options_={pauseOnOpen:!0,temporary:!0},ye.registerComponent("ModalDialog",Ue);var Ge=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;D(this,e);var o=F(this,t.call(this));if(!r&&(r=o,I))for(var a in r=s.createElement("custom"),e.prototype)"constructor"!==a&&(r[a]=e.prototype[a]);r.tracks_=[],Object.defineProperty(r,"length",{get:function(){return this.tracks_.length}});for(var l=0;l<n.length;l++)r.addTrack(n[l]);return i=r,F(o,i)}return O(e,t),e.prototype.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},e.prototype.removeTrack=function(t){for(var e=void 0,i=0,n=this.length;i<n;i++)if(this[i]===t){e=this[i],e.off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack"})},e.prototype.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},e}(re);for(var ze in Ge.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ge.prototype.allowedEvents_)Ge.prototype["on"+ze]=null;var je=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},Ve=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];D(this,e);for(var o=void 0,a=r.length-1;a>=0;a--)if(r[a].enabled){je(r,r[a]);break}if(I){for(var l in o=s.createElement("custom"),Ge.prototype)"constructor"!==l&&(o[l]=Ge.prototype[l]);for(var c in e.prototype)"constructor"!==c&&(o[c]=e.prototype[c])}return i=F(this,t.call(this,r,o)),o=i,o.changing_=!1,n=o,F(i,n)}return O(e,t),e.prototype.addTrack=function(e){var i=this;e.enabled&&je(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",(function(){i.changing_||(i.changing_=!0,je(i,e),i.changing_=!1,i.trigger("change"))}))},e}(Ge),We=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},qe=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];D(this,e);for(var o=void 0,a=r.length-1;a>=0;a--)if(r[a].selected){We(r,r[a]);break}if(I){for(var l in o=s.createElement("custom"),Ge.prototype)"constructor"!==l&&(o[l]=Ge.prototype[l]);for(var c in e.prototype)"constructor"!==c&&(o[c]=e.prototype[c])}return i=F(this,t.call(this,r,o)),o=i,o.changing_=!1,Object.defineProperty(o,"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),n=o,F(i,n)}return O(e,t),e.prototype.addTrack=function(e){var i=this;e.selected&&We(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",(function(){i.changing_||(i.changing_=!0,We(i,e),i.changing_=!1,i.trigger("change"))}))},e}(Ge),Ye=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];D(this,e);var o=void 0;if(I){for(var a in o=s.createElement("custom"),Ge.prototype)"constructor"!==a&&(o[a]=Ge.prototype[a]);for(var l in e.prototype)"constructor"!==l&&(o[l]=e.prototype[l])}return i=F(this,t.call(this,r,o)),o=i,n=o,F(i,n)}return O(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",ee(this,(function(){this.trigger("change")})));var i=["metadata","chapters"];-1===i.indexOf(e.kind)&&e.addEventListener("modechange",ee(this,(function(){this.trigger("selectedlanguagechange")})))},e}(Ge),$e=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];D(this,t);var i=this;if(I)for(var n in i=s.createElement("custom"),t.prototype)"constructor"!==n&&(i[n]=t.prototype[n]);i.trackElements_=[],Object.defineProperty(i,"length",{get:function(){return this.trackElements_.length}});for(var r=0,o=e.length;r<o;r++)i.addTrackElement_(e[r]);if(I)return i}return t.prototype.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},t.prototype.getTrackElementByTrack_=function(t){for(var e=void 0,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},t.prototype.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Je=function(){function t(e){D(this,t);var i=this;if(I)for(var n in i=s.createElement("custom"),t.prototype)"constructor"!==n&&(i[n]=t.prototype[n]);if(t.prototype.setCues_.call(i,e),Object.defineProperty(i,"length",{get:function(){return this.length_}}),I)return i}return t.prototype.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var r=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)r.call(this,i)},t.prototype.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var r=this[i];if(r.id===t){e=r;break}}return e},t}(),Xe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},Ke={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},Ze={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ti={disabled:"disabled",hidden:"hidden",showing:"showing"},ei=function(t){function e(){var i,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e);var r=F(this,t.call(this)),o=r;if(I)for(var a in o=s.createElement("custom"),e.prototype)"constructor"!==a&&(o[a]=e.prototype[a]);var l={id:n.id||"vjs_track_"+Rt(),kind:n.kind||"",label:n.label||"",language:n.language||""},c=function(t){Object.defineProperty(o,t,{get:function(){return l[t]},set:function(){}})};for(var u in l)c(u);return i=o,F(r,i)}return O(e,t),e}(re),ii=function(t){var e=["protocol","hostname","port","pathname","search","hash","host"],i=s.createElement("a");i.href=t;var n=""===i.host&&"file:"!==i.protocol,o=void 0;n&&(o=s.createElement("div"),o.innerHTML='<a href="'+t+'"></a>',i=o.firstChild,o.setAttribute("style","display:none; position:absolute;"),s.body.appendChild(o));for(var a={},l=0;l<e.length;l++)a[e[l]]=i[e[l]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=r.location.protocol),n&&s.body.removeChild(o),a},ni=function(t){if(!t.match(/^https?:\/\//)){var e=s.createElement("div");e.innerHTML='<a href="'+t+'">x</a>',t=e.firstChild.href}return t},ri=function(t){if("string"===typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i,i=e.exec(t);if(i)return i.pop().toLowerCase()}return""},si=function(t){var e=r.location,i=ii(t),n=":"===i.protocol?e.protocol:i.protocol,s=n+i.host!==e.protocol+e.host;return s},oi=(Object.freeze||Object)({parseUrl:ii,getAbsoluteURL:ni,getFileExtension:ri,isCrossOrigin:si}),ai=function(t,e){var i=new r.WebVTT.Parser(r,r.vttjs,r.WebVTT.StringDecoder()),n=[];i.oncue=function(t){e.addCue(t)},i.onparsingerror=function(t){n.push(t)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(r.console&&r.console.groupCollapsed&&r.console.groupCollapsed("Text Track parsing errors for "+e.src),n.forEach((function(t){return $.error(t)})),r.console&&r.console.groupEnd&&r.console.groupEnd()),i.flush()},li=function(t,e){var i={uri:t},n=si(t);n&&(i.cors=n),l(i,ee(this,(function(t,i,n){if(t)return $.error(t,i);if(e.loaded_=!0,"function"!==typeof r.WebVTT){if(e.tech_){var s=function(){return ai(n,e)};e.tech_.on("vttjsloaded",s),e.tech_.on("vttjserror",(function(){$.error("vttjs failed to load, stopping trying to process "+e.src),e.tech_.off("vttjsloaded",s)}))}}else ai(n,e)})))},ci=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(D(this,e),!r.tech)throw new Error("A tech was not provided.");var s=Ae(r,{kind:Ze[r.kind]||"subtitles",language:r.language||r.srclang||""}),o=ti[s.mode]||"disabled",a=s["default"];"metadata"!==s.kind&&"chapters"!==s.kind||(o="hidden");var l=(i=F(this,t.call(this,s)),i);if(l.tech_=s.tech,I)for(var c in e.prototype)"constructor"!==c&&(l[c]=e.prototype[c]);l.cues_=[],l.activeCues_=[];var u=new Je(l.cues_),h=new Je(l.activeCues_),d=!1,p=ee(l,(function(){this.activeCues=this.activeCues,d&&(this.trigger("cuechange"),d=!1)}));return"disabled"!==o&&l.tech_.ready((function(){l.tech_.on("timeupdate",p)}),!0),Object.defineProperty(l,"default",{get:function(){return a},set:function(){}}),Object.defineProperty(l,"mode",{get:function(){return o},set:function(t){var e=this;ti[t]&&(o=t,"disabled"!==o?this.tech_.ready((function(){e.tech_.on("timeupdate",p)}),!0):this.tech_.off("timeupdate",p),this.trigger("modechange"))}}),Object.defineProperty(l,"cues",{get:function(){return this.loaded_?u:null},set:function(){}}),Object.defineProperty(l,"activeCues",{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return h;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var r=this.cues[i];(r.startTime<=t&&r.endTime>=t||r.startTime===r.endTime&&r.startTime<=t&&r.startTime+.5>=t)&&e.push(r)}if(d=!1,e.length!==this.activeCues_.length)d=!0;else for(var s=0;s<e.length;s++)-1===this.activeCues_.indexOf(e[s])&&(d=!0);return this.activeCues_=e,h.setCues_(this.activeCues_),h},set:function(){}}),s.src?(l.src=s.src,li(s.src,l)):l.loaded_=!0,n=l,F(i,n)}return O(e,t),e.prototype.addCue=function(t){var e=t;if(r.vttjs&&!(t instanceof r.vttjs.VTTCue)){for(var i in e=new r.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)i in e||(e[i]=t[i]);e.id=t.id,e.originalCue_=t}for(var n=this.tech_.textTracks(),s=0;s<n.length;s++)n[s]!==this&&n[s].removeCue(e);this.cues_.push(e),this.cues.setCues_(this.cues_)},e.prototype.removeCue=function(t){var e=this.cues_.length;while(e--){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},e}(ei);ci.prototype.allowedEvents_={cuechange:"cuechange"};var ui=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e);var s=Ae(r,{kind:Ke[r.kind]||""}),o=(i=F(this,t.call(this,s)),i),a=!1;if(I)for(var l in e.prototype)"constructor"!==l&&(o[l]=e.prototype[l]);return Object.defineProperty(o,"enabled",{get:function(){return a},set:function(t){"boolean"===typeof t&&t!==a&&(a=t,this.trigger("enabledchange"))}}),s.enabled&&(o.enabled=s.enabled),o.loaded_=!0,n=o,F(i,n)}return O(e,t),e}(ei),hi=function(t){function e(){var i,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e);var s=Ae(r,{kind:Xe[r.kind]||""}),o=(i=F(this,t.call(this,s)),i),a=!1;if(I)for(var l in e.prototype)"constructor"!==l&&(o[l]=e.prototype[l]);return Object.defineProperty(o,"selected",{get:function(){return a},set:function(t){"boolean"===typeof t&&t!==a&&(a=t,this.trigger("selectedchange"))}}),s.selected&&(o.selected=s.selected),n=o,F(i,n)}return O(e,t),e}(ei),di=0,pi=1,fi=2,gi=3,mi=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D(this,e);var n=F(this,t.call(this)),r=void 0,o=n;if(I)for(var a in o=s.createElement("custom"),e.prototype)"constructor"!==a&&(o[a]=e.prototype[a]);var l,c=new ci(i);return o.kind=c.kind,o.src=c.src,o.srclang=c.language,o.label=c.label,o["default"]=c["default"],Object.defineProperty(o,"readyState",{get:function(){return r}}),Object.defineProperty(o,"track",{get:function(){return c}}),r=di,c.addEventListener("loadeddata",(function(){r=fi,o.trigger({type:"load",target:o})})),I?(l=o,F(n,l)):n}return O(e,t),e}(re);mi.prototype.allowedEvents_={load:"load"},mi.NONE=di,mi.LOADING=pi,mi.LOADED=fi,mi.ERROR=gi;var vi={audio:{ListClass:Ve,TrackClass:ui,capitalName:"Audio"},video:{ListClass:qe,TrackClass:hi,capitalName:"Video"},text:{ListClass:Ye,TrackClass:ci,capitalName:"Text"}};Object.keys(vi).forEach((function(t){vi[t].getterName=t+"Tracks",vi[t].privateName=t+"Tracks_"}));var Ai={remoteText:{ListClass:Ye,TrackClass:ci,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:$e,TrackClass:mi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},yi=Ae(vi,Ai);function _i(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},s=t.textTracks();r.kind=e,i&&(r.label=i),n&&(r.language=n),r.tech=t;var o=new yi.text.TrackClass(r);return s.addTrack(o),o}Ai.names=Object.keys(Ai),vi.names=Object.keys(vi),yi.names=[].concat(Ai.names).concat(vi.names);var bi=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};D(this,e),i.reportTouchActivity=!1;var r=F(this,t.call(this,null,i,n));return r.hasStarted_=!1,r.on("playing",(function(){this.hasStarted_=!0})),r.on("loadstart",(function(){this.hasStarted_=!1})),yi.names.forEach((function(t){var e=yi[t];i&&i[e.getterName]&&(r[e.privateName]=i[e.getterName])})),r.featuresProgressEvents||r.manualProgressOn(),r.featuresTimeupdateEvents||r.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach((function(t){!1===i["native"+t+"Tracks"]&&(r["featuresNative"+t+"Tracks"]=!1)})),!1===i.nativeCaptions||!1===i.nativeTextTracks?r.featuresNativeTextTracks=!1:!0!==i.nativeCaptions&&!0!==i.nativeTextTracks||(r.featuresNativeTextTracks=!0),r.featuresNativeTextTracks||r.emulateTextTracks(),r.autoRemoteTextTracks_=new yi.text.ListClass,r.initTrackListeners(),i.nativeControlsForTouch||r.emitTapEvents(),r.constructor&&(r.name_=r.constructor.name||"Unknown Tech"),r}return O(e,t),e.prototype.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",(function(){return e.setTimeout((function(){return e.triggerSourceset(t)}),1)})),this.trigger({src:t,type:"sourceset"})},e.prototype.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},e.prototype.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},e.prototype.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(ee(this,(function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()})),500)},e.prototype.onDurationChange=function(t){this.duration_=this.duration()},e.prototype.buffered=function(){return xe(0,0)},e.prototype.bufferedPercent=function(){return Ce(this.buffered(),this.duration_)},e.prototype.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},e.prototype.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},e.prototype.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},e.prototype.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval((function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}),250)},e.prototype.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.dispose=function(){this.clearTracks(vi.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),t.prototype.dispose.call(this)},e.prototype.clearTracks=function(t){var e=this;t=[].concat(t),t.forEach((function(t){var i=e[t+"Tracks"]()||[],n=i.length;while(n--){var r=i[n];"text"===t&&e.removeRemoteTextTrack(r),i.removeTrack(r)}}))},e.prototype.cleanupAutoTextTracks=function(){var t=this.autoRemoteTextTracks_||[],e=t.length;while(e--){var i=t[e];this.removeRemoteTextTrack(i)}},e.prototype.reset=function(){},e.prototype.error=function(t){return void 0!==t&&(this.error_=new ke(t),this.trigger("error")),this.error_},e.prototype.played=function(){return this.hasStarted_?xe(0,0):xe()},e.prototype.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},e.prototype.initTrackListeners=function(){var t=this;vi.names.forEach((function(e){var i=vi[e],n=function(){t.trigger(e+"trackchange")},r=t[i.getterName]();r.addEventListener("removetrack",n),r.addEventListener("addtrack",n),t.on("dispose",(function(){r.removeEventListener("removetrack",n),r.removeEventListener("addtrack",n)}))}))},e.prototype.addWebVttScript_=function(){var t=this;if(!r.WebVTT)if(s.body.contains(this.el())){if(!this.options_["vtt.js"]&&V(c)&&Object.keys(c).length>0)return void this.trigger("vttjsloaded");var e=s.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.12.4/vtt.min.js",e.onload=function(){t.trigger("vttjsloaded")},e.onerror=function(){t.trigger("vttjserror")},this.on("dispose",(function(){e.onload=null,e.onerror=null})),r.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)},e.prototype.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},r=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",r),this.addWebVttScript_();var s=function(){return t.trigger("texttrackchange")},o=function(){s();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",s),"showing"===i.mode&&i.addEventListener("cuechange",s)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",(function(){i.off("addtrack",n),i.off("removetrack",r),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){var a=e[t];a.removeEventListener("cuechange",s)}}))},e.prototype.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return _i(this,t,e,i)},e.prototype.createRemoteTextTrack=function(t){var e=Ae(t,{tech:this});return new Ai.remoteTextEl.TrackClass(e)},e.prototype.addRemoteTextTrack=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],n=this.createRemoteTextTrack(e);return!0!==i&&!1!==i&&($.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),i=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==i&&this.ready((function(){return t.autoRemoteTextTracks_.addTrack(n.track)})),n},e.prototype.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},e.prototype.getVideoPlaybackQuality=function(){return{}},e.prototype.setPoster=function(){},e.prototype.playsinline=function(){},e.prototype.setPlaysinline=function(){},e.prototype.canPlayType=function(){return""},e.canPlayType=function(){return""},e.canPlaySource=function(t,i){return e.canPlayType(t.type)},e.isTech=function(t){return t.prototype instanceof e||t instanceof e||t===e},e.registerTech=function(t,i){if(e.techs_||(e.techs_={}),!e.isTech(i))throw new Error("Tech "+t+" must be a Tech");if(!e.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!e.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=me(t),e.techs_[t]=i,"Tech"!==t&&e.defaultTechOrder_.push(t),i},e.getTech=function(t){if(t)return t=me(t),e.techs_&&e.techs_[t]?e.techs_[t]:r&&r.videojs&&r.videojs[t]?($.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),r.videojs[t]):void 0},e}(ye);yi.names.forEach((function(t){var e=yi[t];bi.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}})),bi.prototype.featuresVolumeControl=!0,bi.prototype.featuresMuteControl=!0,bi.prototype.featuresFullscreenResize=!1,bi.prototype.featuresPlaybackRate=!1,bi.prototype.featuresProgressEvents=!1,bi.prototype.featuresSourceset=!1,bi.prototype.featuresTimeupdateEvents=!1,bi.prototype.featuresNativeTextTracks=!1,bi.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i=t.sourceHandlers||[],n=void 0,r=0;r<i.length;r++)if(n=i[r].canPlayType(e),n)return n;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],r=void 0,s=0;s<n.length;s++)if(r=n[s].canHandleSource(e,i),r)return n[s];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};var e=["seekable","seeking","duration"];e.forEach((function(t){var e=this[t];"function"===typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})}),t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:$.error("No source hander found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},ye.registerComponent("Tech",bi),bi.registerTech("Tech",bi),bi.defaultTechOrder_=[];var wi={},xi={},Ci={};function Ei(t,e){wi[t]=wi[t]||[],wi[t].push(e)}function Si(t,e,i){t.setTimeout((function(){return Ni(e,wi[e.type],i,t)}),1)}function Ii(t,e){t.forEach((function(t){return t.setTech&&t.setTech(e)}))}function Ti(t,e,i){return t.reduceRight(Pi(i),e[i]())}function Mi(t,e,i,n){return e[i](t.reduce(Pi(i),n))}function Bi(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r="call"+me(i),s=t.reduce(Pi(r),n),o=s===Ci,a=o?null:e[i](s);return Di(t,i,a,o),a}var ki={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},Li={setCurrentTime:1},Ri={play:1,pause:1};function Pi(t){return function(e,i){return e===Ci?Ci:i[t]?i[t](e):e}}function Di(t,e,i,n){for(var r=t.length-1;r>=0;r--){var s=t[r];s[e]&&s[e](n,i)}}function Oi(t){xi[t.id()]=null}function Fi(t,e){var i=xi[t.id()],n=null;if(void 0===i||null===i)return n=e(t),xi[t.id()]=[[e,n]],n;for(var r=0;r<i.length;r++){var s=i[r],o=s[0],a=s[1];o===e&&(n=a)}return null===n&&(n=e(t),i.push([e,n])),n}function Ni(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments[2],n=arguments[3],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=e[0],a=e.slice(1);if("string"===typeof o)Ni(t,wi[o],i,n,r,s);else if(o){var l=Fi(n,o);if(!l.setSource)return r.push(l),Ni(t,a,i,n,r,s);l.setSource(z({},t),(function(e,o){if(e)return Ni(t,a,i,n,r,s);r.push(l),Ni(o,t.type===o.type?a:wi[o.type],i,n,r,s)}))}else a.length?Ni(t,a,i,n,r,s):s?i(t,r):Ni(t,wi["*"],i,n,r,!0)}var Qi={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},Hi=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=ri(t),i=Qi[e.toLowerCase()];return i||""},Ui=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter((function(t){return t.src===e}));if(i.length)return i[0].type;for(var n=t.$$("source"),r=0;r<n.length;r++){var s=n[r];if(s.type&&s.src&&s.src===e)return s.type}return Hi(e)},Gi=function t(e){if(Array.isArray(e)){var i=[];e.forEach((function(e){e=t(e),Array.isArray(e)?i=i.concat(e):j(e)&&i.push(e)})),e=i}else e="string"===typeof e&&e.trim()?[zi({src:e})]:j(e)&&"string"===typeof e.src&&e.src&&e.src.trim()?[zi(e)]:[];return e};function zi(t){var e=Hi(t.src);return!t.type&&e&&(t.type=e),t}var ji=function(t){function e(i,n,r){D(this,e);var s=Ae({createEl:!1},n),o=F(this,t.call(this,i,s,r));if(n.playerOptions.sources&&0!==n.playerOptions.sources.length)i.src(n.playerOptions.sources);else for(var a=0,l=n.playerOptions.techOrder;a<l.length;a++){var c=me(l[a]),u=bi.getTech(c);if(c||(u=ye.getComponent(c)),u&&u.isSupported()){i.loadTech_(c);break}}return o}return O(e,t),e}(ye);ye.registerComponent("MediaLoader",ji);var Vi=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.emitTapEvents(),r.enable(),r}return O(e,t),e.prototype.createEl=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};i=z({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===e&&$.error("Creating a ClickableComponent with an HTML element of "+e+" is not supported; use a Button instead."),n=z({role:"button"},n),this.tabIndex_=i.tabIndex;var r=t.prototype.createEl.call(this,e,i,n);return this.createControlTextEl(r),r},e.prototype.dispose=function(){this.controlTextEl_=null,t.prototype.dispose.call(this)},e.prototype.createControlTextEl=function(t){return this.controlTextEl_=ot("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.el();if(void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,at(this.controlTextEl_,i),this.nonIconControl||e.setAttribute("title",i)},e.prototype.buildCSSClass=function(){return"vjs-control vjs-button "+t.prototype.buildCSSClass.call(this)},e.prototype.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),"undefined"!==typeof this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},e.prototype.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),"undefined"!==typeof this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},e.prototype.handleClick=function(t){},e.prototype.handleFocus=function(t){jt(s,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.trigger("click")):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e.prototype.handleBlur=function(t){Vt(s,"keydown",ee(this,this.handleKeyPress))},e}(ye);ye.registerComponent("ClickableComponent",Vi);var Wi=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.update(),i.on("posterchange",ee(r,r.update)),r}return O(e,t),e.prototype.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var t=ot("div",{className:"vjs-poster",tabIndex:-1});return L||(this.fallbackImg_=ot("img"),t.appendChild(this.fallbackImg_)),t},e.prototype.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},e.prototype.setSrc=function(t){if(this.fallbackImg_)this.fallbackImg_.src=t;else{var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e}},e.prototype.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?Pe(this.player_.play()):this.player_.pause())},e}(Vi);ye.registerComponent("PosterImage",Wi);var qi="#222",Yi="#ccc",$i={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function Ji(t,e){var i=void 0;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Xi(t,e,i){try{t.style[e]=i}catch(n){return}}var Ki=function(t){function e(i,n,s){D(this,e);var o=F(this,t.call(this,i,n,s)),a=ee(o,o.updateDisplay);return i.on("loadstart",ee(o,o.toggleDisplay)),i.on("texttrackchange",a),i.on("loadstart",ee(o,o.preselectTrack)),i.ready(ee(o,(function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",a),i.on("playerresize",a),r.addEventListener&&r.addEventListener("orientationchange",a),i.on("dispose",(function(){return r.removeEventListener("orientationchange",a)}));for(var t=this.options_.playerOptions.tracks||[],e=0;e<t.length;e++)this.player_.addRemoteTextTrack(t[e],!0);this.preselectTrack()}}))),o}return O(e,t),e.prototype.preselectTrack=function(){for(var t={captions:1,subtitles:1},e=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage,n=void 0,r=void 0,s=void 0,o=0;o<e.length;o++){var a=e[o];i&&i.enabled&&i.language===a.language?a.kind===i.kind?s=a:s||(s=a):i&&!i.enabled?(s=null,n=null,r=null):a["default"]&&("descriptions"!==a.kind||n?a.kind in t&&!r&&(r=a):n=a)}s?s.mode="showing":r?r.mode="showing":n&&(n.mode="showing")},e.prototype.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},e.prototype.clearDisplay=function(){"function"===typeof r.WebVTT&&r.WebVTT.processCues(r,[],this.el_)},e.prototype.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();var e=null,i=null,n=t.length;while(n--){var r=t[n];"showing"===r.mode&&("descriptions"===r.kind?e=r:i=r)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},e.prototype.updateForTrack=function(t){if("function"===typeof r.WebVTT&&t.activeCues){for(var e=[],i=0;i<t.activeCues.length;i++)e.push(t.activeCues[i]);if(r.WebVTT.processCues(r,e,this.el_),this.player_.textTrackSettings){var n=this.player_.textTrackSettings.getValues(),s=e.length;while(s--){var o=e[s];if(o){var a=o.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&Xi(a.firstChild,"color",Ji(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Xi(a.firstChild,"backgroundColor",Ji(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Xi(a,"backgroundColor",Ji(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&("dropshadow"===n.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px "+qi+", 2px 2px 4px "+qi+", 2px 2px 5px "+qi:"raised"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px "+qi+", 2px 2px "+qi+", 3px 3px "+qi:"depressed"===n.edgeStyle?a.firstChild.style.textShadow="1px 1px "+Yi+", 0 1px "+Yi+", -1px -1px "+qi+", 0 -1px "+qi:"uniform"===n.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px "+qi+", 0 0 4px "+qi+", 0 0 4px "+qi+", 0 0 4px "+qi)),n.fontPercent&&1!==n.fontPercent){var l=r.parseFloat(a.style.fontSize);a.style.fontSize=l*n.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}n.fontFamily&&"default"!==n.fontFamily&&("small-caps"===n.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=$i[n.fontFamily])}}}}},e}(ye);ye.registerComponent("TextTrackDisplay",Ki);var Zi=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=ot("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),r=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(n),r},e}(ye);ye.registerComponent("LoadingSpinner",Zi);var tn=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t="button",e=z({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=z({type:"button"},i);var n=ye.prototype.createEl.call(this,t,e,i);return this.createControlTextEl(n),n},e.prototype.addChild=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.constructor.name;return $.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),ye.prototype.addChild.call(this,t,e)},e.prototype.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},e.prototype.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},e.prototype.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(Vi);ye.registerComponent("Button",tn);var en=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.mouseused_=!1,r.on("mousedown",r.handleMouseDown),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-big-play-button"},e.prototype.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)Pe(e);else{var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(n){var r=function(){return n.focus()};Re(e)?e.then(r,(function(){})):this.setTimeout(r,1)}else this.player_.focus()}},e.prototype.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},e.prototype.handleMouseDown=function(t){this.mouseused_=!0},e}(tn);en.prototype.controlText_="Play Video",ye.registerComponent("BigPlayButton",en);var nn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.controlText(n&&n.controlText||r.localize("Close")),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(tn);ye.registerComponent("CloseButton",nn);var rn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on(i,"play",r.handlePlay),r.on(i,"pause",r.handlePause),r.on(i,"ended",r.handleEnded),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},e.prototype.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},e.prototype.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},e.prototype.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(tn);rn.prototype.controlText_="Play",ye.registerComponent("PlayToggle",rn);var sn=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),r=Math.floor(t/3600),s=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=n=i="-"),r=r>0||o>0?r+":":"",n=((r||s>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,r+n+i},on=sn;function an(t){on=t}function ln(){on=sn}var cn=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return on(t,e)},un=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.throttledUpdateContent=ie(ee(r,r.updateContent),25),r.on(i,"timeupdate",r.throttledUpdateContent),r}return O(e,t),e.prototype.createEl=function(e){var i=this.buildCSSClass(),n=t.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text">'+this.localize(this.labelText_)+" </span>"});return this.contentEl_=ot("span",{className:i+"-display"},{"aria-live":"off"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},e.prototype.dispose=function(){this.contentEl_=null,this.textNode_=null,t.prototype.dispose.call(this)},e.prototype.updateTextNode_=function(){if(this.contentEl_){while(this.contentEl_.firstChild)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=s.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},e.prototype.formatTime_=function(t){return cn(t)},e.prototype.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},e.prototype.updateContent=function(t){},e}(ye);un.prototype.labelText_="Time",un.prototype.controlText_="Time",ye.registerComponent("TimeDisplay",un);var hn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on(i,"ended",r.handleEnded),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-current-time"},e.prototype.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(un);hn.prototype.labelText_="Current Time",hn.prototype.controlText_="Current Time",ye.registerComponent("CurrentTimeDisplay",hn);var dn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on(i,"durationchange",r.updateContent),r.on(i,"loadedmetadata",r.throttledUpdateContent),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-duration"},e.prototype.updateContent=function(t){var e=this.player_.duration();e&&this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(un);dn.prototype.labelText_="Duration",dn.prototype.controlText_="Duration",ye.registerComponent("DurationDisplay",dn);var pn=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"})},e}(ye);ye.registerComponent("TimeDivider",pn);var fn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on(i,"durationchange",r.throttledUpdateContent),r.on(i,"ended",r.handleEnded),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-remaining-time"},e.prototype.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},e.prototype.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},e.prototype.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(un);fn.prototype.labelText_="Remaining Time",fn.prototype.controlText_="Remaining Time",ye.registerComponent("RemainingTimeDisplay",fn);var gn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.updateShowing(),r.on(r.player(),"durationchange",r.updateShowing),r}return O(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=ot("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+" </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(ye);ye.registerComponent("LiveDisplay",gn);var mn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.bar=r.getChild(r.options_.barName),r.vertical(!!r.options_.vertical),r.enable(),r}return O(e,t),e.prototype.enabled=function(){return this.enabled_},e.prototype.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},e.prototype.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},e.prototype.createEl=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return i.className=i.className+" vjs-slider",i=z({tabIndex:0},i),n=z({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},e.prototype.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||E||t.preventDefault(),At(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},e.prototype.handleMouseMove=function(t){},e.prototype.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;yt(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},e.prototype.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!==typeof t||t!==t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%",n=e.el().style;return this.vertical()?n.height=i:n.width=i,t}}},e.prototype.calculateDistance=function(t){var e=wt(this.el_,t);return this.vertical()?e.y:e.x},e.prototype.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},e.prototype.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},e.prototype.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},e.prototype.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(ye);ye.registerComponent("Slider",mn);var vn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.partEls_=[],r.on(i,"progress",r.update),r}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+"</span>: 0%</span>"})},e.prototype.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},e.prototype.update=function(t){var e=this.player_.buffered(),i=this.player_.duration(),n=this.player_.bufferedEnd(),r=this.partEls_,s=function(t,e){var i=t/e||0;return 100*(i>=1?1:i)+"%"};this.el_.style.width=s(n,i);for(var o=0;o<e.length;o++){var a=e.start(o),l=e.end(o),c=r[o];c||(c=this.el_.appendChild(ot()),r[o]=c),c.style.left=s(a,n),c.style.width=s(l-a,n)}for(var u=r.length;u>e.length;u--)this.el_.removeChild(r[u-1]);r.length=e.length},e}(ye);ye.registerComponent("LoadProgressBar",vn);var An=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"})},e.prototype.update=function(t,e,i){var n=_t(this.el_),r=_t(this.player_.el()),s=t.width*e;if(r&&n){var o=t.left-r.left+s,a=t.width-s+(r.right-t.right),l=n.width/2;o<l?l+=l-o:a<l&&(l=a),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",at(this.el_,i)}},e}(ye);ye.registerComponent("TimeTooltip",An);var yn=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Progress")+"</span>: 0%</span>"})},e.prototype.update=function(t,e){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var n=i.player_.scrubbing()?i.player_.getCache().currentTime:i.player_.currentTime(),r=cn(n,i.player_.duration()),s=i.getChild("timeTooltip");s&&s.update(t,e,r)}))},e}(ye);yn.prototype.options_={children:[]},T&&!(T>8)||v||y||yn.prototype.options_.children.push("timeTooltip"),ye.registerComponent("PlayProgressBar",yn);var _n=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.update=ie(ee(r,r.update),25),r}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},e.prototype.update=function(t,e){var i=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame((function(){var n=i.player_.duration(),r=cn(e*n,n);i.el_.style.left=t.width*e+"px",i.getChild("timeTooltip").update(t,e,r)}))},e}(ye);_n.prototype.options_={children:["timeTooltip"]},ye.registerComponent("MouseTimeDisplay",_n);var bn=5,wn=30,xn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.setEventHandlers_(),r}return O(e,t),e.prototype.setEventHandlers_=function(){var t=this;this.update=ie(ee(this,this.update),wn),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.updateInterval=null,this.on(this.player_,["playing"],(function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval((function(){t.requestAnimationFrame((function(){t.update()}))}),wn)})),this.on(this.player_,["ended","pause","waiting"],(function(){t.clearInterval(t.updateInterval)})),this.on(this.player_,["timeupdate","ended"],this.update)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},e.prototype.update_=function(t,e){var i=this.player_.duration();this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[cn(t,i),cn(i,i)],"{1} of {2}")),this.bar.update(_t(this.el_),e)},e.prototype.update=function(e){var i=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),i),i},e.prototype.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},e.prototype.handleEnded=function(t){this.update_(this.player_.duration(),1)},e.prototype.getPercent=function(){var t=this.getCurrentTime_()/this.player_.duration();return t>=1?1:t},e.prototype.handleMouseDown=function(e){Tt(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},e.prototype.handleMouseMove=function(t){if(Tt(t)){var e=this.calculateDistance(t)*this.player_.duration();e===this.player_.duration()&&(e-=.1),this.player_.currentTime(e)}},e.prototype.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},e.prototype.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},e.prototype.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&Pe(this.player_.play())},e.prototype.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+bn)},e.prototype.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-bn)},e.prototype.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},e.prototype.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(mn);xn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},T&&!(T>8)||v||y||xn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),xn.prototype.playerEvent="timeupdate",ye.registerComponent("SeekBar",xn);var Cn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.handleMouseMove=ie(ee(r,r.handleMouseMove),25),r.throttledHandleMouseSeek=ie(ee(r,r.handleMouseSeek),25),r.enable(),r}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},e.prototype.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("mouseTimeDisplay"),n=e.el(),r=_t(n),s=wt(n,t).x;s>1?s=1:s<0&&(s=0),i&&i.update(r,s)}},e.prototype.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},e.prototype.enabled=function(){return this.enabled_},e.prototype.disable=function(){this.children().forEach((function(t){return t.disable&&t.disable()})),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},e.prototype.enable=function(){this.children().forEach((function(t){return t.enable&&t.enable()})),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(ye);Cn.prototype.options_={children:["seekBar"]},ye.registerComponent("ProgressControl",Cn);var En=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on(i,"fullscreenchange",r.handleFullscreenChange),!1===s[Ee.fullscreenEnabled]&&r.disable(),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-fullscreen-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},e.prototype.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},e}(tn);En.prototype.controlText_="Fullscreen",ye.registerComponent("FullscreenToggle",En);var Sn=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},In=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(ye);ye.registerComponent("VolumeLevel",In);var Tn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on("slideractive",r.updateLastVolume_),r.on(i,"volumechange",r.updateARIAAttributes),i.ready((function(){return r.updateARIAAttributes()})),r}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},e.prototype.handleMouseDown=function(e){Tt(e)&&t.prototype.handleMouseDown.call(this,e)},e.prototype.handleMouseMove=function(t){Tt(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},e.prototype.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},e.prototype.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},e.prototype.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},e.prototype.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},e.prototype.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},e.prototype.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},e.prototype.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",(function(){0===t.player_.volume()&&t.player_.lastVolume_(e)}))},e}(mn);Tn.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},Tn.prototype.playerEvent="volumechange",ye.registerComponent("VolumeBar",Tn);var Mn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),n.vertical=n.vertical||!1,("undefined"===typeof n.volumeBar||V(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical);var r=F(this,t.call(this,i,n));return Sn(r,i),r.throttledHandleMouseMove=ie(ee(r,r.handleMouseMove),25),r.on("mousedown",r.handleMouseDown),r.on("touchstart",r.handleMouseDown),r.on(r.volumeBar,["focus","slideractive"],(function(){r.volumeBar.addClass("vjs-slider-active"),r.addClass("vjs-slider-active"),r.trigger("slideractive")})),r.on(r.volumeBar,["blur","sliderinactive"],(function(){r.volumeBar.removeClass("vjs-slider-active"),r.removeClass("vjs-slider-active"),r.trigger("sliderinactive")})),r}return O(e,t),e.prototype.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},e.prototype.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e.prototype.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(ye);Mn.prototype.options_={children:["volumeBar"]},ye.registerComponent("VolumeControl",Mn);var Bn=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",(function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")}))},kn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return Bn(r,i),r.on(i,["loadstart","volumechange"],r.update),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},e.prototype.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},e.prototype.update=function(t){this.updateIcon_(),this.updateControlText_()},e.prototype.updateIcon_=function(){var t=this.player_.volume(),e=3;v&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)ht(this.el_,"vjs-vol-"+i);ut(this.el_,"vjs-vol-"+e)},e.prototype.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume(),e=t?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)},e}(tn);kn.prototype.controlText_="Mute",ye.registerComponent("MuteToggle",kn);var Ln=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e),"undefined"!==typeof n.inline?n.inline=n.inline:n.inline=!0,("undefined"===typeof n.volumeControl||V(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline);var r=F(this,t.call(this,i,n));return r.on(i,["loadstart"],r.volumePanelState_),r.on(r.volumeControl,["slideractive"],r.sliderActive_),r.on(r.volumeControl,["sliderinactive"],r.sliderInactive_),r}return O(e,t),e.prototype.sliderActive_=function(){this.addClass("vjs-slider-active")},e.prototype.sliderInactive_=function(){this.removeClass("vjs-slider-active")},e.prototype.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},e.prototype.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(ye);Ln.prototype.options_={children:["muteToggle","volumeControl"]},ye.registerComponent("VolumePanel",Ln);var Rn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return n&&(r.menuButton_=n.menuButton),r.focusedChild_=-1,r.on("keydown",r.handleKeyPress),r}return O(e,t),e.prototype.addItem=function(t){this.addChild(t),t.on("click",ee(this,(function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())})))},e.prototype.createEl=function(){var e=this.options_.contentElType||"ul";this.contentEl_=ot(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=t.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),jt(i,"click",(function(t){t.preventDefault(),t.stopImmediatePropagation()})),i},e.prototype.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},e.prototype.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},e.prototype.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},e.prototype.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},e.prototype.focus=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=this.children().slice(),i=e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className);i&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},e}(ye);ye.registerComponent("Menu",Rn);var Pn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e);var r=F(this,t.call(this,i,n));r.menuButton_=new tn(i,n),r.menuButton_.controlText(r.controlText_),r.menuButton_.el_.setAttribute("aria-haspopup","true");var s=tn.prototype.buildCSSClass();return r.menuButton_.el_.className=r.buildCSSClass()+" "+s,r.menuButton_.removeClass("vjs-control"),r.addChild(r.menuButton_),r.update(),r.enabled_=!0,r.on(r.menuButton_,"tap",r.handleClick),r.on(r.menuButton_,"click",r.handleClick),r.on(r.menuButton_,"focus",r.handleFocus),r.on(r.menuButton_,"blur",r.handleBlur),r.on("keydown",r.handleSubmenuKeyPress),r}return O(e,t),e.prototype.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},e.prototype.createMenu=function(){var t=new Rn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=ot("li",{className:"vjs-menu-title",innerHTML:me(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),lt(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},e.prototype.createItems=function(){},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},e.prototype.buildWrapperCSSClass=function(){var e="vjs-menu-button";!0===this.options_.inline?e+="-inline":e+="-popup";var i=tn.prototype.buildCSSClass();return"vjs-menu-button "+e+" "+i+" "+t.prototype.buildCSSClass.call(this)},e.prototype.buildCSSClass=function(){var e="vjs-menu-button";return!0===this.options_.inline?e+="-inline":e+="-popup","vjs-menu-button "+e+" "+t.prototype.buildCSSClass.call(this)},e.prototype.controlText=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.menuButton_.el();return this.menuButton_.controlText(t,e)},e.prototype.handleClick=function(t){this.one(this.menu.contentEl(),"mouseleave",ee(this,(function(t){this.unpressButton(),this.el_.blur()}))),this.buttonPressed_?this.unpressButton():this.pressButton()},e.prototype.focus=function(){this.menuButton_.focus()},e.prototype.blur=function(){this.menuButton_.blur()},e.prototype.handleFocus=function(){jt(s,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleBlur=function(){Vt(s,"keydown",ee(this,this.handleKeyPress))},e.prototype.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},e.prototype.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},e.prototype.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),v&&rt())return;this.menu.focus()}},e.prototype.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},e.prototype.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},e.prototype.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},e}(ye);ye.registerComponent("MenuButton",Pn);var Dn=function(t){function e(i,n){D(this,e);var r=n.tracks,s=F(this,t.call(this,i,n));if(s.items.length<=1&&s.hide(),!r)return F(s);var o=ee(s,s.update);return r.addEventListener("removetrack",o),r.addEventListener("addtrack",o),s.player_.on("ready",o),s.player_.on("dispose",(function(){r.removeEventListener("removetrack",o),r.removeEventListener("addtrack",o)})),s}return O(e,t),e}(Pn);ye.registerComponent("TrackButton",Dn);var On=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.selectable=n.selectable,r.isSelected_=n.selected||!1,r.multiSelectable=n.multiSelectable,r.selected(r.isSelected_),r.selectable?r.multiSelectable?r.el_.setAttribute("role","menuitemcheckbox"):r.el_.setAttribute("role","menuitemradio"):r.el_.setAttribute("role","menuitem"),r}return O(e,t),e.prototype.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",z({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},e.prototype.handleClick=function(t){this.selected(!0)},e.prototype.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(Vi);ye.registerComponent("MenuItem",On);var Fn=function(t){function e(i,n){D(this,e);var o=n.track,a=i.textTracks();n.label=o.label||o.language||"Unknown",n.selected="showing"===o.mode;var l=F(this,t.call(this,i,n));l.track=o;var c=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];l.handleTracksChange.apply(l,e)},u=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];l.handleSelectedLanguageChange.apply(l,e)};if(i.on(["loadstart","texttrackchange"],c),a.addEventListener("change",c),a.addEventListener("selectedlanguagechange",u),l.on("dispose",(function(){i.off(["loadstart","texttrackchange"],c),a.removeEventListener("change",c),a.removeEventListener("selectedlanguagechange",u)})),void 0===a.onchange){var h=void 0;l.on(["tap","click"],(function(){if("object"!==P(r.Event))try{h=new r.Event("change")}catch(t){}h||(h=s.createEvent("Event"),h.initEvent("change",!0,!0)),a.dispatchEvent(h)}))}return l.handleTracksChange(),l}return O(e,t),e.prototype.handleClick=function(e){var i=this.track.kind,n=this.track.kinds,r=this.player_.textTracks();if(n||(n=[i]),t.prototype.handleClick.call(this,e),r)for(var s=0;s<r.length;s++){var o=r[s];o===this.track&&n.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},e.prototype.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},e.prototype.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},e.prototype.dispose=function(){this.track=null,t.prototype.dispose.call(this)},e}(On);ye.registerComponent("TextTrackMenuItem",Fn);var Nn=function(t){function e(i,n){return D(this,e),n.track={player:i,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,F(this,t.call(this,i,n))}return O(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(this.options_.kinds.indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},e.prototype.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,r=e.length;n<r;n++){var s=e[n];if(["captions","descriptions","subtitles"].indexOf(s.kind)>-1&&"showing"===s.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(Fn);ye.registerComponent("OffTextTrackMenuItem",Nn);var Qn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(this,e),n.tracks=i.textTracks(),F(this,t.call(this,i,n))}return O(e,t),e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Fn,i=void 0;this.label_&&(i=this.label_+" off"),t.push(new Nn(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var r=0;r<n.length;r++){var s=n[r];if(this.kinds_.indexOf(s.kind)>-1){var o=new e(this.player_,{track:s,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+s.kind+"-menu-item"),t.push(o)}}return t},e}(Dn);ye.registerComponent("TextTrackButton",Qn);var Hn=function(t){function e(i,n){D(this,e);var r=n.track,s=n.cue,o=i.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=s.text,n.selected=s.startTime<=o&&o<s.endTime;var a=F(this,t.call(this,i,n));return a.track=r,a.cue=s,r.addEventListener("cuechange",ee(a,a.update)),a}return O(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},e.prototype.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(On);ye.registerComponent("ChaptersTrackMenuItem",Hn);var Un=function(t){function e(i,n,r){return D(this,e),F(this,t.call(this,i,n,r))}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},e.prototype.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},e.prototype.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},e.prototype.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(me(this.kind_))},e.prototype.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},e.prototype.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var r=e[i],s=new Hn(this.player_,{track:this.track_,cue:r});t.push(s)}return t},e}(Qn);Un.prototype.kind_="chapters",Un.prototype.controlText_="Chapters",ye.registerComponent("ChaptersButton",Un);var Gn=function(t){function e(i,n,r){D(this,e);var s=F(this,t.call(this,i,n,r)),o=i.textTracks(),a=ee(s,s.handleTracksChange);return o.addEventListener("change",a),s.on("dispose",(function(){o.removeEventListener("change",a)})),s}return O(e,t),e.prototype.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,r=e.length;n<r;n++){var s=e[n];if(s.kind!==this.kind_&&"showing"===s.mode){i=!0;break}}i?this.disable():this.enable()},e.prototype.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Qn);Gn.prototype.kind_="descriptions",Gn.prototype.controlText_="Descriptions",ye.registerComponent("DescriptionsButton",Gn);var zn=function(t){function e(i,n,r){return D(this,e),F(this,t.call(this,i,n,r))}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(Qn);zn.prototype.kind_="subtitles",zn.prototype.controlText_="Subtitles",ye.registerComponent("SubtitlesButton",zn);var jn=function(t){function e(i,n){D(this,e),n.track={player:i,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem";var r=F(this,t.call(this,i,n));return r.addClass("vjs-texttrack-settings"),r.controlText(", opens "+n.kind+" settings dialog"),r}return O(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(Fn);ye.registerComponent("CaptionSettingsMenuItem",jn);var Vn=function(t){function e(i,n,r){return D(this,e),F(this,t.call(this,i,n,r))}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new jn(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(Qn);Vn.prototype.kind_="captions",Vn.prototype.controlText_="Captions",ye.registerComponent("CaptionsButton",Vn);var Wn=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"captions"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),r+="</span>";var s=t.prototype.createEl.call(this,e,z({innerHTML:r},i),n);return s},e}(Fn);ye.registerComponent("SubsCapsMenuItem",Wn);var qn=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};D(this,e);var r=F(this,t.call(this,i,n));return r.label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(r.player_.language_)>-1&&(r.label_="captions"),r.menuButton_.controlText(me(r.label_)),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new jn(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,Wn),e},e}(Qn);qn.prototype.kinds_=["captions","subtitles"],qn.prototype.controlText_="Subtitles",ye.registerComponent("SubsCapsButton",qn);var Yn=function(t){function e(i,n){D(this,e);var r=n.track,s=i.audioTracks();n.label=r.label||r.language||"Unknown",n.selected=r.enabled;var o=F(this,t.call(this,i,n));o.track=r,o.addClass("vjs-"+r.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=Array(t),i=0;i<t;i++)e[i]=arguments[i];o.handleTracksChange.apply(o,e)};return s.addEventListener("change",a),o.on("dispose",(function(){s.removeEventListener("change",a)})),o}return O(e,t),e.prototype.createEl=function(e,i,n){var r='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);"main-desc"===this.options_.track.kind&&(r+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),r+="</span>";var s=t.prototype.createEl.call(this,e,z({innerHTML:r},i),n);return s},e.prototype.handleClick=function(e){var i=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<i.length;n++){var r=i[n];r.enabled=r===this.track}},e.prototype.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(On);ye.registerComponent("AudioTrackMenuItem",Yn);var $n=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return D(this,e),n.tracks=i.audioTracks(),F(this,t.call(this,i,n))}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createItems=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new Yn(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(Dn);$n.prototype.controlText_="Audio Track",ye.registerComponent("AudioTrackButton",$n);var Jn=function(t){function e(i,n){D(this,e);var r=n.rate,s=parseFloat(r,10);n.label=r,n.selected=1===s,n.selectable=!0,n.multiSelectable=!1;var o=F(this,t.call(this,i,n));return o.label=r,o.rate=s,o.on(i,"ratechange",o.update),o}return O(e,t),e.prototype.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},e.prototype.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(On);Jn.prototype.contentElType="button",ye.registerComponent("PlaybackRateMenuItem",Jn);var Xn=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.updateVisibility(),r.updateLabel(),r.on(i,"loadstart",r.updateVisibility),r.on(i,"ratechange",r.updateLabel),r}return O(e,t),e.prototype.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=ot("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},e.prototype.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},e.prototype.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},e.prototype.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},e.prototype.createMenu=function(){var t=new Rn(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new Jn(this.player(),{rate:e[i]+"x"}));return t},e.prototype.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},e.prototype.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],r=0;r<i.length;r++)if(i[r]>e){n=i[r];break}this.player().playbackRate(n)},e.prototype.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},e.prototype.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},e.prototype.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},e.prototype.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Pn);Xn.prototype.controlText_="Playback Rate",ye.registerComponent("PlaybackRateMenuButton",Xn);var Kn=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(ye);ye.registerComponent("Spacer",Kn);var Zn=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},e.prototype.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML=" ",e},e}(Kn);ye.registerComponent("CustomControlSpacer",Zn);var tr=function(t){function e(){return D(this,e),F(this,t.apply(this,arguments))}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(ye);tr.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},ye.registerComponent("ControlBar",tr);var er=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n));return r.on(i,"error",r.open),r}return O(e,t),e.prototype.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},e.prototype.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(Ue);er.prototype.options_=Ae(Ue.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),ye.registerComponent("ErrorDisplay",er);var ir="vjs-text-track-settings",nr=["#000","Black"],rr=["#00F","Blue"],sr=["#0FF","Cyan"],or=["#0F0","Green"],ar=["#F0F","Magenta"],lr=["#F00","Red"],cr=["#FFF","White"],ur=["#FF0","Yellow"],hr=["1","Opaque"],dr=["0.5","Semi-Transparent"],pr=["0","Transparent"],fr={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[nr,cr,lr,or,rr,ur,ar,sr]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[hr,dr,pr]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[cr,nr,lr,or,rr,ur,ar,sr]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[hr,dr]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[pr,dr,hr]}};function gr(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}function mr(t,e){var i=t.options[t.options.selectedIndex].value;return gr(i,e)}function vr(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(gr(t.options[n].value,i)===e){t.selectedIndex=n;break}}fr.windowColor.options=fr.backgroundColor.options;var Ar=function(t){function e(i,n){D(this,e),n.temporary=!1;var r=F(this,t.call(this,i,n));return r.updateDisplay=ee(r,r.updateDisplay),r.fill(),r.hasBeenOpened_=r.hasBeenFilled_=!0,r.endDialog=ot("p",{className:"vjs-control-text",textContent:r.localize("End of dialog window.")}),r.el().appendChild(r.endDialog),r.setDefaults(),void 0===n.persistTextTrackSettings&&(r.options_.persistTextTrackSettings=r.options_.playerOptions.persistTextTrackSettings),r.on(r.$(".vjs-done-button"),"click",(function(){r.saveSettings(),r.close()})),r.on(r.$(".vjs-default-button"),"click",(function(){r.setDefaults(),r.updateDisplay()})),U(fr,(function(t){r.on(r.$(t.selector),"change",r.updateDisplay)})),r.options_.persistTextTrackSettings&&r.restoreSettings(),r}return O(e,t),e.prototype.dispose=function(){this.endDialog=null,t.prototype.dispose.call(this)},e.prototype.createElSelect_=function(t){var e=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"label",r=fr[t],s=r.id.replace("%s",this.id_),o=[i,s].join(" ").trim();return["<"+n+' id="'+s+'" class="'+("label"===n?"vjs-label":"")+'">',this.localize(r.label),"</"+n+">",'<select aria-labelledby="'+o+'">'].concat(r.options.map((function(t){var i=s+"-"+t[1].replace(/\W+/g,"");return['<option id="'+i+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+i+'">',e.localize(t[1]),"</option>"].join("")}))).concat("</select>").join("")},e.prototype.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},e.prototype.createElColors_=function(){return ot("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},e.prototype.createElFont_=function(){return ot("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},e.prototype.createElControls_=function(){var t=this.localize("restore all settings to the default values");return ot("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},e.prototype.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},e.prototype.label=function(){return this.localize("Caption Settings Dialog")},e.prototype.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},e.prototype.buildCSSClass=function(){return t.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},e.prototype.getValues=function(){var t=this;return G(fr,(function(e,i,n){var r=mr(t.$(i.selector),i.parser);return void 0!==r&&(e[n]=r),e}),{})},e.prototype.setValues=function(t){var e=this;U(fr,(function(i,n){vr(e.$(i.selector),t[n],i.parser)}))},e.prototype.setDefaults=function(){var t=this;U(fr,(function(e){var i=e.hasOwnProperty("default")?e["default"]:0;t.$(e.selector).selectedIndex=i}))},e.prototype.restoreSettings=function(){var t=void 0;try{t=JSON.parse(r.localStorage.getItem(ir))}catch(e){$.warn(e)}t&&this.setValues(t)},e.prototype.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?r.localStorage.setItem(ir,JSON.stringify(t)):r.localStorage.removeItem(ir)}catch(e){$.warn(e)}}},e.prototype.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},e.prototype.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(s,"keydown",this.handleKeyDown);var t=this.player_.controlBar,e=t&&t.subsCapsButton,i=t&&t.captionsButton;e?e.focus():i&&i.focus()},e}(Ue);ye.registerComponent("TextTrackSettings",Ar);var yr=function(t){function e(i,n){D(this,e);var s=n.ResizeObserver||r.ResizeObserver;null===n.ResizeObserver&&(s=!1);var o=Ae({createEl:!s},n),a=F(this,t.call(this,i,o));return a.ResizeObserver=n.ResizeObserver||r.ResizeObserver,a.loadListener_=null,a.resizeObserver_=null,a.debouncedHandler_=ne((function(){a.resizeHandler()}),100,!1,a),s?(a.resizeObserver_=new a.ResizeObserver(a.debouncedHandler_),a.resizeObserver_.observe(i.el())):(a.loadListener_=function(){a.el_&&a.el_.contentWindow&&jt(a.el_.contentWindow,"resize",a.debouncedHandler_)},a.one("load",a.loadListener_)),a}return O(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},e.prototype.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},e.prototype.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&Vt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},e}(ye);ye.registerComponent("ResizeManager",yr);var _r=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],r="";if(!i.length)return!1;for(var s=0;s<i.length;s++){var o=i[s].src;o&&-1===n.indexOf(o)&&n.push(o)}return!!n.length&&(1===n.length&&(r=n[0]),t.triggerSourceset(r),!0)},br={};I||(br=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(t){var e=s.createElement(this.nodeName.toLowerCase());e.innerHTML=t;var i=s.createDocumentFragment();while(e.childNodes.length)i.appendChild(e.childNodes[0]);return this.innerText="",r.Element.prototype.appendChild.call(this,i),this.innerHTML}}));var wr=function(t,e){for(var i={},n=0;n<t.length;n++)if(i=Object.getOwnPropertyDescriptor(t[n],e),i&&i.set&&i.get)break;return i.enumerable=!0,i.configurable=!0,i},xr=function(t){return wr([t.el(),r.HTMLMediaElement.prototype,r.Element.prototype,br],"innerHTML")},Cr=function(t){var e=t.el();if(!e.resetSourceWatch_){var i={},n=xr(t),r=function(i){return function(){for(var n=arguments.length,r=Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=i.apply(e,r);return _r(t),o}};["append","appendChild","insertAdjacentHTML"].forEach((function(t){e[t]&&(i[t]=e[t],e[t]=r(i[t]))})),Object.defineProperty(e,"innerHTML",Ae(n,{set:r(n.set)})),e.resetSourceWatch_=function(){e.resetSourceWatch_=null,Object.keys(i).forEach((function(t){e[t]=i[t]})),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)}},Er={};I||(Er=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?ni(r.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return r.Element.prototype.setAttribute.call(this,"src",t),t}}));var Sr=function(t){return wr([t.el(),r.HTMLMediaElement.prototype,Er],"src")},Ir=function(t){if(t.featuresSourceset){var e=t.el();if(!e.resetSourceset_){var i=Sr(t),n=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Ae(i,{set:function(n){var r=i.set.call(e,n);return t.triggerSourceset(e.src),r}})),e.setAttribute=function(i,r){var s=n.call(e,i,r);return/src/i.test(i)&&t.triggerSourceset(e.src),s},e.load=function(){var i=r.call(e);return _r(t)||(t.triggerSourceset(""),Cr(t)),i},e.currentSrc?t.triggerSourceset(e.currentSrc):_r(t)||Cr(t),e.resetSourceset_=function(){e.resetSourceset_=null,e.load=r,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}}}},Tr=N(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."],["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]),Mr=function(t){function e(i,n){D(this,e);var r=F(this,t.call(this,i,n)),s=i.source,a=!1;if(s&&(r.el_.currentSrc!==s.src||i.tag&&3===i.tag.initNetworkState_)?r.setSource(s):r.handleLateInit_(r.el_),i.enableSourceset&&r.setupSourcesetHandling_(),r.el_.hasChildNodes()){var l=r.el_.childNodes,c=l.length,u=[];while(c--){var h=l[c],d=h.nodeName.toLowerCase();"track"===d&&(r.featuresNativeTextTracks?(r.remoteTextTrackEls().addTrackElement_(h),r.remoteTextTracks().addTrack(h.track),r.textTracks().addTrack(h.track),a||r.el_.hasAttribute("crossorigin")||!si(h.src)||(a=!0)):u.push(h))}for(var p=0;p<u.length;p++)r.el_.removeChild(u[p])}return r.proxyNativeTracks_(),r.featuresNativeTextTracks&&a&&$.warn(o(Tr)),r.restoreMetadataTracksInIOSNativePlayer_(),(k||g||w)&&!0===i.nativeControlsForTouch&&r.setControls(!0),r.proxyWebkitFullscreen_(),r.triggerReady(),r}return O(e,t),e.prototype.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),e.disposeMediaElement(this.el_),this.options_=null,t.prototype.dispose.call(this)},e.prototype.setupSourcesetHandling_=function(){Ir(this)},e.prototype.restoreMetadataTracksInIOSNativePlayer_=function(){var t=this.textTracks(),e=void 0,i=function(){e=[];for(var i=0;i<t.length;i++){var n=t[i];"metadata"===n.kind&&e.push({track:n,storedMode:n.mode})}};i(),t.addEventListener("change",i),this.on("dispose",(function(){return t.removeEventListener("change",i)}));var n=function i(){for(var n=0;n<e.length;n++){var r=e[n];"disabled"===r.track.mode&&r.track.mode!==r.storedMode&&(r.track.mode=r.storedMode)}t.removeEventListener("change",i)};this.on("webkitbeginfullscreen",(function(){t.removeEventListener("change",i),t.removeEventListener("change",n),t.addEventListener("change",n)})),this.on("webkitendfullscreen",(function(){t.removeEventListener("change",i),t.addEventListener("change",i),t.removeEventListener("change",n)}))},e.prototype.proxyNativeTracks_=function(){var t=this;vi.names.forEach((function(e){var i=vi[e],n=t.el()[i.getterName],r=t[i.getterName]();if(t["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var s={change:function(t){r.trigger({type:"change",target:r,currentTarget:r,srcElement:r})},addtrack:function(t){r.addTrack(t.track)},removetrack:function(t){r.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<r.length;e++){for(var i=!1,s=0;s<n.length;s++)if(n[s]===r[e]){i=!0;break}i||t.push(r[e])}while(t.length)r.removeTrack(t.shift())};Object.keys(s).forEach((function(e){var i=s[e];n.addEventListener(e,i),t.on("dispose",(function(t){return n.removeEventListener(e,i)}))})),t.on("loadstart",o),t.on("dispose",(function(e){return t.off("loadstart",o)}))}}))},e.prototype.createEl=function(){var t=this.options_.tag;if(!t||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(t){var i=t.cloneNode(!0);t.parentNode&&t.parentNode.insertBefore(i,t),e.disposeMediaElement(t),t=i}else{t=s.createElement("video");var n=this.options_.tag&&ft(this.options_.tag),r=Ae({},n);k&&!0===this.options_.nativeControlsForTouch||delete r.controls,pt(t,z(r,{id:this.options_.techId,class:"vjs-tech"}))}t.playerId=this.options_.playerId}"undefined"!==typeof this.options_.preload&&mt(t,"preload",this.options_.preload);for(var o=["loop","muted","playsinline","autoplay"],a=0;a<o.length;a++){var l=o[a],c=this.options_[l];"undefined"!==typeof c&&(c?mt(t,l,l):vt(t,l),t[l]=c)}return t},e.prototype.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready((function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")}))}var r=["loadstart"];r.push("loadedmetadata"),t.readyState>=2&&r.push("loadeddata"),t.readyState>=3&&r.push("canplay"),t.readyState>=4&&r.push("canplaythrough"),this.ready((function(){r.forEach((function(t){this.trigger(t)}),this)}))}},e.prototype.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(e){$(e,"Video is not ready. (Video.js)")}},e.prototype.duration=function(){var t=this;if(this.el_.duration===1/0&&y&&E&&0===this.el_.currentTime){var e=function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN},e.prototype.width=function(){return this.el_.offsetWidth},e.prototype.height=function(){return this.el_.offsetHeight},e.prototype.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",(function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)}))}},e.prototype.supportsFullScreen=function(){if("function"===typeof this.el_.webkitEnterFullScreen){var t=r.navigator&&r.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},e.prototype.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout((function(){t.pause(),t.webkitEnterFullScreen()}),0)):t.webkitEnterFullScreen()},e.prototype.exitFullScreen=function(){this.el_.webkitExitFullScreen()},e.prototype.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},e.prototype.reset=function(){e.resetMediaElement(this.el_)},e.prototype.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},e.prototype.setControls=function(t){this.el_.controls=!!t},e.prototype.addTextTrack=function(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):t.prototype.addTextTrack.call(this,e,i,n)},e.prototype.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return t.prototype.createRemoteTextTrack.call(this,e);var i=s.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e["default"]&&(i["default"]=e["default"]),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i},e.prototype.addRemoteTextTrack=function(e,i){var n=t.prototype.addRemoteTextTrack.call(this,e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},e.prototype.removeRemoteTextTrack=function(e){if(t.prototype.removeRemoteTextTrack.call(this,e),this.featuresNativeTextTracks){var i=this.$$("track"),n=i.length;while(n--)e!==i[n]&&e!==i[n].track||this.el().removeChild(i[n])}},e.prototype.getVideoPlaybackQuality=function(){if("function"===typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return"undefined"!==typeof this.el().webkitDroppedFrameCount&&"undefined"!==typeof this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),r.performance&&"function"===typeof r.performance.now?t.creationTime=r.performance.now():r.performance&&r.performance.timing&&"number"===typeof r.performance.timing.navigationStart&&(t.creationTime=r.Date.now()-r.performance.timing.navigationStart),t},e}(bi);if(it()){Mr.TEST_VID=s.createElement("video");var Br=s.createElement("track");Br.kind="captions",Br.srclang="en",Br.label="English",Mr.TEST_VID.appendChild(Br)}Mr.isSupported=function(){try{Mr.TEST_VID.volume=.5}catch(t){return!1}return!(!Mr.TEST_VID||!Mr.TEST_VID.canPlayType)},Mr.canPlayType=function(t){return Mr.TEST_VID.canPlayType(t)},Mr.canPlaySource=function(t,e){return Mr.canPlayType(t.type)},Mr.canControlVolume=function(){try{var t=Mr.TEST_VID.volume;return Mr.TEST_VID.volume=t/2+.1,t!==Mr.TEST_VID.volume}catch(e){return!1}},Mr.canMuteVolume=function(){try{var t=Mr.TEST_VID.muted;return Mr.TEST_VID.muted=!t,Mr.TEST_VID.muted?mt(Mr.TEST_VID,"muted","muted"):vt(Mr.TEST_VID,"muted","muted"),t!==Mr.TEST_VID.muted}catch(e){return!1}},Mr.canControlPlaybackRate=function(){if(y&&E&&S<58)return!1;try{var t=Mr.TEST_VID.playbackRate;return Mr.TEST_VID.playbackRate=t/2+.1,t!==Mr.TEST_VID.playbackRate}catch(e){return!1}},Mr.canOverrideAttributes=function(){if(I)return!1;try{var t=function(){};Object.defineProperty(s.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(s.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(s.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(s.createElement("audio"),"innerHTML",{get:t,set:t})}catch(e){return!1}return!0},Mr.supportsNativeTextTracks=function(){return B||v&&E},Mr.supportsNativeVideoTracks=function(){return!(!Mr.TEST_VID||!Mr.TEST_VID.videoTracks)},Mr.supportsNativeAudioTracks=function(){return!(!Mr.TEST_VID||!Mr.TEST_VID.audioTracks)},Mr.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Mr.prototype.featuresVolumeControl=Mr.canControlVolume(),Mr.prototype.featuresMuteControl=Mr.canMuteVolume(),Mr.prototype.featuresPlaybackRate=Mr.canControlPlaybackRate(),Mr.prototype.featuresSourceset=Mr.canOverrideAttributes(),Mr.prototype.movingMediaElementInDOM=!v,Mr.prototype.featuresFullscreenResize=!0,Mr.prototype.featuresProgressEvents=!0,Mr.prototype.featuresTimeupdateEvents=!0,Mr.prototype.featuresNativeTextTracks=Mr.supportsNativeTextTracks(),Mr.prototype.featuresNativeVideoTracks=Mr.supportsNativeVideoTracks(),Mr.prototype.featuresNativeAudioTracks=Mr.supportsNativeAudioTracks();var kr=Mr.TEST_VID&&Mr.TEST_VID.constructor.prototype.canPlayType,Lr=/^application\/(?:x-|vnd\.apple\.)mpegurl/i,Rr=/^video\/mp4/i;Mr.patchCanPlayType=function(){_>=4&&!x&&!E?Mr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Lr.test(t)?"maybe":kr.call(this,t)}:b&&(Mr.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&Rr.test(t)?"maybe":kr.call(this,t)})},Mr.unpatchCanPlayType=function(){var t=Mr.TEST_VID.constructor.prototype.canPlayType;return Mr.TEST_VID.constructor.prototype.canPlayType=kr,t},Mr.patchCanPlayType(),Mr.disposeMediaElement=function(t){if(t){t.parentNode&&t.parentNode.removeChild(t);while(t.hasChildNodes())t.removeChild(t.firstChild);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},Mr.resetMediaElement=function(t){if(t){var e=t.querySelectorAll("source"),i=e.length;while(i--)t.removeChild(e[i]);t.removeAttribute("src"),"function"===typeof t.load&&function(){try{t.load()}catch(e){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach((function(t){Mr.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}})),["muted","defaultMuted","autoplay","loop","playsinline"].forEach((function(t){Mr.prototype["set"+me(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}})),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach((function(t){Mr.prototype[t]=function(){return this.el_[t]}})),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach((function(t){Mr.prototype["set"+me(t)]=function(e){this.el_[t]=e}})),["pause","load","play"].forEach((function(t){Mr.prototype[t]=function(){return this.el_[t]()}})),bi.withSourceHandlers(Mr),Mr.nativeSourceHandler={},Mr.nativeSourceHandler.canPlayType=function(t){try{return Mr.TEST_VID.canPlayType(t)}catch(e){return""}},Mr.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Mr.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=ri(t.src);return Mr.nativeSourceHandler.canPlayType("video/"+i)}return""},Mr.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Mr.nativeSourceHandler.dispose=function(){},Mr.registerSourceHandler(Mr.nativeSourceHandler),bi.registerTech("Html5",Mr);var Pr=N(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "],["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]),Dr=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Or={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Fr=["tiny","xsmall","small","medium","large","xlarge","huge"],Nr={};Fr.forEach((function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Nr[t]="vjs-layout-"+e}));var Qr={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},Hr=function(t){function e(i,n,r){if(D(this,e),i.id=i.id||n.id||"vjs_video_"+Rt(),n=z(e.getTagSettings(i),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language)if("function"===typeof i.closest){var s=i.closest("[lang]");s&&s.getAttribute&&(n.language=s.getAttribute("lang"))}else{var o=i;while(o&&1===o.nodeType){if(ft(o).hasOwnProperty("lang")){n.language=o.getAttribute("lang");break}o=o.parentNode}}var a=F(this,t.call(this,null,n,r));if(a.log=J(a.id_),a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=i,a.tagAttributes=i&&ft(i),a.language(a.options_.language),n.languages){var l={};Object.getOwnPropertyNames(n.languages).forEach((function(t){l[t.toLowerCase()]=n.languages[t]})),a.languages_=l}else a.languages_=e.prototype.options_.languages;a.cache_={},a.poster_=n.poster||"",a.controls_=!!n.controls,a.cache_.lastVolume=1,i.controls=!1,i.removeAttribute("controls"),i.hasAttribute("autoplay")?a.options_.autoplay=!0:a.autoplay(a.options_.autoplay),a.scrubbing_=!1,a.el_=a.createEl(),a.cache_.lastPlaybackRate=a.defaultPlaybackRate(),pe(a,{eventBusKey:"el_"});var c=Ae(a.options_);if(n.plugins){var h=n.plugins;Object.keys(h).forEach((function(t){if("function"!==typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](h[t])}),a)}a.options_.playerOptions=c,a.middleware_=[],a.initChildren(),a.isAudio("audio"===i.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),v||a.addClass("vjs-workinghover"),e.players[a.id_]=a;var d=u.split(".")[0];return a.addClass("vjs-v"+d),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.changingSrc_=!1,a.playWaitingForReady_=!1,a.playOnLoadstart_=null,a}return O(e,t),e.prototype.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),e.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),Oi(this),t.prototype.dispose.call(this)},e.prototype.createEl=function(){var e=this.tag,i=void 0,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase();n?i=this.el_=e.parentNode:o||(i=this.el_=t.prototype.createEl.call(this,"div"));var a=ft(e);if(o){i=this.el_=e,e=this.tag=s.createElement("video");while(i.children.length)e.appendChild(i.firstChild);ct(i,"video-js")||ut(i,"video-js"),i.appendChild(e),n=this.playerElIngest_=i,["autoplay","controls","crossOrigin","defaultMuted","defaultPlaybackRate","loop","muted","playbackRate","src","volume"].forEach((function(t){"undefined"!==typeof i[t]&&(e[t]=i[t])}))}if(e.setAttribute("tabindex","-1"),a.tabindex="-1",T&&(e.setAttribute("role","application"),a.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach((function(t){"class"===t?(i.className+=" "+a[t],o&&(e.className+=" "+a[t])):(i.setAttribute(t,a[t]),o&&e.setAttribute(t,a[t]))})),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused"),!0!==r.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Zt("vjs-styles-dimensions");var l=Mt(".vjs-styles-defaults"),c=Mt("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var u=e.getElementsByTagName("a"),h=0;h<u.length;h++){var d=u.item(h);ut(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),lt(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_=i,i},e.prototype.width=function(t){return this.dimension("width",t)},e.prototype.height=function(t){return this.dimension("height",t)},e.prototype.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?$.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},e.prototype.fluid=function(t){if(void 0===t)return!!this.fluid_;this.fluid_=!!t,t?(this.addClass("vjs-fluid"),this.fill(!1)):this.removeClass("vjs-fluid"),this.updateStyleEl_()},e.prototype.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},e.prototype.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},e.prototype.updateStyleEl_=function(){if(!0!==r.VIDEOJS_NO_DYNAMIC_STYLE){var t=void 0,e=void 0,i=void 0,n=void 0;i=void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9";var s=i.split(":"),o=s[1]/s[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/o:this.videoWidth()||300,e=void 0!==this.height_?this.height_:t*o,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),te(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+e+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*o+"%;\n      }\n    ")}else{var a="number"===typeof this.width_?this.width_:this.options_.width,l="number"===typeof this.height_?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(a>=0&&(c.width=a),l>=0&&(c.height=l))}},e.prototype.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=me(t),r=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(bi.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var s="string"!==typeof this.autoplay()&&this.autoplay(),o={source:e,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+r+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};yi.names.forEach((function(t){var e=yi[t];o[e.getterName]=i[e.privateName]})),z(o,this.options_[n]),z(o,this.options_[r]),z(o,this.options_[t.toLowerCase()]),this.tag&&(o.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(o.startTime=this.cache_.currentTime);var a=bi.getTech(t);if(!a)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new a(o),this.tech_.ready(ee(this,this.handleTechReady_),!0),Ne.jsonToTextTracks(this.textTracksJson_||[],this.tech_),Dr.forEach((function(t){i.on(i.tech_,t,i["handleTech"+me(t)+"_"])})),Object.keys(Or).forEach((function(t){i.on(i.tech_,t,(function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Or[t]+"_"].bind(i),event:e}):i["handleTech"+Or[t]+"_"](e)}))})),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||lt(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},e.prototype.unloadTech_=function(){var t=this;yi.names.forEach((function(e){var i=yi[e];t[i.privateName]=t[i.getterName]()})),this.textTracksJson_=Ne.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},e.prototype.tech=function(t){return void 0===t&&$.warn(o(Pr)),this.tech_},e.prototype.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},e.prototype.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_)},e.prototype.handleTechReady_=function(){if(this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_(),(this.src()||this.currentSrc())&&this.tag&&this.options_.autoplay&&this.paused())try{delete this.tag.poster}catch(t){$("deleting tag.poster throws in some browsers",t)}},e.prototype.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},e.prototype.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"===typeof t){var i=function(){var t=e.muted();e.muted(!0);var i=e.play();if(i&&i.then&&i["catch"])return i["catch"]((function(i){e.muted(t)}))},n=void 0;if("any"===t?(n=this.play(),n&&n.then&&n["catch"]&&n["catch"]((function(){return i()}))):n="muted"===t?i():this.play(),n&&n.then&&n["catch"])return n.then((function(){e.trigger({type:"autoplay-success",autoplay:t})}))["catch"]((function(i){e.trigger({type:"autoplay-failure",autoplay:t})}))}},e.prototype.updateSourceCaches_=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=t,i="";"string"!==typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=Ui(this,e)),this.cache_.source=Ae({},t,{src:e,type:i});for(var n=this.cache_.sources.filter((function(t){return t.src&&t.src===e})),r=[],s=this.$$("source"),o=[],a=0;a<s.length;a++){var l=ft(s[a]);r.push(l),l.src&&l.src===e&&o.push(l.src)}o.length&&!n.length?this.cache_.sources=r:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},e.prototype.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,r=t.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==n)&&(i=function(){}),i(r),!t.src){var s=function t(i){if("sourceset"!==i.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}e.tech_.off(["sourceset","loadstart"],t)};this.tech_.one(["sourceset","loadstart"],s)}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},e.prototype.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},e.prototype.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},e.prototype.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach((function(t){return t.callback(t.event)})),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},e.prototype.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting"),this.one("timeupdate",(function(){return t.removeClass("vjs-waiting")}))},e.prototype.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},e.prototype.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},e.prototype.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},e.prototype.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},e.prototype.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},e.prototype.handleTechFirstPlay_=function(){this.options_.starttime&&($.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},e.prototype.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},e.prototype.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},e.prototype.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},e.prototype.handleTechClick_=function(t){Tt(t)&&this.controls_&&(this.paused()?Pe(this.play()):this.pause())},e.prototype.handleTechTap_=function(){this.userActive(!this.userActive())},e.prototype.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},e.prototype.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},e.prototype.handleTechTouchEnd_=function(t){t.preventDefault()},e.prototype.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},e.prototype.handleStageClick_=function(){this.reportUserActivity()},e.prototype.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},e.prototype.handleTechError_=function(){var t=this.tech_.error();this.error(t)},e.prototype.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},e.prototype.getCache=function(){return this.cache_},e.prototype.techCall_=function(t,e){this.ready((function(){if(t in Li)return Mi(this.middleware_,this.tech_,t,e);if(t in Ri)return Bi(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(i){throw $(i),i}}),!0)},e.prototype.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in ki)return Ti(this.middleware_,this.tech_,t);if(t in Ri)return Bi(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw $("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw $("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw $(e),e}}},e.prototype.play=function(){var t=this,e=this.options_.Promise||r.Promise;return e?new e((function(e){t.play_(e)})):this.play_()},e.prototype.play_=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe;if(this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void e(this.techGet_("play"));this.playOnLoadstart_=function(){t.playOnLoadstart_=null,e(t.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready((function(){t.playWaitingForReady_=!1,e(t.play())}))}},e.prototype.pause=function(){this.techCall_("pause")},e.prototype.paused=function(){return!1!==this.techGet_("paused")},e.prototype.played=function(){return this.techGet_("played")||xe(0,0)},e.prototype.scrubbing=function(t){if("undefined"===typeof t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},e.prototype.currentTime=function(t){return"undefined"!==typeof t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},e.prototype.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;t=parseFloat(t),t<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),this.trigger("durationchange"))},e.prototype.remainingTime=function(){return this.duration()-this.currentTime()},e.prototype.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},e.prototype.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=xe(0,0)),t},e.prototype.bufferedPercent=function(){return Ce(this.buffered(),this.duration())},e.prototype.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},e.prototype.volume=function(t){var e=void 0;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},e.prototype.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},e.prototype.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},e.prototype.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},e.prototype.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},e.prototype.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},e.prototype.requestFullscreen=function(){var t=Ee;this.isFullscreen(!0),t.requestFullscreen?(jt(s,t.fullscreenchange,ee(this,(function e(i){this.isFullscreen(s[t.fullscreenElement]),!1===this.isFullscreen()&&Vt(s,t.fullscreenchange,e),this.trigger("fullscreenchange")}))),this.el_[t.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},e.prototype.exitFullscreen=function(){var t=Ee;this.isFullscreen(!1),t.requestFullscreen?s[t.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},e.prototype.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=s.documentElement.style.overflow,jt(s,"keydown",ee(this,this.fullWindowOnEscKey)),s.documentElement.style.overflow="hidden",ut(s.body,"vjs-full-window"),this.trigger("enterFullWindow")},e.prototype.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},e.prototype.exitFullWindow=function(){this.isFullWindow=!1,Vt(s,"keydown",this.fullWindowOnEscKey),s.documentElement.style.overflow=this.docOrigOverflow,ht(s.body,"vjs-full-window"),this.trigger("exitFullWindow")},e.prototype.canPlayType=function(t){for(var e=void 0,i=0,n=this.options_.techOrder;i<n.length;i++){var r=n[i],s=bi.getTech(r);if(s||(s=ye.getComponent(r)),s){if(s.isSupported()&&(e=s.canPlayType(t),e))return e}else $.error('The "'+r+'" tech is undefined. Skipped browser support check for that tech.')}return""},e.prototype.selectSource=function(t){var e=this,i=this.options_.techOrder.map((function(t){return[t,bi.getTech(t)]})).filter((function(t){var e=t[0],i=t[1];return i?i.isSupported():($.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)})),n=function(t,e,i){var n=void 0;return t.some((function(t){return e.some((function(e){if(n=i(t,e),n)return!0}))})),n},r=void 0,s=function(t){return function(e,i){return t(i,e)}},o=function(t,i){var n=t[0],r=t[1];if(r.canPlaySource(i,e.options_[n.toLowerCase()]))return{source:i,tech:n}};return r=this.options_.sourceOrder?n(t,i,s(o)):n(i,t,o),r||!1},e.prototype.src=function(t){var e=this;if("undefined"===typeof t)return this.cache_.src||"";var i=Gi(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),Si(this,i[0],(function(t,n){e.middleware_=n,e.cache_.sources=i,e.updateSourceCaches_(t);var r=e.src_(t);if(r)return i.length>1?e.src(i.slice(1)):(e.changingSrc_=!1,e.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0),void e.triggerReady());Ii(n,e.tech_)}))):this.setTimeout((function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})}),0)},e.prototype.src_=function(t){var e=this,i=this.selectSource([t]);return!i||(ve(i.tech,this.techName_)?(this.ready((function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1}),!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready((function(){e.changingSrc_=!1})),!1))},e.prototype.load=function(){this.techCall_("load")},e.prototype.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset")},e.prototype.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},e.prototype.currentSource=function(){return this.cache_.source||{}},e.prototype.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},e.prototype.currentType=function(){return this.currentSource()&&this.currentSource().type||""},e.prototype.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},e.prototype.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e=void 0;"string"===typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},e.prototype.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},e.prototype.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},e.prototype.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},e.prototype.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},e.prototype.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},e.prototype.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},e.prototype.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new ke(t),this.addClass("vjs-error"),$.error("(CODE:"+this.error_.code+" "+ke.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},e.prototype.reportUserActivity=function(t){this.userActivity_=!0},e.prototype.userActive=function(t){if(void 0===t)return this.userActive_;if(t=!!t,t!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",(function(t){t.stopPropagation(),t.preventDefault()})),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},e.prototype.listenForUserActivity_=function(){var t=void 0,e=void 0,i=void 0,n=ee(this,this.reportUserActivity),r=function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,n())},s=function(){n(),this.clearInterval(t),t=this.setInterval(n,250)},o=function(e){n(),this.clearInterval(t)};this.on("mousedown",s),this.on("mousemove",r),this.on("mouseup",o),this.on("keydown",n),this.on("keyup",n);var a=void 0;this.setInterval((function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(a);var t=this.options_.inactivityTimeout;t<=0||(a=this.setTimeout((function(){this.userActivity_||this.userActive(!1)}),t))}}),250)},e.prototype.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},e.prototype.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},e.prototype.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},e.prototype.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},e.prototype.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},e.prototype.removeRemoteTextTrack=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.track,i=void 0===e?arguments[0]:e;if(this.tech_)return this.tech_.removeRemoteTextTrack(i)},e.prototype.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},e.prototype.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},e.prototype.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},e.prototype.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},e.prototype.languages=function(){return Ae(e.prototype.options_.languages,this.languages_)},e.prototype.toJSON=function(){var t=Ae(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];n=Ae(n),n.player=void 0,t.tracks[i]=n}return t},e.prototype.createModal=function(t,e){var i=this;e=e||{},e.content=t||"";var n=new Ue(this,e);return this.addChild(n),n.on("dispose",(function(){i.removeChild(n)})),n.open(),n},e.prototype.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Fr.length;i++){var n=Fr[i],r=this.breakpoints_[n];if(e<=r){if(t===n)return;t&&this.removeClass(Nr[t]),this.addClass(Nr[n]),this.breakpoint_=n;break}}},e.prototype.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},e.prototype.breakpoints=function(t){return void 0===t||(this.breakpoint_="",this.breakpoints_=z({},Qr,t),this.updateCurrentBreakpoint_()),z(this.breakpoints_)},e.prototype.responsive=function(t){if(void 0===t)return this.responsive_;t=Boolean(t);var e=this.responsive_;return t!==e?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},e.prototype.currentBreakpoint=function(){return this.breakpoint_},e.prototype.currentBreakpointClass=function(){return Nr[this.breakpoint_]||""},e.getTagSettings=function(t){var e={sources:[],tracks:[]},i=ft(t),n=i["data-setup"];if(ct(t,"vjs-fill")&&(i.fill=!0),ct(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var r=a(n||"{}"),s=r[0],o=r[1];s&&$.error(s),z(i,o)}if(z(e,i),t.hasChildNodes())for(var l=t.childNodes,c=0,u=l.length;c<u;c++){var h=l[c],d=h.nodeName.toLowerCase();"source"===d?e.sources.push(ft(h)):"track"===d&&e.tracks.push(ft(h))}return e},e.prototype.flexNotSupported_=function(){var t=s.createElement("i");return!("flexBasis"in t.style||"webkitFlexBasis"in t.style||"mozFlexBasis"in t.style||"msFlexBasis"in t.style||"msFlexOrder"in t.style)},e}(ye);yi.names.forEach((function(t){var e=yi[t];Hr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}})),Hr.players={};var Ur=r.navigator;Hr.prototype.options_={techOrder:bi.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","controlBar","errorDisplay","textTrackSettings"],language:Ur&&(Ur.languages&&Ur.languages[0]||Ur.userLanguage||Ur.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},I||Hr.prototype.options_.children.push("resizeManager"),["ended","seeking","seekable","networkState","readyState"].forEach((function(t){Hr.prototype[t]=function(){return this.techGet_(t)}})),Dr.forEach((function(t){Hr.prototype["handleTech"+me(t)+"_"]=function(){return this.trigger(t)}})),ye.registerComponent("Player",Hr);var Gr="plugin",zr="activePlugins_",jr={},Vr=function(t){return jr.hasOwnProperty(t)},Wr=function(t){return Vr(t)?jr[t]:void 0},qr=function(t,e){t[zr]=t[zr]||{},t[zr][e]=!0},Yr=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},$r=function(t,e){var i=function(){Yr(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return qr(this,t),Yr(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach((function(t){i[t]=e[t]})),i},Jr=function(t,e){return e.prototype.name=t,function(){Yr(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=Array(i),r=0;r<i;r++)n[r]=arguments[r];var s=new(Function.prototype.bind.apply(e,[null].concat([this].concat(n))));return this[t]=function(){return s},Yr(this,s.getEventHash()),s}},Xr=function(){function t(e){if(D(this,t),this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,pe(this),delete this.trigger,ge(this,this.constructor.defaultState),qr(e,this.name),this.dispose=ee(this,this.dispose),e.on("dispose",this.dispose)}return t.prototype.version=function(){return this.constructor.VERSION},t.prototype.getEventHash=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t.name=this.name,t.plugin=this.constructor,t.instance=this,t},t.prototype.trigger=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Wt(this.eventBusEl_,t,this.getEventHash(e))},t.prototype.handleStateChanged=function(t){},t.prototype.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e[zr][t]=!1,this.player=this.state=null,e[t]=Jr(t,jr[t])},t.isBasic=function(e){var i="string"===typeof e?Wr(e):e;return"function"===typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!==typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+("undefined"===typeof e?"undefined":P(e))+".");if(Vr(e))$.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(Hr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!==typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+("undefined"===typeof i?"undefined":P(i))+".");return jr[e]=i,e!==Gr&&(t.isBasic(i)?Hr.prototype[e]=$r(e,i):Hr.prototype[e]=Jr(e,i)),i},t.deregisterPlugin=function(t){if(t===Gr)throw new Error("Cannot de-register base plugin.");Vr(t)&&(delete jr[t],delete Hr.prototype[t])},t.getPlugins=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object.keys(jr),e=void 0;return t.forEach((function(t){var i=Wr(t);i&&(e=e||{},e[t]=i)})),e},t.getPluginVersion=function(t){var e=Wr(t);return e&&e.VERSION||""},t}();Xr.getPlugin=Wr,Xr.BASE_PLUGIN_NAME=Gr,Xr.registerPlugin(Gr,Xr),Hr.prototype.usingPlugin=function(t){return!!this[zr]&&!0===this[zr][t]},Hr.prototype.hasPlugin=function(t){return!!Vr(t)};var Kr=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+("undefined"===typeof e?"undefined":P(e)));t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)},Zr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=function(){t.apply(this,arguments)},n={};for(var r in"object"===("undefined"===typeof e?"undefined":P(e))?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"===typeof e&&(i=e),Kr(i,t),n)n.hasOwnProperty(r)&&(i.prototype[r]=n[r]);return i};"undefined"===typeof HTMLVideoElement&&it()&&(s.createElement("video"),s.createElement("audio"),s.createElement("track"),s.createElement("video-js"));var ts=function(t){return 0===t.indexOf("#")?t.slice(1):t};function es(t,e,i){var n=es.getPlayer(t);if(n)return e&&$.warn('Player "'+t+'" is already initialised. Options will not be applied.'),i&&n.ready(i),n;var r="string"===typeof t?Mt("#"+ts(t)):t;if(!nt(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");s.body.contains(r)||$.warn("The element supplied is not included in the DOM"),e=e||{},es.hooks("beforesetup").forEach((function(t){var i=t(r,Ae(e));j(i)&&!Array.isArray(i)?e=Ae(e,i):$.error("please return an object in beforesetup hooks")}));var o=ye.getComponent("Player");return n=new o(r,e,i),es.hooks("setup").forEach((function(t){return t(n)})),n}if(es.hooks_={},es.hooks=function(t,e){return es.hooks_[t]=es.hooks_[t]||[],e&&(es.hooks_[t]=es.hooks_[t].concat(e)),es.hooks_[t]},es.hook=function(t,e){es.hooks(t,e)},es.hookOnce=function(t,e){es.hooks(t,[].concat(e).map((function(e){var i=function i(){return es.removeHook(t,i),e.apply(void 0,arguments)};return i})))},es.removeHook=function(t,e){var i=es.hooks(t).indexOf(e);return!(i<=-1)&&(es.hooks_[t]=es.hooks_[t].slice(),es.hooks_[t].splice(i,1),!0)},!0!==r.VIDEOJS_NO_DYNAMIC_STYLE&&it()){var is=Mt(".vjs-styles-defaults");if(!is){is=Zt("vjs-styles-defaults");var ns=Mt("head");ns&&ns.insertBefore(is,ns.firstChild),te(is,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}Kt(1,es),es.VERSION=u,es.options=Hr.prototype.options_,es.getPlayers=function(){return Hr.players},es.getPlayer=function(t){var e=Hr.players,i=void 0;if("string"===typeof t){var n=ts(t),r=e[n];if(r)return r;i=Mt("#"+n)}else i=t;if(nt(i)){var s=i,o=s.player,a=s.playerId;if(o||e[a])return o||e[a]}},es.getAllPlayers=function(){return Object.keys(Hr.players).map((function(t){return Hr.players[t]})).filter(Boolean)},es.players=Hr.players,es.getComponent=ye.getComponent,es.registerComponent=function(t,e){bi.isTech(e)&&$.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),ye.registerComponent.call(ye,t,e)},es.getTech=bi.getTech,es.registerTech=bi.registerTech,es.use=Ei,!I&&Object.defineProperty?(Object.defineProperty(es,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(es.middleware,"TERMINATOR",{value:Ci,writeable:!1,enumerable:!0})):es.middleware={TERMINATOR:Ci},es.browser=R,es.TOUCH_ENABLED=k,es.extend=Zr,es.mergeOptions=Ae,es.bind=ee,es.registerPlugin=Xr.registerPlugin,es.deregisterPlugin=Xr.deregisterPlugin,es.plugin=function(t,e){return $.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),Xr.registerPlugin(t,e)},es.getPlugins=Xr.getPlugins,es.getPlugin=Xr.getPlugin,es.getPluginVersion=Xr.getPluginVersion,es.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),es.options.languages=Ae(es.options.languages,(i={},i[t]=e,i)),es.options.languages[t]},es.log=$,es.createLogger=J,es.createTimeRange=es.createTimeRanges=xe,es.formatTime=cn,es.setFormatTime=an,es.resetFormatTime=ln,es.parseUrl=ii,es.isCrossOrigin=si,es.EventTarget=re,es.on=jt,es.one=qt,es.off=Vt,es.trigger=Wt,es.xhr=l,es.TextTrack=ci,es.AudioTrack=ui,es.VideoTrack=hi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach((function(t){es[t]=function(){return $.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),kt[t].apply(null,arguments)}})),es.computedStyle=X,es.dom=kt,es.url=oi,t.exports=es},ac51:function(t,e,i){},add9:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/arrow-dropdown-black.f6fe28b3ef503265ca3fb70caf82002e.svg"},aeb0:function(t,e,i){var n=i("9bf2").f;t.exports=function(t,e,i){i in t||n(t,i,{configurable:!0,get:function(){return e[i]},set:function(t){e[i]=t}})}},aed9:function(t,e,i){var n=i("83ab"),r=i("d039");t.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},affb:function(t,e,i){"use strict";i("a50c")},b047:function(t,e){function i(t){return function(e){return t(e)}}t.exports=i},b084:function(t,e){},b0b9:function(t,e,i){"use strict";i("48e1")},b12d:function(t,e,i){},b1f9:function(t,e,i){},b218:function(t,e){var i=9007199254740991;function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=i}t.exports=n},b25e:function(t,e,i){"use strict";i("43f2")},b42e:function(t,e){var i=Math.ceil,n=Math.floor;t.exports=Math.trunc||function(t){var e=+t;return(e>0?n:i)(e)}},b4bf:function(t,e,i){"use strict";i("9ece")},b57a:function(t,e,i){},b5a7:function(t,e,i){var n=i("0b07"),r=i("2b3e"),s=n(r,"DataView");t.exports=s},b622:function(t,e,i){var n=i("da84"),r=i("5692"),s=i("1a2d"),o=i("90e3"),a=i("04f8"),l=i("fdbf"),c=r("wks"),u=n.Symbol,h=u&&u["for"],d=l?u:u&&u.withoutSetter||o;t.exports=function(t){if(!s(c,t)||!a&&"string"!=typeof c[t]){var e="Symbol."+t;a&&s(u,t)?c[t]=u[t]:c[t]=l&&h?h(e):d(e)}return c[t]}},b980:function(t,e,i){var n=i("d039"),r=i("5c6c");t.exports=!n((function(){var t=Error("a");return!("stack"in t)||(Object.defineProperty(t,"stack",r(1,7)),7!==t.stack)}))},baa2:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/double-quote.4e214246fbedbdbf0ea18ab43257f7f4.svg"},baec:function(t,e,i){},bb4f:function(t,e){},bbaf:function(t,e,i){"use strict";i("bd74")},bc7b:function(t,e,i){"use strict";i("4d42")},bd74:function(t,e,i){},be09:function(t,e,i){(function(e){var i;i="undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},t.exports=i}).call(this,i("c8ba"))},be0d:function(t,e,i){},bee2:function(t,e,i){"use strict";i("0683")},bf34:function(t,e,i){},bf9d:function(t,e,i){"use strict";var n=i("65ac"),r=i("59e3"),s=(i("7d3d"),i("2877")),o=Object(s["a"])(r["default"],n["a"],n["b"],!1,null,"0e45fa31",null);e["default"]=o.exports},c04e:function(t,e,i){var n=i("c65b"),r=i("861d"),s=i("d9b5"),o=i("dc4a"),a=i("485a"),l=i("b622"),c=TypeError,u=l("toPrimitive");t.exports=function(t,e){if(!r(t)||s(t))return t;var i,l=o(t,u);if(l){if(void 0===e&&(e="default"),i=n(l,t,e),!r(i)||s(i))return i;throw c("Can't convert object to primitive value")}return void 0===e&&(e="number"),a(t,e)}},c063:function(t,e){},c066:function(t,e,i){},c0a5:function(t,e){t.exports={name:"fdk-popup",props:{content:{type:String},id:{type:String}},methods:{showToast:function(){var t=document.getElementById(this.id);t.className="toast show",setTimeout((function(){t.className=t.className.replace("toast show","toast hide")}),3e3)}},data:function(){return{}},mounted(){}}},c12d:function(t,e,i){},c192:function(t,e,i){},c1da:function(t,e,i){!function(e,i){t.exports=i()}(0,(function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=4)}([function(t,e){function i(t,e){var i=t[1]||"",r=t[3];if(!r)return i;if(e&&"function"==typeof btoa){var s=n(r);return[i].concat(r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}))).concat([s]).join("\n")}return[i].join("\n")}function n(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=i(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,i){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(n[s]=!0)}for(r=0;r<t.length;r++){var o=t[r];"number"==typeof o[0]&&n[o[0]]||(i&&!o[2]?o[2]=i:i&&(o[2]="("+o[2]+") and ("+i+")"),e.push(o))}},e}},function(t,e){t.exports=function(t,e,i,n,r){var s,o=t=t||{},a=typeof t.default;"object"!==a&&"function"!==a||(s=t,o=t.default);var l,c="function"==typeof o?o.options:o;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),n&&(c._scopeId=n),r?(l=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},c._ssrRegister=l):i&&(l=i),l){var u=c.functional,h=u?c.render:c.beforeCreate;u?c.render=function(t,e){return l.call(e),h(t,e)}:c.beforeCreate=h?[].concat(h,l):[l]}return{esModule:s,exports:o,options:c}}},function(t,e,i){function n(t){for(var e=0;e<t.length;e++){var i=t[e],n=u[i.id];if(n){n.refs++;for(var r=0;r<n.parts.length;r++)n.parts[r](i.parts[r]);for(;r<i.parts.length;r++)n.parts.push(s(i.parts[r]));n.parts.length>i.parts.length&&(n.parts.length=i.parts.length)}else{var o=[];for(r=0;r<i.parts.length;r++)o.push(s(i.parts[r]));u[i.id]={id:i.id,refs:1,parts:o}}}}function r(){var t=document.createElement("style");return t.type="text/css",h.appendChild(t),t}function s(t){var e,i,n=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(n){if(f)return g;n.parentNode.removeChild(n)}if(m){var s=p++;n=d||(d=r()),e=o.bind(null,n,s,!1),i=o.bind(null,n,s,!0)}else n=r(),e=a.bind(null,n),i=function(){n.parentNode.removeChild(n)};return e(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;e(t=n)}else i()}}function o(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=v(e,r);else{var s=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(s,o[e]):t.appendChild(s)}}function a(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var l="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!l)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var c=i(14),u={},h=l&&(document.head||document.getElementsByTagName("head")[0]),d=null,p=0,f=!1,g=function(){},m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,i){f=i;var r=c(t,e);return n(r),function(e){for(var i=[],s=0;s<r.length;s++){var o=r[s],a=u[o.id];a.refs--,i.push(a)}e?(r=c(t,e),n(r)):r=[];for(s=0;s<i.length;s++){a=i[s];if(0===a.refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete u[a.id]}}}};var v=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){function n(t){i(13)}var r=i(1)(i(5),i(11),n,"data-v-34cbeed1",null);t.exports=r.exports},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(3),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=r.default},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(9),r=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default={components:{star:r.default},model:{prop:"rating",event:"rating-selected"},props:{increment:{type:Number,default:1},rating:{type:Number,default:0},roundStartRating:{type:Boolean,default:!0},activeColor:{type:String,default:"#ffd055"},inactiveColor:{type:String,default:"#d8d8d8"},maxRating:{type:Number,default:5},starPoints:{type:Array,default:function(){return[]}},starSize:{type:Number,default:50},showRating:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1},textClass:{type:String,default:""},inline:{type:Boolean,default:!1},borderColor:{type:String,default:"#999"},borderWidth:{type:Number,default:0},roundedCorners:{type:Boolean,default:!1},padding:{type:Number,default:0},rtl:{type:Boolean,default:!1},fixedPoints:{type:Number,default:null},glow:{type:Number,default:0},glowColor:{type:String,default:"#fff"}},created:function(){this.step=100*this.increment,this.currentRating=this.rating,this.selectedRating=this.currentRating,this.createStars(this.roundStartRating)},methods:{setRating:function(t,e){if(!this.readOnly){var i=this.rtl?(100-t.position)/100:t.position/100;this.currentRating=(t.id+i-1).toFixed(2),this.currentRating=this.currentRating>this.maxRating?this.maxRating:this.currentRating,this.createStars(),e?(this.selectedRating=this.currentRating,this.$emit("rating-selected",this.selectedRating),this.ratingSelected=!0):this.$emit("current-rating",this.currentRating)}},resetRating:function(){this.readOnly||(this.currentRating=this.selectedRating,this.createStars(this.shouldRound))},createStars:function(){(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&this.round();for(var t=0;t<this.maxRating;t++){var e=0;t<this.currentRating&&(e=this.currentRating-t>1?100:100*(this.currentRating-t)),this.$set(this.fillLevel,t,Math.round(e))}},round:function(){var t=1/this.increment;this.currentRating=Math.min(this.maxRating,Math.ceil(this.currentRating*t)/t)}},computed:{formattedRating:function(){return null===this.fixedPoints?this.currentRating:this.currentRating.toFixed(this.fixedPoints)},shouldRound:function(){return this.ratingSelected||this.roundStartRating},margin:function(){return this.padding+this.borderWidth}},watch:{rating:function(t){this.currentRating=t,this.selectedRating=t,this.createStars(this.shouldRound)}},data:function(){return{step:0,fillLevel:[],currentRating:0,selectedRating:0,ratingSelected:!1}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{fill:{type:Number,default:0},points:{type:Array,default:function(){return[]}},size:{type:Number,default:50},starId:{type:Number,required:!0},activeColor:{type:String,required:!0},inactiveColor:{type:String,required:!0},borderColor:{type:String,default:"#000"},borderWidth:{type:Number,default:0},roundedCorners:{type:Boolean,default:!1},rtl:{type:Boolean,default:!1},glow:{type:Number,default:0},glowColor:{type:String,required:!1}},created:function(){this.starPoints=this.points.length?this.points:this.starPoints,this.calculatePoints(),this.grad=this.getRandomId(),this.glowId=this.getRandomId()},computed:{starPointsToString:function(){return this.starPoints.join(",")},getGradId:function(){return"url(#"+this.grad+")"},getSize:function(){var t=this.roundedCorners&&this.borderWidth<=0?parseInt(this.size)-parseInt(this.border):this.size;return parseInt(t)+parseInt(this.border)},getFill:function(){return this.rtl?100-this.fill+"%":this.fill+"%"},border:function(){return this.roundedCorners&&this.borderWidth<=0?6:this.borderWidth},getBorderColor:function(){return this.roundedCorners&&this.borderWidth<=0?this.fill<=0?this.inactiveColor:this.activeColor:this.borderColor},maxSize:function(){return this.starPoints.reduce((function(t,e){return Math.max(t,e)}))},viewBox:function(){return"0 0 "+this.maxSize+" "+this.maxSize}},methods:{mouseMoving:function(t){this.$emit("star-mouse-move",{event:t,position:this.getPosition(t),id:this.starId})},getPosition:function(t){var e=.92*this.size,i=this.rtl?Math.min(t.offsetX,45):Math.max(t.offsetX,1),n=Math.round(100/e*i);return Math.min(n,100)},selected:function(t){this.$emit("star-selected",{id:this.starId,position:this.getPosition(t)})},getRandomId:function(){return Math.random().toString(36).substring(7)},calculatePoints:function(){var t=this;this.starPoints=this.starPoints.map((function(e){return t.size/t.maxSize*e+1.5*t.border}))}},data:function(){return{starPoints:[19.8,2.2,6.6,43.56,39.6,17.16,0,17.16,33,43.56],grad:"",glowId:""}}}},function(t,e,i){e=t.exports=i(0)(void 0),e.push([t.i,".vue-star-rating-star[data-v-21f5376e]{overflow:visible!important}",""])},function(t,e,i){e=t.exports=i(0)(void 0),e.push([t.i,".vue-star-rating-star[data-v-34cbeed1]{display:inline-block}.vue-star-rating-pointer[data-v-34cbeed1]{cursor:pointer}.vue-star-rating[data-v-34cbeed1]{display:flex;align-items:center}.vue-star-rating-inline[data-v-34cbeed1]{display:inline-flex}.vue-star-rating-rating-text[data-v-34cbeed1]{margin-top:7px;margin-left:7px}.vue-star-rating-rtl[data-v-34cbeed1]{direction:rtl}.vue-star-rating-rtl .vue-star-rating-rating-text[data-v-34cbeed1]{margin-right:10px;direction:rtl}",""])},function(t,e,i){function n(t){i(12)}var r=i(1)(i(6),i(10),n,"data-v-21f5376e",null);t.exports=r.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("svg",{staticClass:"vue-star-rating-star",attrs:{height:t.getSize,width:t.getSize,viewBox:t.viewBox},on:{mousemove:t.mouseMoving,click:t.selected}},[i("linearGradient",{attrs:{id:t.grad,x1:"0",x2:"100%",y1:"0",y2:"0"}},[i("stop",{attrs:{offset:t.getFill,"stop-color":t.rtl?t.inactiveColor:t.activeColor}}),t._v(" "),i("stop",{attrs:{offset:t.getFill,"stop-color":t.rtl?t.activeColor:t.inactiveColor}})],1),t._v(" "),i("filter",{attrs:{id:t.glowId,height:"130%",width:"130%",filterUnits:"userSpaceOnUse"}},[i("feGaussianBlur",{attrs:{stdDeviation:t.glow,result:"coloredBlur"}}),t._v(" "),i("feMerge",[i("feMergeNode",{attrs:{in:"coloredBlur"}}),t._v(" "),i("feMergeNode",{attrs:{in:"SourceGraphic"}})],1)],1),t._v(" "),i("polygon",{directives:[{name:"show",rawName:"v-show",value:t.fill>1,expression:"fill > 1"}],attrs:{points:t.starPointsToString,fill:t.getGradId,stroke:t.glowColor,filter:"url(#"+this.glowId+")"}}),t._v(" "),i("polygon",{attrs:{points:t.starPointsToString,fill:t.getGradId,stroke:t.getBorderColor,"stroke-width":t.border,"stroke-linejoin":t.roundedCorners?"round":"miter"}}),t._v(" "),i("polygon",{attrs:{points:t.starPointsToString,fill:t.getGradId}})],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["vue-star-rating",{"vue-star-rating-rtl":t.rtl},{"vue-star-rating-inline":t.inline}]},[i("div",{staticClass:"vue-star-rating",on:{mouseleave:t.resetRating}},[t._l(t.maxRating,(function(e){return i("span",{key:e,class:[{"vue-star-rating-pointer":!t.readOnly},"vue-star-rating-star"],style:{"margin-right":t.margin+"px"}},[i("star",{attrs:{fill:t.fillLevel[e-1],size:t.starSize,points:t.starPoints,"star-id":e,step:t.step,"active-color":t.activeColor,"inactive-color":t.inactiveColor,"border-color":t.borderColor,"border-width":t.borderWidth,"rounded-corners":t.roundedCorners,rtl:t.rtl,glow:t.glow,"glow-color":t.glowColor},on:{"star-selected":function(e){t.setRating(e,!0)},"star-mouse-move":t.setRating}})],1)})),t._v(" "),t.showRating?i("span",{class:["vue-star-rating-rating-text",t.textClass]},[t._v(" "+t._s(t.formattedRating))]):t._e()],2)])},staticRenderFns:[]}},function(t,e,i){var n=i(7);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("0ab8a16d",n,!0)},function(t,e,i){var n=i(8);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals),i(2)("2e648ff1",n,!0)},function(t,e){t.exports=function(t,e){for(var i=[],n={},r=0;r<e.length;r++){var s=e[r],o=s[0],a=s[1],l=s[2],c=s[3],u={id:t+":"+r,css:a,media:l,sourceMap:c};n[o]?n[o].parts.push(u):i.push(n[o]={id:o,parts:[u]})}return i}}])}))},c1e3:function(t,e,i){"use strict";i("e2f4")},c430:function(t,e){t.exports=!1},c65b:function(t,e,i){var n=i("40d5"),r=Function.prototype.call;t.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},c6b6:function(t,e,i){var n=i("e330"),r=n({}.toString),s=n("".slice);t.exports=function(t){return s(r(t),8,-1)}},c6cd:function(t,e,i){var n=i("da84"),r=i("6374"),s="__core-js_shared__",o=n[s]||r(s,{});t.exports=o},c708:function(t,e,i){"use strict";i("a61f")},c784:function(t,e,i){"use strict";i("84b6")},c869:function(t,e,i){var n=i("0b07"),r=i("2b3e"),s=n(r,"Set");t.exports=s},c8b5:function(t,e,i){var n;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */(function(r,s,o,a){"use strict";var l,c=["","webkit","Moz","MS","ms","o"],u=s.createElement("div"),h="function",d=Math.round,p=Math.abs,f=Date.now;function g(t,e,i){return setTimeout(w(t,i),e)}function m(t,e,i){return!!Array.isArray(t)&&(v(t,i[e],i),!0)}function v(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==a){n=0;while(n<t.length)e.call(i,t[n],n,t),n++}else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function A(t,e,i){var n="DEPRECATED METHOD: "+e+"\n"+i+" AT \n";return function(){var e=new Error("get-stack-trace"),i=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=r.console&&(r.console.warn||r.console.log);return s&&s.call(r.console,n,i),t.apply(this,arguments)}}l="function"!==typeof Object.assign?function(t){if(t===a||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==a&&null!==n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}return e}:Object.assign;var y=A((function(t,e,i){var n=Object.keys(e),r=0;while(r<n.length)(!i||i&&t[n[r]]===a)&&(t[n[r]]=e[n[r]]),r++;return t}),"extend","Use `assign`."),_=A((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function b(t,e,i){var n,r=e.prototype;n=t.prototype=Object.create(r),n.constructor=t,n._super=r,i&&l(n,i)}function w(t,e){return function(){return t.apply(e,arguments)}}function x(t,e){return typeof t==h?t.apply(e&&e[0]||a,e):t}function C(t,e){return t===a?e:t}function E(t,e,i){v(M(e),(function(e){t.addEventListener(e,i,!1)}))}function S(t,e,i){v(M(e),(function(e){t.removeEventListener(e,i,!1)}))}function I(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1}function T(t,e){return t.indexOf(e)>-1}function M(t){return t.trim().split(/\s+/g)}function B(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);var n=0;while(n<t.length){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function k(t){return Array.prototype.slice.call(t,0)}function L(t,e,i){var n=[],r=[],s=0;while(s<t.length){var o=e?t[s][e]:t[s];B(r,o)<0&&n.push(t[s]),r[s]=o,s++}return i&&(n=e?n.sort((function(t,i){return t[e]>i[e]})):n.sort()),n}function R(t,e){var i,n,r=e[0].toUpperCase()+e.slice(1),s=0;while(s<c.length){if(i=c[s],n=i?i+r:e,n in t)return n;s++}return a}var P=1;function D(){return P++}function O(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var F=/mobile|tablet|ip(ad|hone|od)|android/i,N="ontouchstart"in r,Q=R(r,"PointerEvent")!==a,H=N&&F.test(navigator.userAgent),U="touch",G="pen",z="mouse",j="kinect",V=25,W=1,q=2,Y=4,$=8,J=1,X=2,K=4,Z=8,tt=16,et=X|K,it=Z|tt,nt=et|it,rt=["x","y"],st=["clientX","clientY"];function ot(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){x(t.options.enable,[t])&&i.handler(e)},this.init()}function at(t){var e,i=t.options.inputClass;return e=i||(Q?Tt:H?Ot:N?Ht:xt),new e(t,lt)}function lt(t,e,i){var n=i.pointers.length,r=i.changedPointers.length,s=e&W&&n-r===0,o=e&(Y|$)&&n-r===0;i.isFirst=!!s,i.isFinal=!!o,s&&(t.session={}),i.eventType=e,ct(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function ct(t,e){var i=t.session,n=e.pointers,r=n.length;i.firstInput||(i.firstInput=dt(e)),r>1&&!i.firstMultiple?i.firstMultiple=dt(e):1===r&&(i.firstMultiple=!1);var s=i.firstInput,o=i.firstMultiple,a=o?o.center:s.center,l=e.center=pt(n);e.timeStamp=f(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=vt(a,l),e.distance=mt(a,l),ut(i,e),e.offsetDirection=gt(e.deltaX,e.deltaY);var c=ft(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=p(c.x)>p(c.y)?c.x:c.y,e.scale=o?yt(o.pointers,n):1,e.rotation=o?At(o.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,ht(i,e);var u=t.element;I(e.srcEvent.target,u)&&(u=e.srcEvent.target),e.target=u}function ut(t,e){var i=e.center,n=t.offsetDelta||{},r=t.prevDelta||{},s=t.prevInput||{};e.eventType!==W&&s.eventType!==Y||(r=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=r.x+(i.x-n.x),e.deltaY=r.y+(i.y-n.y)}function ht(t,e){var i,n,r,s,o=t.lastInterval||e,l=e.timeStamp-o.timeStamp;if(e.eventType!=$&&(l>V||o.velocity===a)){var c=e.deltaX-o.deltaX,u=e.deltaY-o.deltaY,h=ft(l,c,u);n=h.x,r=h.y,i=p(h.x)>p(h.y)?h.x:h.y,s=gt(c,u),t.lastInterval=e}else i=o.velocity,n=o.velocityX,r=o.velocityY,s=o.direction;e.velocity=i,e.velocityX=n,e.velocityY=r,e.direction=s}function dt(t){var e=[],i=0;while(i<t.pointers.length)e[i]={clientX:d(t.pointers[i].clientX),clientY:d(t.pointers[i].clientY)},i++;return{timeStamp:f(),pointers:e,center:pt(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pt(t){var e=t.length;if(1===e)return{x:d(t[0].clientX),y:d(t[0].clientY)};var i=0,n=0,r=0;while(r<e)i+=t[r].clientX,n+=t[r].clientY,r++;return{x:d(i/e),y:d(n/e)}}function ft(t,e,i){return{x:e/t||0,y:i/t||0}}function gt(t,e){return t===e?J:p(t)>=p(e)?t<0?X:K:e<0?Z:tt}function mt(t,e,i){i||(i=rt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return Math.sqrt(n*n+r*r)}function vt(t,e,i){i||(i=rt);var n=e[i[0]]-t[i[0]],r=e[i[1]]-t[i[1]];return 180*Math.atan2(r,n)/Math.PI}function At(t,e){return vt(e[1],e[0],st)+vt(t[1],t[0],st)}function yt(t,e){return mt(e[0],e[1],st)/mt(t[0],t[1],st)}ot.prototype={handler:function(){},init:function(){this.evEl&&E(this.element,this.evEl,this.domHandler),this.evTarget&&E(this.target,this.evTarget,this.domHandler),this.evWin&&E(O(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&S(this.element,this.evEl,this.domHandler),this.evTarget&&S(this.target,this.evTarget,this.domHandler),this.evWin&&S(O(this.element),this.evWin,this.domHandler)}};var _t={mousedown:W,mousemove:q,mouseup:Y},bt="mousedown",wt="mousemove mouseup";function xt(){this.evEl=bt,this.evWin=wt,this.pressed=!1,ot.apply(this,arguments)}b(xt,ot,{handler:function(t){var e=_t[t.type];e&W&&0===t.button&&(this.pressed=!0),e&q&&1!==t.which&&(e=Y),this.pressed&&(e&Y&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:z,srcEvent:t}))}});var Ct={pointerdown:W,pointermove:q,pointerup:Y,pointercancel:$,pointerout:$},Et={2:U,3:G,4:z,5:j},St="pointerdown",It="pointermove pointerup pointercancel";function Tt(){this.evEl=St,this.evWin=It,ot.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}r.MSPointerEvent&&!r.PointerEvent&&(St="MSPointerDown",It="MSPointerMove MSPointerUp MSPointerCancel"),b(Tt,ot,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),r=Ct[n],s=Et[t.pointerType]||t.pointerType,o=s==U,a=B(e,t.pointerId,"pointerId");r&W&&(0===t.button||o)?a<0&&(e.push(t),a=e.length-1):r&(Y|$)&&(i=!0),a<0||(e[a]=t,this.callback(this.manager,r,{pointers:e,changedPointers:[t],pointerType:s,srcEvent:t}),i&&e.splice(a,1))}});var Mt={touchstart:W,touchmove:q,touchend:Y,touchcancel:$},Bt="touchstart",kt="touchstart touchmove touchend touchcancel";function Lt(){this.evTarget=Bt,this.evWin=kt,this.started=!1,ot.apply(this,arguments)}function Rt(t,e){var i=k(t.touches),n=k(t.changedTouches);return e&(Y|$)&&(i=L(i.concat(n),"identifier",!0)),[i,n]}b(Lt,ot,{handler:function(t){var e=Mt[t.type];if(e===W&&(this.started=!0),this.started){var i=Rt.call(this,t,e);e&(Y|$)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:U,srcEvent:t})}}});var Pt={touchstart:W,touchmove:q,touchend:Y,touchcancel:$},Dt="touchstart touchmove touchend touchcancel";function Ot(){this.evTarget=Dt,this.targetIds={},ot.apply(this,arguments)}function Ft(t,e){var i=k(t.touches),n=this.targetIds;if(e&(W|q)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var r,s,o=k(t.changedTouches),a=[],l=this.target;if(s=i.filter((function(t){return I(t.target,l)})),e===W){r=0;while(r<s.length)n[s[r].identifier]=!0,r++}r=0;while(r<o.length)n[o[r].identifier]&&a.push(o[r]),e&(Y|$)&&delete n[o[r].identifier],r++;return a.length?[L(s.concat(a),"identifier",!0),a]:void 0}b(Ot,ot,{handler:function(t){var e=Pt[t.type],i=Ft.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:U,srcEvent:t})}});var Nt=2500,Qt=25;function Ht(){ot.apply(this,arguments);var t=w(this.handler,this);this.touch=new Ot(this.manager,t),this.mouse=new xt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function Ut(t,e){t&W?(this.primaryTouch=e.changedPointers[0].identifier,Gt.call(this,e)):t&(Y|$)&&Gt.call(this,e)}function Gt(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,r=function(){var t=n.indexOf(i);t>-1&&n.splice(t,1)};setTimeout(r,Nt)}}function zt(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var r=this.lastTouches[n],s=Math.abs(e-r.x),o=Math.abs(i-r.y);if(s<=Qt&&o<=Qt)return!0}return!1}b(Ht,ot,{handler:function(t,e,i){var n=i.pointerType==U,r=i.pointerType==z;if(!(r&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)Ut.call(this,e,i);else if(r&&zt.call(this,i))return;this.callback(t,e,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var jt=R(u.style,"touchAction"),Vt=jt!==a,Wt="compute",qt="auto",Yt="manipulation",$t="none",Jt="pan-x",Xt="pan-y",Kt=ee();function Zt(t,e){this.manager=t,this.set(e)}function te(t){if(T(t,$t))return $t;var e=T(t,Jt),i=T(t,Xt);return e&&i?$t:e||i?e?Jt:Xt:T(t,Yt)?Yt:qt}function ee(){if(!Vt)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(i){t[i]=!e||r.CSS.supports("touch-action",i)})),t}Zt.prototype={set:function(t){t==Wt&&(t=this.compute()),Vt&&this.manager.element.style&&Kt[t]&&(this.manager.element.style[jt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return v(this.manager.recognizers,(function(e){x(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),te(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var n=this.actions,r=T(n,$t)&&!Kt[$t],s=T(n,Xt)&&!Kt[Xt],o=T(n,Jt)&&!Kt[Jt];if(r){var a=1===t.pointers.length,l=t.distance<2,c=t.deltaTime<250;if(a&&l&&c)return}if(!o||!s)return r||s&&i&et||o&&i&it?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var ie=1,ne=2,re=4,se=8,oe=se,ae=16,le=32;function ce(t){this.options=l({},this.defaults,t||{}),this.id=D(),this.manager=null,this.options.enable=C(this.options.enable,!0),this.state=ie,this.simultaneous={},this.requireFail=[]}function ue(t){return t&ae?"cancel":t&se?"end":t&re?"move":t&ne?"start":""}function he(t){return t==tt?"down":t==Z?"up":t==X?"left":t==K?"right":""}function de(t,e){var i=e.manager;return i?i.get(t):t}function pe(){ce.apply(this,arguments)}function fe(){pe.apply(this,arguments),this.pX=null,this.pY=null}function ge(){pe.apply(this,arguments)}function me(){ce.apply(this,arguments),this._timer=null,this._input=null}function ve(){pe.apply(this,arguments)}function Ae(){pe.apply(this,arguments)}function ye(){ce.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function _e(t,e){return e=e||{},e.recognizers=C(e.recognizers,_e.defaults.preset),new xe(t,e)}ce.prototype={defaults:{},set:function(t){return l(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(m(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=de(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return m(t,"dropRecognizeWith",this)||(t=de(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(m(t,"requireFailure",this))return this;var e=this.requireFail;return t=de(t,this),-1===B(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(m(t,"dropRequireFailure",this))return this;t=de(t,this);var e=B(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(i){e.manager.emit(i,t)}i<se&&n(e.options.event+ue(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=se&&n(e.options.event+ue(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=le},canEmit:function(){var t=0;while(t<this.requireFail.length){if(!(this.requireFail[t].state&(le|ie)))return!1;t++}return!0},recognize:function(t){var e=l({},t);if(!x(this.options.enable,[this,e]))return this.reset(),void(this.state=le);this.state&(oe|ae|le)&&(this.state=ie),this.state=this.process(e),this.state&(ne|re|se|ae)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},b(pe,ce,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(ne|re),r=this.attrTest(t);return n&&(i&$||!r)?e|ae:n||r?i&Y?e|se:e&ne?e|re:ne:le}}),b(fe,pe,{defaults:{event:"pan",threshold:10,pointers:1,direction:nt},getTouchAction:function(){var t=this.options.direction,e=[];return t&et&&e.push(Xt),t&it&&e.push(Jt),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,r=t.direction,s=t.deltaX,o=t.deltaY;return r&e.direction||(e.direction&et?(r=0===s?J:s<0?X:K,i=s!=this.pX,n=Math.abs(t.deltaX)):(r=0===o?J:o<0?Z:tt,i=o!=this.pY,n=Math.abs(t.deltaY))),t.direction=r,i&&n>e.threshold&&r&e.direction},attrTest:function(t){return pe.prototype.attrTest.call(this,t)&&(this.state&ne||!(this.state&ne)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=he(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),b(ge,pe,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[$t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&ne)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),b(me,ce,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[qt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(Y|$)&&!r)this.reset();else if(t.eventType&W)this.reset(),this._timer=g((function(){this.state=oe,this.tryEmit()}),e.time,this);else if(t.eventType&Y)return oe;return le},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===oe&&(t&&t.eventType&Y?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),b(ve,pe,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[$t]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&ne)}}),b(Ae,pe,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:et|it,pointers:1},getTouchAction:function(){return fe.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(et|it)?e=t.overallVelocity:i&et?e=t.overallVelocityX:i&it&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&i&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&p(e)>this.options.velocity&&t.eventType&Y},emit:function(t){var e=he(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),b(ye,ce,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Yt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,r=t.deltaTime<e.time;if(this.reset(),t.eventType&W&&0===this.count)return this.failTimeout();if(n&&r&&i){if(t.eventType!=Y)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||mt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,o&&s?this.count+=1:this.count=1,this._input=t;var a=this.count%e.taps;if(0===a)return this.hasRequireFailures()?(this._timer=g((function(){this.state=oe,this.tryEmit()}),e.interval,this),ne):oe}return le},failTimeout:function(){return this._timer=g((function(){this.state=le}),this.options.interval,this),le},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==oe&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),_e.VERSION="2.0.7",_e.defaults={domEvents:!1,touchAction:Wt,enable:!0,inputTarget:null,inputClass:null,preset:[[ve,{enable:!1}],[ge,{enable:!1},["rotate"]],[Ae,{direction:et}],[fe,{direction:et},["swipe"]],[ye],[ye,{event:"doubletap",taps:2},["tap"]],[me]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var be=1,we=2;function xe(t,e){this.options=l({},_e.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=at(this),this.touchAction=new Zt(this,this.options.touchAction),Ce(this,!0),v(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Ce(t,e){var i,n=t.element;n.style&&(v(t.options.cssProps,(function(r,s){i=R(n.style,s),e?(t.oldCssProps[i]=n.style[i],n.style[i]=r):n.style[i]=t.oldCssProps[i]||""})),e||(t.oldCssProps={}))}function Ee(t,e){var i=s.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}xe.prototype={set:function(t){return l(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?we:be},recognize:function(t){var e=this.session;if(!e.stopped){var i;this.touchAction.preventDefaults(t);var n=this.recognizers,r=e.curRecognizer;(!r||r&&r.state&oe)&&(r=e.curRecognizer=null);var s=0;while(s<n.length)i=n[s],e.stopped===we||r&&i!=r&&!i.canRecognizeWith(r)?i.reset():i.recognize(t),!r&&i.state&(ne|re|se)&&(r=e.curRecognizer=i),s++}},get:function(t){if(t instanceof ce)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(m(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(m(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,i=B(e,t);-1!==i&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==a&&e!==a){var i=this.handlers;return v(M(t),(function(t){i[t]=i[t]||[],i[t].push(e)})),this}},off:function(t,e){if(t!==a){var i=this.handlers;return v(M(t),(function(t){e?i[t]&&i[t].splice(B(i[t],e),1):delete i[t]})),this}},emit:function(t,e){this.options.domEvents&&Ee(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};var n=0;while(n<i.length)i[n](e),n++}},destroy:function(){this.element&&Ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},l(_e,{INPUT_START:W,INPUT_MOVE:q,INPUT_END:Y,INPUT_CANCEL:$,STATE_POSSIBLE:ie,STATE_BEGAN:ne,STATE_CHANGED:re,STATE_ENDED:se,STATE_RECOGNIZED:oe,STATE_CANCELLED:ae,STATE_FAILED:le,DIRECTION_NONE:J,DIRECTION_LEFT:X,DIRECTION_RIGHT:K,DIRECTION_UP:Z,DIRECTION_DOWN:tt,DIRECTION_HORIZONTAL:et,DIRECTION_VERTICAL:it,DIRECTION_ALL:nt,Manager:xe,Input:ot,TouchAction:Zt,TouchInput:Ot,MouseInput:xt,PointerEventInput:Tt,TouchMouseInput:Ht,SingleTouchInput:Lt,Recognizer:ce,AttrRecognizer:pe,Tap:ye,Pan:fe,Swipe:Ae,Pinch:ge,Rotate:ve,Press:me,on:E,off:S,each:v,merge:_,extend:y,assign:l,inherit:b,bindFn:w,prefixed:R});var Se="undefined"!==typeof r?r:"undefined"!==typeof self?self:{};Se.Hammer=_e,n=function(){return _e}.call(e,i,e,t),n===a||(t.exports=n)})(window,document)},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(n){"object"===typeof window&&(i=window)}t.exports=i},c989:function(t,e,i){},ca84:function(t,e,i){var n=i("e330"),r=i("1a2d"),s=i("fc6a"),o=i("4d64").indexOf,a=i("d012"),l=n([].push);t.exports=function(t,e){var i,n=s(t),c=0,u=[];for(i in n)!r(a,i)&&r(n,i)&&l(u,i);while(e.length>c)r(n,i=e[c++])&&(~o(u,i)||l(u,i));return u}},cb26:function(t,e,i){"use strict";i("b12d")},cb2b:function(t,e,i){"use strict";i("9d68")},cb2d:function(t,e,i){var n=i("1626"),r=i("9bf2"),s=i("13d2"),o=i("6374");t.exports=function(t,e,i,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:e;if(n(i)&&s(i,c,a),a.global)l?t[e]=i:o(e,i);else{try{a.unsafe?t[e]&&(l=!0):delete t[e]}catch(u){}l?t[e]=i:r.f(t,e,{value:i,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return t}},cc12:function(t,e,i){var n=i("da84"),r=i("861d"),s=n.document,o=r(s)&&r(s.createElement);t.exports=function(t){return o?s.createElement(t):{}}},cc87:function(t,e,i){},cdce:function(t,e,i){var n=i("da84"),r=i("1626"),s=n.WeakMap;t.exports=r(s)&&/native code/.test(String(s))},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,i){var n=i("da84"),r=i("1626"),s=function(t){return r(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?s(n[t]):n[t]&&n[t][e]}},d06f:function(t,e,i){"use strict";i("c989")},d0ce:function(t,e){},d186:function(t,e,i){},d1e7:function(t,e,i){"use strict";var n={}.propertyIsEnumerable,r=Object.getOwnPropertyDescriptor,s=r&&!n.call({1:2},1);e.f=s?function(t){var e=r(this,t);return!!e&&e.enumerable}:n},d1f8:function(t,e,i){},d2bb:function(t,e,i){var n=i("e330"),r=i("825a"),s=i("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,i={};try{t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),t(i,[]),e=i instanceof Array}catch(o){}return function(i,n){return r(i),s(n),e?t(i,n):i.__proto__=n,i}}():void 0)},d307:function(t,e,i){"use strict";i("1ae6")},d31e:function(t,e,i){"use strict";i("5f5a")},d32e:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/check-box-selected.680f72c0bb5b7de8969e043da6951b45.svg"},d370:function(t,e,i){var n=i("253c"),r=i("1310"),s=Object.prototype,o=s.hasOwnProperty,a=s.propertyIsEnumerable,l=n(function(){return arguments}())?n:function(t){return r(t)&&o.call(t,"callee")&&!a.call(t,"callee")};t.exports=l},d40c:function(t,e){},d58f:function(t,e,i){var n=i("59ed"),r=i("7b0b"),s=i("44ad"),o=i("07fa"),a=TypeError,l=function(t){return function(e,i,l,c){n(i);var u=r(e),h=s(u),d=o(u),p=t?d-1:0,f=t?-1:1;if(l<2)while(1){if(p in h){c=h[p],p+=f;break}if(p+=f,t?p<0:d<=p)throw a("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=f)p in h&&(c=i(c,h[p],p,u));return c}};t.exports={left:l(!1),right:l(!0)}},d7dc:function(t,e,i){},d7eb:function(t,e,i){"use strict";i("305a")},d7ec:function(t,e){},d9b5:function(t,e,i){var n=i("d066"),r=i("1626"),s=i("3a9b"),o=i("fdbf"),a=Object;t.exports=o?function(t){return"symbol"==typeof t}:function(t){var e=n("Symbol");return r(e)&&s(e.prototype,a(t))}},d9e2:function(t,e,i){var n=i("23e7"),r=i("da84"),s=i("2ba4"),o=i("e5cb"),a="WebAssembly",l=r[a],c=7!==Error("e",{cause:7}).cause,u=function(t,e){var i={};i[t]=o(t,e,c),n({global:!0,constructor:!0,arity:1,forced:c},i)},h=function(t,e){if(l&&l[t]){var i={};i[t]=o(a+"."+t,e,c),n({target:a,stat:!0,constructor:!0,arity:1,forced:c},i)}};u("Error",(function(t){return function(e){return s(t,this,arguments)}})),u("EvalError",(function(t){return function(e){return s(t,this,arguments)}})),u("RangeError",(function(t){return function(e){return s(t,this,arguments)}})),u("ReferenceError",(function(t){return function(e){return s(t,this,arguments)}})),u("SyntaxError",(function(t){return function(e){return s(t,this,arguments)}})),u("TypeError",(function(t){return function(e){return s(t,this,arguments)}})),u("URIError",(function(t){return function(e){return s(t,this,arguments)}})),h("CompileError",(function(t){return function(e){return s(t,this,arguments)}})),h("LinkError",(function(t){return function(e){return s(t,this,arguments)}})),h("RuntimeError",(function(t){return function(e){return s(t,this,arguments)}}))},da03:function(t,e,i){var n=i("2b3e"),r=n["__core-js_shared__"];t.exports=r},da52:function(t,e,i){"use strict";i("cc87")},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},db43:function(t,e,i){},dbcd:function(t,e,i){"use strict";i("366a")},dc4a:function(t,e,i){var n=i("59ed"),r=i("7234");t.exports=function(t,e){var i=t[e];return r(i)?void 0:n(i)}},dc57:function(t,e){var i=Function.prototype,n=i.toString;function r(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}t.exports=r},dcb4:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/kycdetails.915a265ae6810b90f0b479ddf330be20.svg"},dd5a:function(t,e,i){},ddda:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/expand.21c845394b57ab427633b7d10122878b.svg"},de64:function(t,e,i){},df7c:function(t,e,i){(function(t){function i(t,e){for(var i=0,n=t.length-1;n>=0;n--){var r=t[n];"."===r?t.splice(n,1):".."===r?(t.splice(n,1),i++):i&&(t.splice(n,1),i--)}if(e)for(;i--;i)t.unshift("..");return t}function n(t){"string"!==typeof t&&(t+="");var e,i=0,n=-1,r=!0;for(e=t.length-1;e>=0;--e)if(47===t.charCodeAt(e)){if(!r){i=e+1;break}}else-1===n&&(r=!1,n=e+1);return-1===n?"":t.slice(i,n)}function r(t,e){if(t.filter)return t.filter(e);for(var i=[],n=0;n<t.length;n++)e(t[n],n,t)&&i.push(t[n]);return i}e.resolve=function(){for(var e="",n=!1,s=arguments.length-1;s>=-1&&!n;s--){var o=s>=0?arguments[s]:t.cwd();if("string"!==typeof o)throw new TypeError("Arguments to path.resolve must be strings");o&&(e=o+"/"+e,n="/"===o.charAt(0))}return e=i(r(e.split("/"),(function(t){return!!t})),!n).join("/"),(n?"/":"")+e||"."},e.normalize=function(t){var n=e.isAbsolute(t),o="/"===s(t,-1);return t=i(r(t.split("/"),(function(t){return!!t})),!n).join("/"),t||n||(t="."),t&&o&&(t+="/"),(n?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(r(t,(function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t})).join("/"))},e.relative=function(t,i){function n(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var i=t.length-1;i>=0;i--)if(""!==t[i])break;return e>i?[]:t.slice(e,i-e+1)}t=e.resolve(t).substr(1),i=e.resolve(i).substr(1);for(var r=n(t.split("/")),s=n(i.split("/")),o=Math.min(r.length,s.length),a=o,l=0;l<o;l++)if(r[l]!==s[l]){a=l;break}var c=[];for(l=a;l<r.length;l++)c.push("..");return c=c.concat(s.slice(a)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){if("string"!==typeof t&&(t+=""),0===t.length)return".";for(var e=t.charCodeAt(0),i=47===e,n=-1,r=!0,s=t.length-1;s>=1;--s)if(e=t.charCodeAt(s),47===e){if(!r){n=s;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":t.slice(0,n)},e.basename=function(t,e){var i=n(t);return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},e.extname=function(t){"string"!==typeof t&&(t+="");for(var e=-1,i=0,n=-1,r=!0,s=0,o=t.length-1;o>=0;--o){var a=t.charCodeAt(o);if(47!==a)-1===n&&(r=!1,n=o+1),46===a?-1===e?e=o:1!==s&&(s=1):-1!==e&&(s=-1);else if(!r){i=o+1;break}}return-1===e||-1===n||0===s||1===s&&e===n-1&&e===i+1?"":t.slice(e,n)};var s="b"==="ab".substr(-1)?function(t,e,i){return t.substr(e,i)}:function(t,e,i){return e<0&&(e=t.length+e),t.substr(e,i)}}).call(this,i("4362"))},dfff:function(t,e,i){"use strict";i("2239")},e135:function(t,e,i){},e2f4:function(t,e,i){},e330:function(t,e,i){var n=i("40d5"),r=Function.prototype,s=r.call,o=n&&r.bind.bind(s,s);t.exports=n?o:function(t){return function(){return s.apply(t,arguments)}}},e391:function(t,e,i){var n=i("577e");t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:n(t)}},e3b6:function(t,e,i){},e3b66:function(t,e,i){},e3db:function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},e563:function(t,e,i){},e5cb:function(t,e,i){"use strict";var n=i("d066"),r=i("1a2d"),s=i("9112"),o=i("3a9b"),a=i("d2bb"),l=i("e893"),c=i("aeb0"),u=i("7156"),h=i("e391"),d=i("ab36"),p=i("0d26"),f=i("b980"),g=i("83ab"),m=i("c430");t.exports=function(t,e,i,v){var A="stackTraceLimit",y=v?2:1,_=t.split("."),b=_[_.length-1],w=n.apply(null,_);if(w){var x=w.prototype;if(!m&&r(x,"cause")&&delete x.cause,!i)return w;var C=n("Error"),E=e((function(t,e){var i=h(v?e:t,void 0),n=v?new w(t):new w;return void 0!==i&&s(n,"message",i),f&&s(n,"stack",p(n.stack,2)),this&&o(x,this)&&u(n,this,E),arguments.length>y&&d(n,arguments[y]),n}));if(E.prototype=x,"Error"!==b?a?a(E,C):l(E,C,{name:!0}):g&&A in w&&(c(E,w,A),c(E,w,"prepareStackTrace")),l(E,w),!m)try{x.name!==b&&s(x,"name",b),x.constructor=E}catch(S){}return E}}},e68e:function(t,e,i){"use strict";i("9300")},e893:function(t,e,i){var n=i("1a2d"),r=i("56ef"),s=i("06cf"),o=i("9bf2");t.exports=function(t,e,i){for(var a=r(e),l=o.f,c=s.f,u=0;u<a.length;u++){var h=a[u];n(t,h)||i&&n(i,h)||l(t,h,c(e,h))}}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e9d3:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/copy-to-clip.dd7ff79e438876031bfd5fc4017c096d.svg"},e9d5:function(t,e,i){},ea27:function(t,e){t.exports="https://cdn.pixelbin.io/v2/falling-surf-7c8bb8/fyndnp/wrkr/addsale/company/13778/applications/638461d631d64d14c6f17001/theme/pictures/free/original/empty-state.dad8145f254f744108af946933831880.png"},eac5:function(t,e){var i=Object.prototype;function n(t){var e=t&&t.constructor,n="function"==typeof e&&e.prototype||i;return t===n}t.exports=n},eb67:function(t,e,i){"use strict";i("a8e1")},ec82:function(t,e,i){"use strict";i("7161")},ed53:function(t,e,i){},ed8a:function(t,e,i){},ee06:function(t,e,i){},eec7:function(t,e,i){"use strict";var n=i("be09"),r=i("8362"),s=i("6444"),o=i("53a8");function a(t,e){for(var i=0;i<t.length;i++)e(t[i])}function l(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function c(t,e,i){var n=t;return r(e)?(i=e,"string"===typeof t&&(n={uri:t})):n=o(e,{uri:t}),n.callback=i,n}function u(t,e,i){return e=c(t,e,i),h(e)}function h(t){if("undefined"===typeof t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,r){e||(e=!0,t.callback(i,n,r))};function n(){4===p.readyState&&setTimeout(a,0)}function r(){var t=void 0;if(t=p.response?p.response:p.responseText||d(p),_)try{t=JSON.parse(t)}catch(e){}return t}function o(t){return clearTimeout(f),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,b)}function a(){if(!h){var e;clearTimeout(f),e=t.useXDR&&void 0===p.status?200:1223===p.status?204:p.status;var n=b,o=null;return 0!==e?(n={body:r(),statusCode:e,method:m,headers:{},url:g,rawRequest:p},p.getAllResponseHeaders&&(n.headers=s(p.getAllResponseHeaders()))):o=new Error("Internal XMLHttpRequest Error"),i(o,n,n.body)}}var c,h,p=t.xhr||null;p||(p=t.cors||t.useXDR?new u.XDomainRequest:new u.XMLHttpRequest);var f,g=p.url=t.uri||t.url,m=p.method=t.method||"GET",v=t.body||t.data,A=p.headers=t.headers||{},y=!!t.sync,_=!1,b={body:void 0,headers:{},statusCode:0,method:m,url:g,rawRequest:p};if("json"in t&&!1!==t.json&&(_=!0,A["accept"]||A["Accept"]||(A["Accept"]="application/json"),"GET"!==m&&"HEAD"!==m&&(A["content-type"]||A["Content-Type"]||(A["Content-Type"]="application/json"),v=JSON.stringify(!0===t.json?v:t.json))),p.onreadystatechange=n,p.onload=a,p.onerror=o,p.onprogress=function(){},p.onabort=function(){h=!0},p.ontimeout=o,p.open(m,g,!y,t.username,t.password),y||(p.withCredentials=!!t.withCredentials),!y&&t.timeout>0&&(f=setTimeout((function(){if(!h){h=!0,p.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",o(t)}}),t.timeout)),p.setRequestHeader)for(c in A)A.hasOwnProperty(c)&&p.setRequestHeader(c,A[c]);else if(t.headers&&!l(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(p.responseType=t.responseType),"beforeSend"in t&&"function"===typeof t.beforeSend&&t.beforeSend(p),p.send(v||null),p}function d(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;return""!==t.responseType||e?null:t.responseXML}function p(){}t.exports=u,u.XMLHttpRequest=n.XMLHttpRequest||p,u.XDomainRequest="withCredentials"in new u.XMLHttpRequest?u.XMLHttpRequest:n.XDomainRequest,a(["get","put","post","patch","head","delete"],(function(t){u["delete"===t?"del":t]=function(e,i,n){return i=c(e,i,n),i.method=t.toUpperCase(),h(i)}}))},ef02:function(t,e,i){},ef34:function(t,e,i){(function(e){var n,r="undefined"!==typeof e?e:"undefined"!==typeof window?window:{},s=i(0);"undefined"!==typeof document?n=document:(n=r["__GLOBAL_DOCUMENT_CACHE@4"],n||(n=r["__GLOBAL_DOCUMENT_CACHE@4"]=s)),t.exports=n}).call(this,i("c8ba"))},ef62:function(t,e,i){},f069:function(t,e,i){"use strict";i("dd5a")},f259:function(t,e,i){},f3c8:function(t,e,i){"use strict";i("6758")},f537:function(t,e,i){"use strict";i("fe3f")},f570:function(t,e,i){"use strict";i("c066")},f5df:function(t,e,i){var n=i("00ee"),r=i("1626"),s=i("c6b6"),o=i("b622"),a=o("toStringTag"),l=Object,c="Arguments"==s(function(){return arguments}()),u=function(t,e){try{return t[e]}catch(i){}};t.exports=n?s:function(t){var e,i,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=u(e=l(t),a))?i:c?s(e):"Object"==(n=s(e))&&r(e.callee)?"Arguments":n}},f6f0:function(t,e,i){},f772:function(t,e,i){var n=i("5692"),r=i("90e3"),s=n("keys");t.exports=function(t){return s[t]||(s[t]=r(t))}},f870:function(t,e,i){"use strict";i("c192")},f92d:function(t,e,i){"use strict";
/*!
 * vue-no-ssr v1.1.1
 * (c) 2018-present egoist <0x142857@gmail.com>
 * Released under the MIT License.
 */var n={name:"NoSsr",functional:!0,props:{placeholder:String,placeholderTag:{type:String,default:"div"}},render:function(t,e){var i=e.parent,n=e.slots,r=e.props,s=n(),o=s.default;void 0===o&&(o=[]);var a=s.placeholder;return i._isMounted?o:(i.$once("hook:mounted",(function(){i.$forceUpdate()})),r.placeholderTag&&(r.placeholder||a)?t(r.placeholderTag,{class:["no-ssr-placeholder"]},r.placeholder||a):o.length>0?o.map((function(){return t(!1)})):t(!1))}};t.exports=n},fae6:function(t,e,i){"use strict";i("5309")},fb02:function(t,e,i){"use strict";i("6276")},fb15:function(t,e,i){"use strict";i.r(e);var n={};i.r(n),i.d(n,"default",(function(){return ud}));var r={};i.r(r),i.d(r,"default",(function(){return Ad}));var s={};i.r(s),i.d(s,"default",(function(){return Sd}));var o={};i.r(o),i.d(o,"default",(function(){return Pd}));var a={};i.r(a),i.d(a,"default",(function(){return Gd}));var l={};i.r(l),i.d(l,"default",(function(){return Jd}));var c={};i.r(c),i.d(c,"default",(function(){return rp}));var u={};i.r(u),i.d(u,"default",(function(){return dp}));var h={};i.r(h),i.d(h,"default",(function(){return _p}));var d={};i.r(d),i.d(d,"default",(function(){return Tp}));var p={};i.r(p),i.d(p,"default",(function(){return Op}));var f={};i.r(f),i.d(f,"default",(function(){return jp}));var g={};i.r(g),i.d(g,"default",(function(){return Kp}));var m={};i.r(m),i.d(m,"default",(function(){return af}));var v={};if(i.r(v),i.d(v,"default",(function(){return gf})),"undefined"!==typeof window){var A=window.document.currentScript,y=A&&A.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);y&&(i.p=y[1])}var _=function(){var t=this,e=t._self._c;return e("div",{staticClass:"cart-page-cont"},[t.context.bag_data.message?e("div",{staticClass:"cart-message error"},[t._v(" "+t._s(t.context.bag_data.message)+" ")]):t._e(),t.context&&t.context.bag_data&&t.context.bag_data.items?e("fdk-cart",{staticClass:"cart",scopedSlots:t._u([{key:"default",fn:function(i){return[t.context.bag_data.items.length>0?[e("div",{staticClass:"cart-heading",staticStyle:{flex:"0 0 100%"}},[e("div",{staticClass:"cart__title"},[e("p",[t._v("Bag")]),e("span",[t._v(" "+t._s(t.context.bag_data.items.length)+" Item"+t._s(t.context.bag_data.items.length>1?"s":"")+" | "+t._s(t.getPiecesTxt()))]),e("fdk-share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],staticClass:"share_popup",class:{share_modal:t.showShare,topLayer:t.showShare},scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"cart-share",on:{click:function(e){return t.getCartShareLink(i)}}},[e("fdk-inline-svg",{attrs:{src:"share"}}),e("transition",{attrs:{name:"fade"}},[t.showShare?e("rd-share",{attrs:{title:"Spread the shopping delight! Scan QR & share these products with\n                      your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1)],1)]}}],null,!0)})],1)]),e("div",{staticClass:"left"},[e("div",{staticClass:"cart__items"},t._l(t.context.bag_data.items,(function(i,n){return e("cart-item",{key:n,attrs:{item:i,updateCart:t.updateCart,removeCart:t.removeCart}})})),1)]),e("div",{staticClass:"right"},[t.context.bag_data.breakup_values&&t.isGST&&t.page_config&&t.page_config.props.gst?e("gst-chip",{attrs:{context:t.context,cart:i},on:{"hide-error":()=>{t.gstin.showerror=!1},"show-error":()=>{t.gstin.showerror=!0}}}):t._e(),t.getEmployeeList.length>0&&t.isStaffSelection&&t.page_config&&t.page_config.props.staff_selection?e("employee-chip",{attrs:{is_selected:t.selectedStaffName.length>0,displayText:t.selectedStaffName,context:t.context}}):t._e(),t.context.bag_data.breakup_values?e("coupons",{attrs:{attrs:t.getCoupanData()},on:{"remove-coupon":function(e){return t.updateCoupons(i)}}}):t._e(),e("fdk-accounts",{scopedSlots:t._u([{key:"default",fn:function(n){return[n.is_logged_in?e("div",[t.isRewardPoints?e("reward-points",{attrs:{rewards_data:t.context&&t.context.bag_data&&t.context.bag_data.breakup_values&&t.context.bag_data.breakup_values.loyalty_points},on:{"change-rewards":function(e){return i.updateRewardPoints(t.context.bag_data)}}}):t._e()],1):t._e()]}}],null,!0)}),e("comment",{attrs:{value:t.context.bag_data.comment,placeholder:t.comment.label},model:{value:t.comment.value,callback:function(e){t.$set(t.comment,"value",e)},expression:"comment.value"}}),t.context.bag_data.breakup_values?e("breakup",{attrs:{breakup:t.context.bag_data.breakup_values.display}}):t._e(),t.isStaff&&t.isPlacingForCustomers&&t.page_config&&t.page_config.props.enable_customer?e("checkout-mode",{attrs:{context:t.context}}):t._e(),e("fdk-accounts",{scopedSlots:t._u([{key:"default",fn:function(n){return[n.is_logged_in?e("div",[e("white-splash-button",{class:{secondary:!0,"disabled-ws":!t.context.bag_data.is_valid||t.getGstError},attrs:{disabled:!t.context.bag_data.is_valid||t.getGstError},on:{click:function(e){return t.routeToCheckout(i)}}},[t._v(" CHECKOUT ")])],1):e("div",[e("white-splash-button",{class:{secondary:!0,"disabled-ws":!t.context.bag_data.is_valid},on:{click:n.openLogin}},[t._v(" LOGIN ")]),t.isAnonymous&&t.page_config&&t.page_config.props.enable_guest?e("div",{staticClass:"guest-chkout",class:{disable:!t.context.bag_data.is_valid,"disable-btn":t.getGstError},on:{click:function(e){return t.routeToCheckout(i)}}},[t._v(" Continue as Guest ? ")]):t._e()],1),e("div",{staticClass:"agree-terms"},[t._v(" By continuing, I agree to the "),e("fdk-link",{staticClass:"link",attrs:{target:"_blank",link:"/terms-and-conditions"}},[t._v(" Terms of Use ")]),t._v(" & "),e("fdk-link",{staticClass:"link",attrs:{target:"_blank",link:"/privacy-policy"}},[t._v(" Privacy Policy ")])],1)]}}],null,!0)})],1),t.isLoading?e("fdk-loader",{staticClass:"loader-emerge"}):t._e()]:e("div",{staticClass:"cart-empty"},[e("fdk-empty-state",{attrs:{title:"Your Shopping Bag is empty."}})],1),e("toast",{attrs:{id:"toast-message",content:t.toast_message}})]}}],null,!1,3648161569)}):t._e()],1)},b=[],w=(i("14d9"),function(){var t=this,e=t._self._c;return e("button",{staticClass:"common-button",class:t.type,attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._t("default",(function(){return[t._v(t._s(t.type))]}))],2)}),x=[],C={data:function(){return{}},props:{context:{type:Object},type:{type:String,validator:t=>["primary","secondary"].includes(t),default:"primary"},disabled:{type:Boolean,default:!1}},methods:{},computed:{},mounted:function(){},destroyed:function(){}},E=C,S=(i("156f"),i("2877")),I=Object(S["a"])(E,w,x,!1,null,"02576f82",null),T=I.exports,M=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bag"},[e("div",[e("div",{staticClass:"bag-left",class:{outofStock:t.item.availability.out_of_stock}},[e("fdk-link",{attrs:{link:"/product/"+t.item.product.slug}},[e("emerge-image",{attrs:{src:t.item.product.images[0].url,sources:[{width:110}]}})],1)],1),e("div",{staticClass:"bag-right"},[e("div",{staticClass:"bag-brand bold-sm",class:{outofStock:t.item.availability.out_of_stock}},[t._v(" "+t._s(t.item.product.brand.name)+" ")]),e("div",{staticClass:"bag-name light-xs",class:{outofStock:t.item.availability.out_of_stock}},[e("fdk-link",{attrs:{link:"/product/"+t.item.product.slug}},[t._v(" "+t._s(t.item.product.name)+" ")])],1),e("div",{staticClass:"bag-name soldby light-xs",class:{outofStock:t.item.availability.out_of_stock}},[t._v(" Sold by: "+t._s(t.item.article.store.name+",")+" "+t._s(t.item.article.seller.name)+" ")]),e("chip-item",{staticClass:"desktop",attrs:{item:t.item,chiptype:"bag"},on:{"remove-cart":t.removeCart,"update-cart":t.updateCart}}),e("div",{staticClass:"bag-name"},[e("span",{staticClass:"bold-xs"},[t._v(" Total: "+t._s(t._f("currencyformat")(t.getTotal())))]),e("span",{staticClass:"light-xs"},[t._v(" (1 Size, "+t._s(t.getPieces())+" Piece"+t._s(t.getPieces()>1?"s":"")+")")])])],1),e("div",{staticClass:"bag-bottom mobile"},[[e("chip-item",{attrs:{item:t.item,chiptype:"bag"},on:{"remove-cart":t.removeCart,"update-cart":t.updateCart}})]],2)])])},B=[],k=function(){var t=this,e=t._self._c;return e("div",{staticClass:"qty-control"},[e("button",{staticClass:"operator",attrs:{disabled:t.isdisabled},on:{click:t.incrQuantity}},[e("fdk-inline-svg",{staticClass:"operation",attrs:{src:"dec"}})],1),e("div",{staticClass:"qty-amount"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.quantity,expression:"quantity"}],staticClass:"light-xs",attrs:{type:"text",name:"qty",disabled:t.isdisabled,autocomplete:"off"},domProps:{value:t.quantity},on:{keydown:t.onQtyKeyDown,blur:t.onQtyLostFocus,input:function(e){e.target.composing||(t.quantity=e.target.value)}}})]),e("button",{staticClass:"operator",attrs:{disabled:t.isdisabled},on:{click:t.decrQuantity}},[e("fdk-inline-svg",{staticClass:"operation",attrs:{src:"inc"}})],1)])},L=[],R=i("a6b2"),P=i.n(R),D={name:"quantity-ctrl",components:{},props:{currquantity:{},isdisabled:!1},data(){return{quantity:this.currquantity}},watch:{currquantity(){this.quantity=this.currquantity}},methods:{incrQuantity(){this.$emit("inc-quantity",this.quantity)},decrQuantity(){this.$emit("dec-quantity",this.quantity)},onQtyKeyDown(t){if(13===t.keyCode)this.$emit("change-qty",Number(t.target.value));else if(!P.a.isNumberKey(t)&&!P.a.isFreeNavigation(t))return event.preventDefault()},onQtyLostFocus(t){let e=Number(t.target.value);e!==this.currquantity&&this.$emit("change-qty",e)},resetQuantity(t){this.quantity=t}}},O=D,F=(i("56a9"),Object(S["a"])(O,k,L,!1,null,"52f4b3d4",null)),N=F.exports,Q=function(){var t=this,e=t._self._c;return e("div",{staticClass:"bag-item"},[e("fdk-cart",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"chip regular-xxs"},[e("div",{staticClass:"product-metas"},["pdp"===t.chiptype||"review"===t.chiptype?e("div",[e("span",{staticClass:"strong bold-xxs"},[t._v(t._s(t.item.article.size))]),e("span",{staticClass:"strong bold-xxs"},[t._v("|")])]):t._e(),"bag"===t.chiptype?e("div",[e("select",{staticClass:"custom-select",on:{change:function(e){return t.onSizeChange(e,i)}}},t._l(t.arrSizes,(function(i,n){return e("option",{key:n,domProps:{selected:i===t.item.article.size}},[t._v(t._s(i))])})),0)]):t._e(),e("div",{staticClass:"price-cntr"},[e("span",{staticClass:"effective-price strong bold-xxs"},[t.item.is_set?[t._v(" "+t._s(t._f("currencyformat")(t.item.price_per_unit.converted.effective))+" /Pcs ")]:[t._v(" "+t._s(t._f("currencyformat")(t.item.price.converted.effective))+" ")]],2),t.item.price.converted.effective!==t.item.price.converted.marked?e("span",{staticClass:"marked-price"},[t.item.is_set?[t._v(" "+t._s(t._f("currencyformat")(t.item.price_per_unit.converted.marked))+" /Pcs ")]:[t._v(" "+t._s(t._f("currencyformat")(t.item.price.converted.marked))+" ")]],2):t._e()]),e("div",{staticClass:"discount-cntr"},[e("span",{staticClass:"discount regular-xxxs"},[t._v(" "+t._s(t.item.article.discount)+" ")])])]),e("div",{staticClass:"right-items"},[e("div",{staticClass:"quantity-container"},[e("div",{staticClass:"quantity"},["review"!==t.chiptype?e("quantity-ctrl",{ref:"qty",attrs:{currquantity:t.item.quantity,isdisabled:"review"===t.chiptype},on:{"inc-quantity":function(e){return t.updateCart(e,i.updateCart,t.item,"dec")},"dec-quantity":function(e){return t.updateCart(e,i.updateCart,t.item,"inc")},"change-qty":function(e){return t.changeQuantity(e,i)}}}):t._e(),"review"===t.chiptype?e("span",{staticClass:"light-xxs"},[t._v(" "+t._s(t.item.quantity)+" "),t.item.quantity>1?[t._v("Pieces")]:t._e(),1==t.item.quantity?[t._v("Piece")]:t._e()],2):t._e()],1)]),"pdp"==t.chiptype||"bag"==t.chiptype?e("div",{staticClass:"remove",on:{click:function(e){return t.removeCart(i.removeCart,t.item)}}},[e("fdk-inline-svg",{attrs:{src:"cross-grey"}})],1):t._e()])]),t.showQuantityError?e("div",{staticClass:"max-avail chip regular-xxs"},[t._v(" Max Quantity: "+t._s(t.item.article.quantity)+" ")]):t._e(),"pdp"!==t.chiptype&&"bag"!==t.chiptype||!t.item.availability.out_of_stock?t._e():e("div",{staticClass:"chip out-of-stock regular-xxs"},[t._v(" "+t._s(t.item.message)+" ")]),t.item.coupon_message&&""!=t.item.coupon_message?e("div",{staticClass:"offers-container chip regular-xxs"},[e("span",{staticClass:"offer-applied light-xxs"},[t._v(t._s(t.item.coupon_message))])]):t._e(),t.item.bulk_message&&""!=t.item.bulk_message?e("div",{staticClass:"offers-container chip regular-xxs"},[e("span",{staticClass:"offer-applied light-xxs"},[t._v(t._s(t.item.bulk_message))])]):t._e()]}}])})],1)},H=[],U={name:"bag-chip-item",props:{item:{},chiptype:{type:String,enum:["pdp","bag","review"]},updateCartSize:{}},components:{"quantity-ctrl":N},computed:{},methods:{updateCart(t,e,i,n){let r="qty"===n?t:"inc"===n?t+1:"dec"===n?t-1:t;if(r>this.item.article.quantity&&"inc"===n)return this.$refs["qty"].resetQuantity(i.quantity),this.showQuantityError=!0,void setTimeout(()=>{this.showQuantityError=!1},3e3);r>this.item.article.quantity&&"dec"===n?(i.quantity=this.item.article.quantity+1,this.showQuantityError=!1):this.showQuantityError=!1,this.$emit("update-cart",{func:e,item:i,operation:n})},removeCart(t,e,i){this.$emit("remove-cart",{func:t,item:e})},changeQuantity(t,e){if(this.item.availability.out_of_stock)this.showQuantityError=!1,t=this.item.article.quantity,this.updateQuantity(t,e);else{if(t>this.item.article.quantity)return this.$refs["qty"].resetQuantity(this.item.quantity),this.showQuantityError=!0,void setTimeout(()=>{this.showQuantityError=!1},3e3);0===t?(this.showQuantityError=!1,this.removeFromCart(e)):(this.showQuantityError=!1,this.updateQuantity(t,e))}},onSizeChange(t,e){let i={item_id:this.item.product.uid,item_size:t.target.value,article_id:this.item.key,quantity:this.item.quantity,item_index:this.item.item_index,identifiers:this.item.identifiers};this.showQuantityError=!1,this.updateCart(this.item.quantity,e.updateCart,i,"size")},updateQuantity(t,e){let i={item_id:this.item.product.uid,quantity:Number(t),article_id:this.item.key,item_size:this.item.article.size,item_index:this.item.item_index,identifiers:this.item.identifiers};this.showQuantityError=!1,this.updateCart(t,e.updateCart,i,"qty")},removeFromCart(t){let e={item_id:this.item.product.uid,quantity:Number(this.item.quantity),article_id:this.item.key,item_size:this.item.article.size,item_index:this.item.item_index,identifiers:this.item.identifiers};this.showQuantityError=!1,this.$emit("remove-cart",{item:e,func:t.removeCart})}},data(){return{showQuantityError:!1,arrSizes:this.item.availability.sizes.filter(t=>t===this.item.article.size).length>0?this.item.availability.sizes:[].concat(this.item.article.size)}}},G=U,z=(i("1a0f"),Object(S["a"])(G,Q,H,!1,null,"213a99b2",null)),j=z.exports,V=function(){var t=this,e=t._self._c;return e("picture",[t._l(t.sources,(function(i,n){return e("source",{key:n,attrs:{media:t.getMedia(i),srcset:t.getUrl(i.width,".webp"),type:"image/webp"}})})),e("img",{staticClass:"fy__img",attrs:{srcset:t.fallbackSrcset,src:t.getSrc,alt:t.alt},on:{error:t.onError}})],2)},W=[];const q="https://hdn-1.fynd.com/company/1085/applications/5eba2d861a29a06c72103e33/theme/pictures/free/original/theme-image-1606391195670.png",Y=["original","30x0","44x0","66x0","50x0","75x0","60x60","90x90","100x0","130x200","135x0","270x0","360x0","500x0","400x0","540x0","720x0","312x480","resize-(w|h)?:[0-9]+(,)?(w|h)*(:)?[0-9]*"];function $(t,e){for(var i=0;i<e.length;i++)if(t.match(new RegExp("/"+e[i]+"/")))return e[i];return""}var J={name:"emerge-image",props:{backgroundColor:{type:String,default:"#ffffff"},src:{type:String,default:""},placeholder:{type:String,default:q},alt:{type:String,default:""},sources:{type:Array,default(){return[{breakpoint:{min:780},width:1180},{breakpoint:{min:600},width:580},{breakpoint:{min:480},width:580},{breakpoint:{min:361},width:460},{breakpoint:{max:360},width:340}]}}},data(){return{isError:!1}},computed:{getSrc(){return this.isError?this.placeholder:this.src},fallbackSrcset(){let t=this.src;this.isError&&(t=this.placeholder);const e=$(t,Y);return this.sources.map(i=>{let n=t;return e&&(n=this.resizeW(t,e,i.width)),`${n} ${i.width}w`}).join(", ")}},methods:{onError(){this.isError=!0,this.$forceUpdate()},resizeW(t,e,i){let n="/"+e+"/";return t.replace(new RegExp(n),"/resize-w:"+i+"/")},getUrl(t,e){let i=this.src;this.isError&&(i=this.placeholder);const n=i.lastIndexOf(".");i=i.substr(0,n<0?i.length:n)+e;const r=$(i,Y);return r?this.resizeW(i,r,t):i},getMedia(t){if(t.breakpoint){const e=t.breakpoint.min&&`(min-width: ${t.breakpoint.min}px)`||"",i=t.breakpoint.max&&`(max-width: ${t.breakpoint.max}px)`||"";return e&&i?`${e} and ${i}`:e||i}return""}}},X=J,K=(i("da52"),Object(S["a"])(X,V,W,!1,null,"1bee3467",null)),Z=K.exports,tt={name:"cart-item",props:["item","updateCart","removeCart"],components:{"quantity-ctrl":N,"chip-item":j,"emerge-image":Z},methods:{getTotal(){return this.item.article.price.converted.effective*this.item.quantity},getPieces(){return this.item.quantity}}},et=tt,it=(i("478b"),Object(S["a"])(et,M,B,!1,null,"c3e0b3dc",null)),nt=it.exports,rt=i("4a7a"),st=i.n(rt),ot=i("9460");const at=(t,e,i)=>{var n;return function(){var r=this,s=arguments,o=function(){n=null,i||t.apply(r,s)},a=i&&!n;clearTimeout(n),n=setTimeout(o,e),a&&t.apply(r,s)}},lt=()=>{if(ot["isBrowser"])return!!(window&&window.screen.width<=768)},ct=t=>{const e=document.createElement("textarea");e.value=t,e.setAttribute("readonly",""),e.style.position="absolute",e.style.left="-9999px",document.body.appendChild(e);const i=document.getSelection().rangeCount>0&&document.getSelection().getRangeAt(0);e.select(),document.execCommand("copy"),document.body.removeChild(e),i&&(document.getSelection().removeAllRanges(),document.getSelection().addRange(i))},ut=t=>/<(?=.*? .*?\/ ?>|br|hr|input|!--|wbr)[a-z]+.*?>|<([a-z]+).*?<\/\1>/i.test(t),ht=(t,e)=>{let i=Math.ceil((new Date(e).getTime()-new Date(t).getTime())/864e5),n="";return n=i<=30?i>1?i+" days":i+" day":i>30&&i<365?Math.ceil(i/30)>1?Math.ceil(i/30)+" months":Math.ceil(i/30)+" month":Math.ceil(i/365)>1?Math.ceil(i/365)+" years":Math.ceil(i/365)+" year",n},dt=(t,e,i)=>{if(t&&t.price)return t.price[e].min!==t.price[e].max?i.filters.currencyformat(t.price[e].min)+" - "+i.filters.currencyformat(t.price[e].max):i.filters.currencyformat(t.price[e].min)},pt=(t,e)=>{if(t&&t.price)return t.price[e].min!==t.price[e].max?t.price[e].min+" - "+t.price[e].max:t.price[e].min},ft=t=>pt(t,"effective")!==pt(t,"marked"),gt=(t,e)=>{e=1;var i=[];for(let n=0;n<t;n+=e)i.push(String(n));return i},mt=function(t,e){let i=t.secure_url;return lt()&&(i=e?e.secure_url:i),i};var vt=i("bf9d"),At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"share-popup",on:{click:function(t){t.stopPropagation()}}},[t.shareLoading?e("div",[t.shareLoading?e("div",{staticClass:"loader-center"},[e("img",{attrs:{src:i("94ba"),alt:""}})]):t._e()]):[t.title?e("p",{staticClass:"popup-title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),e("div",{staticClass:"close",on:{click:t.close}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1),e("div",{staticClass:"qr-code"},[e("div",{domProps:{innerHTML:t._s(t.qr_code)}})]),e("p",{staticStyle:{"margin-bottom":"10px"}},[t._v("OR")]),e("div",{staticClass:"icons"},[e("div",{staticClass:"facebook",on:{click:t.copyToClipboard}},[e("img",{attrs:{src:i("e9d3"),title:"copy",alt:""}})]),e("div",{staticClass:"facebook",on:{click:t.shareOnFacebook}},[e("img",{attrs:{src:i("07ca"),title:"facebook",alt:""}})]),e("div",{staticClass:"twitter",on:{click:t.shareOnTwitter}},[e("img",{attrs:{src:i("0e39"),title:"twitter",alt:""}})])])],e("toast",{style:"z-index:10;top:30%",attrs:{id:"toast-message",content:t.toast_message}})],2)},yt=[],_t={name:"share",props:["share_link","title","qr_code","shareLoading"],components:{toast:vt["default"]},data(){return{toast_message:""}},mounted(){},methods:{close(){this.$emit("close-share")},shareOnFacebook(t){t.stopPropagation(),t.preventDefault();var e=window.open("https://www.facebook.com/sharer/sharer.php?u="+this.share_link,"facebook-popup","height=350,width=600");return e.focus&&e.focus(),!1},shareOnTwitter(t){t.stopPropagation(),t.preventDefault();var e=window.open("https://twitter.com/share?url="+this.share_link,"twitter-popup","height=350,width=600");return e.focus&&e.focus(),!1},copyToClipboard(t){t.stopPropagation(),ct(this.share_link),this.showToast("Link Copied to Clipboard")},showToast:function(t){t&&(this.toast_message=t);var e=document.getElementById("toast-message");e.className="toast show",setTimeout((function(){e.className=e.className.replace("toast show","toast hide")}),3e3)}}},bt=_t,wt=(i("8ec5"),Object(S["a"])(bt,At,yt,!1,null,"6e357c6d",null)),xt=wt.exports,Ct=(i("6dfc"),function(){var t=this,e=t._self._c;return e("router-link",{attrs:{to:t.attrs.link}},[e("div",{staticClass:"list"},[e("div",{staticClass:"icons"},[e("fdk-inline-svg",{attrs:{src:t.attrs.iconClass}})],1),e("div",{staticClass:"offer"},[e("div",{staticClass:"desc bold-sm"},[t._v(t._s(t.attrs.title))]),e("div",{staticClass:"sub-desc regular-xxxs",class:{couponapplied:t.attrs.hasCancel}},[t._v(" "+t._s(t.attrs.subtitle)+" ")])]),t.onReview?t._e():e("div",{staticClass:"icons",on:{click:t.clickIcon}},[e("fdk-inline-svg",{attrs:{src:t.getIcon}})],1)])])}),Et=[],St={name:"cart-coupons",props:{attrs:{},onReview:{}},components:{},computed:{getIcon(){return this.attrs.hasCancel?"red_cross":"arrow-right-black"}},methods:{clickIcon(t){this.attrs.hasCancel&&this.$emit("remove-coupon"),t.stopPropagation(),t.preventDefault()}}},It=St,Tt=(i("a46f"),Object(S["a"])(It,Ct,Et,!1,null,"428154d2",null)),Mt=Tt.exports,Bt=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"list"},[e("div",{staticClass:"icons"},[e("fdk-inline-svg",{attrs:{src:"request"}})],1),e("div",{staticClass:"input"},[e("div",{staticClass:"label bold-sm"},[t._v("Comment")]),e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],attrs:{type:"text",placeholder:"Add any comments"},domProps:{value:t.value},on:{change:function(e){return t.$emit("input",e.target.value)},input:function(e){e.target.composing||(t.value=e.target.value)}}})])])])])},kt=[],Lt={name:"cart-commment",props:{value:{},placeholder:""},components:{},data(){return{}},computed:{},methods:{}},Rt=Lt,Pt=(i("2433"),Object(S["a"])(Rt,Bt,kt,!1,null,"ce1e4776",null)),Dt=Pt.exports,Ot=function(){var t=this,e=t._self._c;return e("div",t._l(t.breakup,(function(i,n){return e("div",{key:"break_"+n},[n!=t.breakup.length-1?e("div",{staticClass:"totals sub-title regular-xs",class:{discount:Number(i.value)<0}},[e("div",[t._v(t._s(i.display))]),e("div",{staticClass:"value effective-price"},[e("span",[t._v(t._s(t._f("currencyformat")(i.value)))])])]):t._e(),n===t.breakup.length-1?e("div",{staticClass:"totals title regular-lg"},[e("div",[t._v(t._s(i.display))]),e("div",{staticClass:"value effective-price"},[t._v(" "+t._s(t._f("currencyformat")(i.value))+" ")])]):t._e()])})),0)},Ft=[],Nt={name:"common-breakup",props:{breakup:{type:Array,required:!0,default:[]}}},Qt=Nt,Ht=(i("ec82"),Object(S["a"])(Qt,Ot,Ft,!1,null,"c841c938",null)),Ut=Ht.exports,Gt=function(){var t=this,e=t._self._c;return e("fdk-cart",{ref:"gstCart",staticClass:"gst-box",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"list"},[e("div",{staticClass:"icons"},[e("fdk-inline-svg",{attrs:{src:"kycdetails"}})],1),e("div",{staticClass:"gst-input"},[e("div",{staticClass:"label bold-sm"},[t._v("GST Details")]),t.isApplied?t._e():e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.gstNumber,expression:"gstNumber"}],attrs:{type:"text",maxlength:"15",placeholder:"Enter GST"},domProps:{value:t.gstNumber},on:{input:[function(e){e.target.composing||(t.gstNumber=e.target.value)},t.onInput]}})]),t.isApplied?e("div",{staticClass:"gst-value regular-xxs"},[t._v(" "+t._s(t.gstNumber)+" ")]):t._e(),e("div",{staticClass:"status light-xxs"},[t.isApplied||t.showError?t._e():e("span",{staticClass:"status-info"},[t._v("Enter GST number to claim "+t._s(t._f("currencyformat")(t.amount))+" input credit ")]),t.isApplied?e("span",{staticClass:"applied light-xxxs"},[t._v("Claim "+t._s(t._f("currencyformat")(t.context.bag_data.breakup_values.raw.gst_charges))+" GST input credit ")]):t._e(),!t.isApplied&&t.showError?e("span",{staticClass:"error"},[t._v(" Enter valid GST number ")]):t._e()])]),t.isApplied?e("div",{staticClass:"icons",on:{click:function(e){return t.removeGST(i)}}},[e("fdk-inline-svg",{attrs:{src:"red_cross"}})],1):t._e()])]}}])})},zt=[];const jt=15;var Vt={name:"gst-chip",props:{context:{},cart:{}},components:{},data(){return{gstNumber:this.context.bag_data.gstin,isApplied:!!this.context.bag_data.gstin,showError:!1}},computed:{},methods:{onInput(t){this.gstNumber.length===jt?this.applyGST():this.gstNumber.length>=jt?(this.showError=!0,this.$emit("show-error")):(this.showError=!1,this.$emit("hide-error"))},applyGST(){var t;let e={gstin:this.gstNumber};null===(t=this.$refs["gstCart"])||void 0===t||t.updateCartMeta(e,this.context.bag_data.id).then(t=>{if(t.is_valid)return this.isApplied=!0,this.showError=!1,void this.$emit("hide-error");this.showError=!0,this.$emit("show-error")}).catch(t=>{this.showError=!0,this.$emit("show-error")})},removeGST(t){let e={gstin:""};t.updateCartMeta(e,this.context.bag_data.id).then(t=>{this.gstNumber="",this.isApplied=!1,this.showError=!1,this.$emit("hide-error")}).catch(t=>{})}}},Wt=Vt,qt=(i("b4bf"),Object(S["a"])(Wt,Gt,zt,!1,null,"e779da16",null)),Yt=qt.exports,$t=function(){var t=this,e=t._self._c;return e("fdk-employee",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"main"},[e("div",{staticClass:"icon"},[e("fdk-inline-svg",{attrs:{src:"profile_black"}})],1),e("div",{staticClass:"employee-block"},[e("div",{staticClass:"label bold-sm"},[t._v("Assign Employee")]),t.selected||t.is_selected?e("div",[e("div",{staticClass:"selected-employee"},[e("span",{staticClass:"employee-name dark-xxs"},[t._v(t._s(t.searchText||t.displayText))]),e("div",{staticClass:"cross",on:{click:function(e){return t.openInputbox(i)}}},[e("fdk-inline-svg",{attrs:{src:"red_cross"}})],1)])]):e("div",[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],staticClass:"employee-input",attrs:{type:"text",placeholder:"Employee name",id:"search",autocomplete:"off"},domProps:{value:t.searchText},on:{input:[function(e){e.target.composing||(t.searchText=e.target.value)},t.debounceInput],focus:t.showemployeeList}})]),t.isSearchOpen()?e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.clickOutside,expression:"clickOutside"}],staticClass:"searchautocomplete"},[e("ul",t._l(t.filteredData,(function(n,r){return e("li",{key:r,staticClass:"regular-xs",on:{click:function(e){return t.selectEmployee(n,i)}}},[e("div",[e("span",{staticClass:"regular-xxs"},[t._v(t._s(n.first_name)+" "+t._s(n.last_name)+" "+t._s(n.employee_code?`(${n.employee_code})`:""))])])])})),0)]):t._e(),e("div",{staticClass:"helper light-xxxxs"},[t._v(" Explain the benefit of assigning employee ")])])])]}}])})},Jt=[];var Xt={name:"employee-card",components:{},props:{displayText:{type:String,default:""},is_selected:{type:Boolean,default:!1},context:{type:Object}},data(){return{searchText:"",showList:!1,selected:!1,filteredData:""}},mounted(){let t=this.context.employee_list.find(t=>this.context.employee_access.user_id===t._id);t&&this.selectEmployee({first_name:t.first_name,last_name:t.last_name})},computed:{},methods:{showemployeeList(){this.showList=!0,this.filteredData=this.context.employee_list.slice(0,this.context.employee_list.length)},selectEmployee(t,e){this.showList=!1,this.selected=!0,this.searchText=`${t.first_name} ${t.last_name?t.last_name:""}`,e&&e.saveEmployee(t)},debounceInput:at((function(t){this.filteredData=this.context.employee_list.filter(t=>{this.searchText.length>0&&(this.showList=!0);let e=`${t.first_name} ${t.last_name}`;if(e.toLowerCase().startsWith(this.searchText.toLowerCase()))return!0})}),200),isSearchOpen(){return this.showList},resetText(t){this.searchText="",this.showList=!1,this.search=null},clickOutside(t){t&&"search"!==t.target.id&&(this.showList=!1)},openInputbox(t){this.selected=!1,this.searchText="",t.removeEmployee()}}},Kt=Xt,Zt=(i("586b"),Object(S["a"])(Kt,$t,Jt,!1,null,"0d232792",null)),te=Zt.exports,ee=function(){var t=this,e=t._self._c;return e("div",{staticClass:"list",on:{click:t.clickIcon}},[t._m(0),e("div",{staticClass:"offer"},[e("div",{staticClass:"desc bold-sm"},[t._v(t._s(t.getTitle))]),e("div",{staticClass:"sub-desc regular-xxxs"},[t._v(t._s(t.getSubtitle))])]),e("div",{staticClass:"icons"},[this.rewards_data.is_applied?e("img",{attrs:{src:i("d32e")}}):t._e(),this.rewards_data.is_applied?t._e():e("img",{attrs:{src:i("0fff")}})])])},ie=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"icons"},[e("img",{attrs:{src:i("dcb4")}})])}],ne={name:"reward-points",props:{rewards_data:{}},components:{},computed:{getTitle(){return this.rewards_data&&this.rewards_data.title?this.rewards_data.title:"Reward Points"},getSubtitle(){return this.rewards_data&&this.rewards_data.subtitle?this.rewards_data.subtitle:`Apply ${this.rewards_data.applicable} points of ${this.rewards_data.total} points`}},methods:{clickIcon(t){this.$emit("change-rewards"),t.stopPropagation(),t.preventDefault()}}},re=ne,se=(i("a6fd"),Object(S["a"])(re,ee,ie,!1,null,"cadf8f0c",null)),oe=se.exports,ae=function(){var t=this,e=t._self._c;return e("fdk-cart",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"main regular-xxs",on:{click:function(e){return t.onClick(i)}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"other"===t.context.checkout_mode?"check-box-selected":"regular"}})],1),e("div",{staticClass:"message"},[t._v("Placing order on behalf of Customer")])])]}}])})},le=[],ce={name:"checkout-mode",components:{},computed:{},props:{context:{type:Object}},data(){return{}},watch:{context(t){this.context=t}},methods:{onClick(t){let e={checkout_mode:"self"===this.context.checkout_mode?"other":"self"};t.updateCheckoutMode(e,this.context.bag_data.id)}}},ue=ce,he=(i("5e94"),Object(S["a"])(ue,ae,le,!1,null,"b22bd7d2",null)),de=he.exports;const pe=15;var fe={name:"cart",props:["context"],components:{"cart-item":nt,"white-splash-button":T,"rd-share":xt,"gst-chip":Yt,"employee-chip":te,"reward-points":oe,"checkout-mode":de,coupons:Mt,comment:Dt,breakup:Ut,vSelect:st.a,toast:vt["default"]},data(){return{toast_message:"",isLoading:!1,shareLoading:!1,showShare:!1,share_link:"",qr_code:"",gstin:{label:"Add GST number",showerror:!1,value:"",applied:!1,errortext:"Please enter valid GST number"},comment:{value:"",label:"Add any comments"}}},computed:{getGstError(){return this.gstin.showerror},getEmployeeList(){return this.context.employee_list.map(t=>(t.full_name=`${t.first_name} ${t.last_name} ${t.employee_code?`(${t.employee_code})`:""}`,t))},getSelectEmployeeValue(){if(this.context.selected_employee.first_name)return{...this.context.selected_employee,full_name:`${this.context.selected_employee.first_name} ${this.context.selected_employee.last_name}`}},selectedStaffName(){return this.context.selected_employee&&this.context.selected_employee.first_name?`${this.context.selected_employee.first_name} ${this.context.selected_employee.last_name}`:""},isRewardPoints(){var t;const{feature:e}=null===(t=this.context)||void 0===t?void 0:t.app_features;return!!e&&(e&&e.common&&e.common.reward_points&&e.common.reward_points.debit&&e.common.reward_points.debit.enabled)},isAnonymous(){const{feature:t}=this.context.app_features;return!!t&&(t&&t.landing_page&&t.landing_page.continue_as_guest)},isStaff(){const t=this.context.employee_access&&this.context.employee_access.staff;return!!t},isStaffSelection(){const{feature:t}=this.context.app_features;return!!t&&(t&&t.cart&&t.cart.staff_selection)},isPlacingForCustomers(){const{feature:t}=this.context.app_features;return!!t&&(t&&t.cart&&t.cart.placing_for_customer)},isGST(){const{feature:t}=this.context.app_features;return!!t&&(t&&t.cart&&t.cart.gst_input)}},mounted(){this.context.bag_data.comment.length>0&&(this.comment.value=this.context.bag_data.comment)},methods:{removeCart(t){this.isLoading=!0;let e=this.context.bag_data.items[t.item.item_index];t.func([e]).then(({data:t})=>{this.isLoading=!1}).catch(t=>{console.log(t),this.isLoading=!1})},updateCart(t){this.isLoading=!0;let e=this.context.bag_data.items[t.item.item_index];"inc"===t.operation?e.quantity++:"dec"===t.operation?t.item.article.quantity<t.item.quantity?e.quantity=t.item.article.quantity:e.quantity--:"size"===t.operation?e.article.size=t.item.item_size:"qty"===t.operation&&(e.quantity=t.item.quantity),e.quantity<=0&&(e.quantity=0),t.func([e]).then(({data:t})=>{this.isLoading=!1}).catch(t=>{console.log(t),this.isLoading=!1})},checkGSTIN(t){this.gstin.applied=!1,this.gstin.value.length===pe?this.applyGST(t):this.gstin.value.length>=pe?this.gstin.showerror=!0:this.gstin.showerror=!1},applyGST(t){this.gstin.showerror=!1,this.isLoading=!0;let e={gstin:this.gstin.value};t.updateCartMeta(e,this.context.bag_data.id).then(t=>{if(t.is_valid)return this.gstin.applied=!0,this.gstin.showerror=!1,void(this.isLoading=!1);this.gstin.showerror=!0}).catch(t=>{this.gstin.showerror=!0,this.isLoading=!1})},removeGST(t){this.isLoading=!0;let e={gstin:""};t.updateCartMeta(e,this.context.bag_data.id).then(t=>{this.gstin.applied=!1,this.gstin.value="",this.gstin.showerror=!1,this.isLoading=!1}).catch(t=>{this.isLoading=!1})},updateCoupons(t){if(this.context.bag_data.breakup_values.coupon.is_applied)return this.isLoading=!0,void t.removeCoupon({id:this.context.bag_data.id}).then(t=>{this.isLoading=!1}).catch(t=>{console.log(t),this.isLoading=!1})},routeToCheckout(t){if(this.comment.value.length>0){this.isLoading=!0;let e={comment:this.comment.value};t.updateCartMeta(e,this.context.bag_data.id).then(t=>{this.isLoading=!1,this.$router.push("/cart/delivery?id="+this.context.bag_data.id)})}else this.$router.push("/cart/delivery?id="+this.context.bag_data.id)},getCartShareLink(t){this.showShare=!0,this.shareLoading=!0,t.cartShareLink(this.context.bag_data.id).then(e=>{t.generateQRCode(e).then(t=>{this.qr_code=`\n                <div style="width: 250px;">\n                ${t.svg}\n\n                </div>\n                `,this.share_link=e,this.shareLoading=!1})})},hideShare(){this.showShare=!1},getPiecesTxt(){let t=0,e=this.context;if(e.bag_data&&e.bag_data.items)for(let n=0;n<e.bag_data.items.length;n++)t+=e.bag_data.items[n].quantity;let i="";return i=t>1?t+" Pieces":t+" Piece",i},getCoupanData(){let t=this.context.bag_data.breakup_values.coupon,e={iconClass:"coupon",title:"Offers & Coupons",link:"/cart/available-coupons?id="+this.context.bag_data.id};return t&&t.code&&t.is_applied?(e.hasCancel=!0,e.subtitle="Applied: "+t.code):e.subtitle="View all offers",e}},watch:{context:function(t){this.context=t,this.comment.value=t.bag_data.comment,this.gstin.value=t.bag_data.gstin,t.bag_data.gstin?this.gstin.applied=!0:this.gstin.applied=!1}}},ge=fe,me=(i("d7eb"),i("d7ec")),ve=i.n(me),Ae=Object(S["a"])(ge,_,b,!1,null,"475cab56",null);"function"===typeof ve.a&&ve()(Ae);var ye,_e,be,we,xe=Ae.exports,Ce={},Ee=Object(S["a"])(Ce,ye,_e,!1,null,null,null),Se=Ee.exports,Ie={},Te=Object(S["a"])(Ie,be,we,!1,null,null,null),Me=Te.exports,Be=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-main-container",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[t.context&&t.context.categories&&t.context.categories.loading?e("fdk-loader"):t._e(),t.context&&t.context.categories&&t.context.categories.allsecondchilds.length>0?[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.page_config&&t.page_config.props.heading?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.page_config.props.heading)+" ")]):t._e()]),e("group-list",{attrs:{cardlist:t.context.categories.allsecondchilds,cardtype:"CATEGORIES",itemcount:t.page_config.props.items_per_row,global_config:t.global_config}})],1)])]:t.context&&t.context.categories&&t.context&&!t.context.categories.loading&&0===t.context.categories.allsecondchilds.length&&t.isMounted?e("fdk-empty-state",{attrs:{title:"No Categories found"}}):t._e()],2)},ke=[],Le=function(){var t=this,e=t._self._c;return e("div",{staticClass:"grp-list-wrap"},[e("div",{staticClass:"group-cards",class:{"logo-only-group":t.show_only_logo},style:t.getFlex,attrs:{"data-card":t.cardtype}},["PRODUCT"===t.cardtype?t._l(t.cardlist,(function(i,n){return e("group-item-product",{key:i.slug+t.cardtype+n,attrs:{card:i,global_config:t.global_config}})})):"GALLERY"===t.cardtype?t._l(t.cardlist,(function(t,i){return e("gallery-item",{key:"gallery-item"+i,attrs:{block:t}})})):t.show_only_logo?t._l(t.cardlist,(function(i,n){return e("group-item-logo",{key:"group-item-logo"+n,attrs:{card:i,cardtype:t.cardtype,global_config:t.global_config}})})):t._l(t.cardlist,(function(i,n){return e("group-item",{key:i.slug+t.cardtype+n,attrs:{card:i,cardtype:t.cardtype,global_config:t.global_config}})}))],2)])},Re=[],Pe=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-item group-item-box",attrs:{title:t.getTitle}},[e("fdk-link",{attrs:{action:t.card.action}},[e("div",{staticClass:"card-img",class:{},attrs:{"data-cardtype":t.cardtype}},[e("emerge-image",{staticClass:"group-item-img",attrs:{src:t.getImageURL,sources:[{breakpoint:{min:768},width:400},{breakpoint:{min:361},width:360},{breakpoint:{max:360},width:360}]}})],1)]),e("div",{staticClass:"logo-wrapper",class:{"emerge-center":"COLLECTIONS"===t.cardtype||"CATEGORIES"===t.cardtype},attrs:{"data-cardtype":t.cardtype}},["BRANDS"===t.cardtype?e("div",{staticClass:"card-logo"},[e("emerge-image",{attrs:{src:t.getCardLogo}})],1):t._e(),e("div",{class:["card-desc",t.cardtype]},[e("h4",{style:"color: "+t.global_config.props.text_heading_link_color},[t._v(t._s(t.card.name))])])])],1)},De=[],Oe=i("148d"),Fe=i.n(Oe),Ne={name:"groupItem",components:{"emerge-image":Z},props:{card:{type:Object,required:!0},cardtype:{type:String,enum:["BRANDS","CATEGORIES","COLLECTIONS","WISHLIST","PRODUCT"]},global_config:{}},data(){return{}},computed:{getTitle(){let t=this.card.name;return this.card.product_name&&(t+=" "+this.card.product_name),t},getCardLogo(){var t;return(null===(t=this.card.logo)||void 0===t?void 0:t.url)||null},getImageURL(){let t=this.card.medias?this.card.medias.url:Array.isArray(this.card.medias)?this.card.medias[0].url:"";return"COLLECTIONS"===this.cardtype&&(t=this.card.banners.portrait.url),"BRANDS"===this.cardtype&&this.card.banners&&(t=this.card.banners.portrait.url),"CATEGORIES"===this.cardtype&&this.card.banners&&(t=this.card.banners.portrait.url),t},generateLink(){return"COLLECTIONS"===this.cardtype?"/collection/"+this.card.slug:"PRODUCT"===this.cardtype?"/product/"+this.card.slug:"BRANDS"===this.cardtype?"/products/?brand="+this.card.slug:"/products/?"+this.card.slug}},methods:{getProductPrice(t){return this.card.price?this.card.price[t].min!==this.card.price[t].max?this.$options.filters.currencyformat(this.card.price[t].min)+" - "+this.$options.filters.currencyformat(this.card.price[t].max):this.$options.filters.currencyformat(this.card.price[t].min):""},generateQuery(){let t="";for(let e in this.card.action.query)for(let i=0;i<this.card.action.query[e].length;i++)t+=e+"="+this.card.action.query[e][i]+"&";return t},validateCardType(){return"BRANDS"!==this.cardtype&&"COLLECTIONS"!==this.cardtype&&"CATEGORIES"!==this.cardtype},replaceByDefault(t){t.target.src=Fe.a}}},Qe=Ne,He=(i("51bc"),Object(S["a"])(Qe,Pe,De,!1,null,"2bf7ac6e",null)),Ue=He.exports,Ge=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-item group-item-product-box",attrs:{title:t.getTitle}},[e("fdk-link",{attrs:{link:t.generateLink}},[e("div",{staticClass:"card-img",class:{},attrs:{"data-cardtype":t.cardtype}},[e("emerge-image",{staticClass:"group-item-img",attrs:{src:t.getImageURL,sources:[{width:360}]}})],1),e("div",{staticClass:"details-wrapper"},[e("div",{staticClass:"details"},[e("div",{staticClass:"title",style:"color: "+t.global_config.props.text_heading_link_color,attrs:{title:t.card.name}},[t._v(" "+t._s(t.card.name)+" ")]),e("div",{staticClass:"price"},[t.card.price&&t.card.price.effective?e("span",{style:t.hasDiscount(t.card)?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(" "+t._s(t.getPrice(t.card,"effective"))+" ")]):t._e(),t.hasDiscount(t.card)?e("span",{staticClass:"price-marked strikethrough",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(t.card.price.marked.currency_symbol)+" "+t._s(t.card.price.marked.max)+" ")]):t._e(),t.hasDiscount(t.card)?e("span",{staticClass:"product-total-discount",style:"color:"+t.global_config.props.text_discount_color},[e("span",{},[t._v(t._s(t.card.discount))])]):t._e(),t.validateCardType()?e("div",{staticClass:"item-selection"},[e("favourite",{attrs:{item:t.card,cardType:t.cardtype}})],1):t._e()])])])])],1)},ze=[],je=function(){var t=this,e=t._self._c;return e("fdk-product-card",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("fdk-accounts",{staticClass:"wishlist-btn",scopedSlots:t._u([{key:"default",fn:function(n){return[n.is_logged_in&&t.isMounted?e("div",{on:{click:function(e){return i.updateWishList(e,t.item)}}},[t.item.follow?t.item.follow?e("fdk-inline-svg",{attrs:{src:"wishlist-active"}}):t._e():e("fdk-inline-svg",{attrs:{src:"wishlist"}})],1):t._e()]}}],null,!0)})]}}])})},Ve=[],We={name:"favourite",props:{item:Object,cardType:String},mounted(){this.isMounted=!0},data:function(){return{isMounted:!1}},methods:{}},qe=We,Ye=Object(S["a"])(qe,je,Ve,!1,null,"86ec571e",null),$e=Ye.exports,Je=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rating"},t._l(5,(function(i){return e("div",{key:i,class:t.getRatingStar(i)})})),0)},Xe=[],Ke={name:"fdk-rating",props:{rating:{type:Number}},methods:{getRatingStar:function(t){let e=this.rating%1,i={"fa-star":!0};return t<=this.rating?i["fa-star-checked"]=!0:e&&Math.round(this.rating)===t&&(i["fa-star-half"]=!0),i}},data:function(){return{}},mounted(){}},Ze=Ke,ti=(i("9fa5"),Object(S["a"])(Ze,Je,Xe,!1,null,"63245b0b",null)),ei=ti.exports,ii=(i("7071"),{name:"groupItem",components:{favourite:$e,rating:ei,"emerge-image":Z},props:{card:{type:Object,required:!0},global_config:{}},data(){return{}},computed:{getTitle(){let t=this.card.name;return this.card.product_name&&(t+=" "+this.card.product_name),t},getCardLogo(){var t;return(null===(t=this.card.logo)||void 0===t?void 0:t.url)||null},getImageURL(){let t=this.card.image?this.card.image.url:Array.isArray(this.card.medias)?this.card.medias[0].url:"";return"COLLECTIONS"!==this.cardtype&&"BRANDS"!==this.cardtype||(t=this.card.banners.portrait.url),t},generateLink(){return"/product/"+this.card.slug}},methods:{getPrice(t,e){return dt(t,e,this.$options)},hasDiscount:ft,generateQuery(){let t="";for(let e in this.card.action.query)for(let i=0;i<this.card.action.query[e].length;i++)t+=e+"="+this.card.action.query[e][i]+"&";return t},replaceByDefault(t){t.target.src=Fe.a},validateCardType(){return"BRANDS"!==this.cardtype&&"COLLECTIONS"!==this.cardtype&&"CATEGORIES"!==this.cardtype}}}),ni=ii,ri=(i("0d33"),Object(S["a"])(ni,Ge,ze,!1,null,"bee20f4e",null)),si=ri.exports,oi=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-item group-item-logo",attrs:{title:t.getTitle}},[e("fdk-link",{attrs:{link:t.generateLink}},[e("div",{staticClass:"logo-card"},[e("section",[e("emerge-image",{staticClass:"imgClass",attrs:{src:t.getCardLogo,sources:[{width:200}]}})],1),e("h3",{style:"color: "+t.global_config.props.text_heading_link_color},[t._v(t._s(t.card.name))])])])],1)},ai=[],li={name:"groupItem",components:{"emerge-image":Z},props:{card:{type:Object,required:!0},cardtype:{type:String,enum:["BRANDS","CATEGORIES","COLLECTIONS","WISHLIST","PRODUCT"]},global_config:{}},data(){return{}},computed:{getTitle(){let t=this.card.name;return this.card.product_name&&(t+=" "+this.card.product_name),t},getCardLogo(){var t;return(null===(t=this.card.logo)||void 0===t?void 0:t.url)||null},getImageURL(){let t=this.card.medias?this.card.medias.url:Array.isArray(this.card.medias)?this.card.medias[0].url:"";return"COLLECTIONS"!==this.cardtype&&"BRANDS"!==this.cardtype||(t=this.card.banners.portrait.url),t},generateLink(){return"COLLECTIONS"===this.cardtype?"/collection/"+this.card.slug:"PRODUCT"===this.cardtype?"/product/"+this.card.slug:"BRANDS"===this.cardtype?"/products/?brand="+this.card.slug:"/products/?"+this.card.action.url.split("?")[1]}},methods:{}},ci=li,ui=(i("608b"),Object(S["a"])(ci,oi,ai,!1,null,"25f98d52",null)),hi=ui.exports,di=function(){var t=this,e=t._self._c;return e("div",{staticClass:"gallery-item-wrap"},[e("fdk-link",{attrs:{link:t.block.props.link.value}},[e("div",{staticClass:"common-card"},[e("section",[t.block.props.image.value?e("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.block.props.image.value,alt:""}}):e("fdk-placeholder",{attrs:{type:"image"}})],1),t.block.props.caption&&t.block.props.caption.value.length>0?e("p",[t._v(" "+t._s(t.block.props.caption.value)+" ")]):t._e(),t.block.props.caption&&t.block.props.caption.value.length>0?e("h4",[t._v(" "+t._s(t.block.props.caption.value)+" ")]):t._e()])])],1)},pi=[],fi={name:"gallery-item",components:{"emerge-image":Z},props:{block:{type:Object}}},gi=fi,mi=(i("30cc"),Object(S["a"])(gi,di,pi,!1,null,"9a5cbff0",null)),vi=mi.exports,Ai={name:"groupList",components:{"group-item":Ue,"group-item-product":si,"gallery-item":vi,"group-item-logo":hi},props:{cardlist:{type:Array},cardtype:{type:String,enum:["BRANDS","CATEGORIES","COLLECTIONS","WISHLIST","PRODUCT"]},itemcount:{type:Number},show_only_logo:{type:Boolean,default:!1},global_config:{}},computed:{getFlex(){return`grid-template-columns: repeat(${this.itemcount}, 1fr)`}}},yi=Ai,_i=(i("affb"),Object(S["a"])(yi,Le,Re,!1,null,"a5fa6a9a",null)),bi=_i.exports,wi={props:{},data(){return{categories:[],isMounted:!1,isLoading:!1}},components:{"group-list":bi,"emerge-image":Z},mounted(){this.isMounted=!0},methods:{detectMobileWidth:lt,replaceByDefault(t){t.target.src=Fe.a}},beforeDestroy(){}},xi=wi,Ci=(i("8533"),i("66cd")),Ei=i.n(Ci),Si=Object(S["a"])(xi,Be,ke,!1,null,"1975c153",null);"function"===typeof Ei.a&&Ei()(Si);var Ii=Si.exports,Ti=function(){var t=this,e=t._self._c;return e("div",{staticClass:"collections__template section-main-container",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[t.context.collections&&t.context.collections.items&&t.context.collections.items.length>0?[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.page_config.props.title&&t.page_config.props.title.length>0?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.page_config.props.title)+" ")]):t._e()]),e("fdk-infinite-collections",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("fdk-infinite-scrolling",{attrs:{loadingData:t.loading},on:{loadmore:i.loadmore}},[e("group-list",{attrs:{cardlist:t.context.collections.items,cardtype:"COLLECTIONS",itemcount:t.page_config.props.items_per_row,global_config:t.global_config}})],1)]}}],null,!1,3983264954)}),!1!==t.context.collections.page.has_next?e("fdk-loader",{attrs:{id:"loader"}}):t._e()],1)])]:t.context.collections&&t.context.collections.items&&0===t.context.collections.items.length&&t.isMounted?e("fdk-empty-state",{attrs:{title:"No Collections Found"}}):t._e()],2)},Mi=[],Bi=function(){var t=this,e=t._self._c;return e("div",["grid"===t.layout?e("div",{staticClass:"group-cards"},t._l(t.count,(function(i){return e("placeholder-item",{key:i,attrs:{type:t.type,text:`${t.text} ${i}`}})})),1):"horizontal"===t.layout?e("div",[e("div",{staticClass:"brand-items"},[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.count,(function(i){return e("div",{key:i,staticClass:"glide__slide"},[e("fdk-link",{attrs:{link:"#"}},[e("div",{staticClass:"carousel-cell"},[e("fdk-placeholder",{staticClass:"imgClass",attrs:{type:t.type}}),e("div",{staticClass:"carousel-details"},[e("div",{staticClass:"collection_desc"},[e("div",{staticClass:"card-desc cl-content"},[e("span",{staticClass:"ukt-title"},[t._v(t._s(`${t.text} ${i}`))])])])])],1)])],1)})),0)]),e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.count,t.items_per_row),(function(t,i){return e("button",{key:i,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+t}})})),0),e("div",{staticClass:"arrows"},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-cat",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-cat",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])])])])]):t._e()])},ki=[],Li=function(){var t=this,e=t._self._c;return e("div",{staticClass:"card-item"},[e("fdk-link",{attrs:{link:"#"}},[e("div",{staticClass:"card-img"},[e("div",{staticClass:"overlay-2"}),e("fdk-placeholder",{attrs:{type:t.type}}),e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"collection_desc"},[e("div",{staticClass:"card-desc cl-content text-center"},[e("span",{staticClass:"ukt-title clrWhite",attrs:{title:t.text}},[t._v(t._s(t.text))])])])])],1)])],1)},Ri=[],Pi={name:"placeholder-item",props:{type:{type:String},text:{type:String}}},Di=Pi,Oi=(i("9e73"),Object(S["a"])(Di,Li,Ri,!1,null,"55df2054",null)),Fi=Oi.exports;
/*!
 * Glide.js v3.6.0
 * (c) 2013-2022 Jędrzej Chałubek (https://github.com/jedrzejchalubek/)
 * Released under the MIT License.
 */
function Ni(t){return Ni="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ni(t)}function Qi(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hi(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ui(t,e,i){return e&&Hi(t.prototype,e),i&&Hi(t,i),t}function Gi(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ji(t,e)}function zi(t){return zi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},zi(t)}function ji(t,e){return ji=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},ji(t,e)}function Vi(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function Wi(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qi(t,e){if(e&&("object"===typeof e||"function"===typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Wi(t)}function Yi(t){var e=Vi();return function(){var i,n=zi(t);if(e){var r=zi(this).constructor;i=Reflect.construct(n,arguments,r)}else i=n.apply(this,arguments);return qi(this,i)}}function $i(t,e){while(!Object.prototype.hasOwnProperty.call(t,e))if(t=zi(t),null===t)break;return t}function Ji(){return Ji="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,i){var n=$i(t,e);if(n){var r=Object.getOwnPropertyDescriptor(n,e);return r.get?r.get.call(arguments.length<3?t:i):r.value}},Ji.apply(this,arguments)}var Xi={type:"slider",startAt:0,perView:1,focusAt:0,gap:10,autoplay:!1,hoverpause:!0,keyboard:!0,bound:!1,swipeThreshold:80,dragThreshold:120,perSwipe:"",touchRatio:.5,touchAngle:45,animationDuration:400,rewind:!0,rewindDuration:800,animationTimingFunc:"cubic-bezier(.165, .840, .440, 1)",waitForTransition:!0,throttle:10,direction:"ltr",peek:0,cloningRatio:1,breakpoints:{},classes:{swipeable:"glide--swipeable",dragging:"glide--dragging",direction:{ltr:"glide--ltr",rtl:"glide--rtl"},type:{slider:"glide--slider",carousel:"glide--carousel"},slide:{clone:"glide__slide--clone",active:"glide__slide--active"},arrow:{disabled:"glide__arrow--disabled"},nav:{active:"glide__bullet--active"}}};function Ki(t){console.error("[Glide warn]: ".concat(t))}function Zi(t){return parseInt(t)}function tn(t){return parseFloat(t)}function en(t){return"string"===typeof t}function nn(t){var e=Ni(t);return"function"===e||"object"===e&&!!t}function rn(t){return"function"===typeof t}function sn(t){return"undefined"===typeof t}function on(t){return t.constructor===Array}function an(t,e,i){var n={};for(var r in e)rn(e[r])?n[r]=e[r](t,n,i):Ki("Extension must be a function");for(var s in n)rn(n[s].mount)&&n[s].mount();return n}function ln(t,e,i){Object.defineProperty(t,e,i)}function cn(t){return Object.keys(t).sort().reduce((function(e,i){return e[i]=t[i],e[i],e}),{})}function un(t,e){var i=Object.assign({},t,e);return e.hasOwnProperty("classes")&&(i.classes=Object.assign({},t.classes,e.classes),e.classes.hasOwnProperty("direction")&&(i.classes.direction=Object.assign({},t.classes.direction,e.classes.direction)),e.classes.hasOwnProperty("type")&&(i.classes.type=Object.assign({},t.classes.type,e.classes.type)),e.classes.hasOwnProperty("slide")&&(i.classes.slide=Object.assign({},t.classes.slide,e.classes.slide)),e.classes.hasOwnProperty("arrow")&&(i.classes.arrow=Object.assign({},t.classes.arrow,e.classes.arrow)),e.classes.hasOwnProperty("nav")&&(i.classes.nav=Object.assign({},t.classes.nav,e.classes.nav))),e.hasOwnProperty("breakpoints")&&(i.breakpoints=Object.assign({},t.breakpoints,e.breakpoints)),i}var hn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qi(this,t),this.events=e,this.hop=e.hasOwnProperty}return Ui(t,[{key:"on",value:function(t,e){if(!on(t)){this.hop.call(this.events,t)||(this.events[t]=[]);var i=this.events[t].push(e)-1;return{remove:function(){delete this.events[t][i]}}}for(var n=0;n<t.length;n++)this.on(t[n],e)}},{key:"emit",value:function(t,e){if(on(t))for(var i=0;i<t.length;i++)this.emit(t[i],e);else this.hop.call(this.events,t)&&this.events[t].forEach((function(t){t(e||{})}))}}]),t}(),dn=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Qi(this,t),this._c={},this._t=[],this._e=new hn,this.disabled=!1,this.selector=e,this.settings=un(Xi,i),this.index=this.settings.startAt}return Ui(t,[{key:"mount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._e.emit("mount.before"),nn(t)?this._c=an(this,t,this._e):Ki("You need to provide a object on `mount()`"),this._e.emit("mount.after"),this}},{key:"mutate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return on(t)?this._t=t:Ki("You need to provide a array on `mutate()`"),this}},{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.settings=un(this.settings,t),t.hasOwnProperty("startAt")&&(this.index=t.startAt),this._e.emit("update"),this}},{key:"go",value:function(t){return this._c.Run.make(t),this}},{key:"move",value:function(t){return this._c.Transition.disable(),this._c.Move.make(t),this}},{key:"destroy",value:function(){return this._e.emit("destroy"),this}},{key:"play",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return t&&(this.settings.autoplay=t),this._e.emit("play"),this}},{key:"pause",value:function(){return this._e.emit("pause"),this}},{key:"disable",value:function(){return this.disabled=!0,this}},{key:"enable",value:function(){return this.disabled=!1,this}},{key:"on",value:function(t,e){return this._e.on(t,e),this}},{key:"isType",value:function(t){return this.settings.type===t}},{key:"settings",get:function(){return this._o},set:function(t){nn(t)?this._o=t:Ki("Options must be an `object` instance.")}},{key:"index",get:function(){return this._i},set:function(t){this._i=Zi(t)}},{key:"type",get:function(){return this.settings.type}},{key:"disabled",get:function(){return this._d},set:function(t){this._d=!!t}}]),t}();function pn(t,e,i){var n={mount:function(){this._o=!1},make:function(n){var r=this;t.disabled||(!t.settings.waitForTransition||t.disable(),this.move=n,i.emit("run.before",this.move),this.calculate(),i.emit("run",this.move),e.Transition.after((function(){r.isStart()&&i.emit("run.start",r.move),r.isEnd()&&i.emit("run.end",r.move),r.isOffset()&&(r._o=!1,i.emit("run.offset",r.move)),i.emit("run.after",r.move),t.enable()})))},calculate:function(){var e=this.move,i=this.length,n=e.steps,l=e.direction,c=1;if("="===l)return t.settings.bound&&Zi(n)>i?void(t.index=i):void(t.index=n);if(">"!==l||">"!==n)if("<"!==l||"<"!==n){if("|"===l&&(c=t.settings.perView||1),">"===l||"|"===l&&">"===n){var u=r(c);return u>i&&(this._o=!0),void(t.index=s(u,c))}if("<"===l||"|"===l&&"<"===n){var h=o(c);return h<0&&(this._o=!0),void(t.index=a(h,c))}Ki("Invalid direction pattern [".concat(l).concat(n,"] has been used"))}else t.index=0;else t.index=i},isStart:function(){return t.index<=0},isEnd:function(){return t.index>=this.length},isOffset:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return t?!!this._o&&("|>"===t?"|"===this.move.direction&&">"===this.move.steps:"|<"===t?"|"===this.move.direction&&"<"===this.move.steps:this.move.direction===t):this._o},isBound:function(){return t.isType("slider")&&"center"!==t.settings.focusAt&&t.settings.bound}};function r(e){var i=t.index;return t.isType("carousel")?i+e:i+(e-i%e)}function s(e,i){var r=n.length;return e<=r?e:t.isType("carousel")?e-(r+1):t.settings.rewind?n.isBound()&&!n.isEnd()?r:0:n.isBound()?r:Math.floor(r/i)*i}function o(e){var i=t.index;if(t.isType("carousel"))return i-e;var n=Math.ceil(i/e);return(n-1)*e}function a(e,i){var r=n.length;return e>=0?e:t.isType("carousel")?e+(r+1):t.settings.rewind?n.isBound()&&n.isStart()?r:Math.floor(r/i)*i:0}return ln(n,"move",{get:function(){return this._m},set:function(t){var e=t.substr(1);this._m={direction:t.substr(0,1),steps:e?Zi(e)?Zi(e):e:0}}}),ln(n,"length",{get:function(){var i=t.settings,n=e.Html.slides.length;return this.isBound()?n-1-(Zi(i.perView)-1)+Zi(i.focusAt):n-1}}),ln(n,"offset",{get:function(){return this._o}}),n}function fn(){return(new Date).getTime()}function gn(t,e,i){var n,r,s,o,a=0;i||(i={});var l=function(){a=!1===i.leading?0:fn(),n=null,o=t.apply(r,s),n||(r=s=null)},c=function(){var c=fn();a||!1!==i.leading||(a=c);var u=e-(c-a);return r=this,s=arguments,u<=0||u>e?(n&&(clearTimeout(n),n=null),a=c,o=t.apply(r,s),n||(r=s=null)):n||!1===i.trailing||(n=setTimeout(l,u)),o};return c.cancel=function(){clearTimeout(n),a=0,n=r=s=null},c}var mn={ltr:["marginLeft","marginRight"],rtl:["marginRight","marginLeft"]};function vn(t,e,i){var n={apply:function(t){for(var i=0,n=t.length;i<n;i++){var r=t[i].style,s=e.Direction.value;r[mn[s][0]]=0!==i?"".concat(this.value/2,"px"):"",i!==t.length-1?r[mn[s][1]]="".concat(this.value/2,"px"):r[mn[s][1]]=""}},remove:function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e].style;n.marginLeft="",n.marginRight=""}}};return ln(n,"value",{get:function(){return Zi(t.settings.gap)}}),ln(n,"grow",{get:function(){return n.value*e.Sizes.length}}),ln(n,"reductor",{get:function(){var e=t.settings.perView;return n.value*(e-1)/e}}),i.on(["build.after","update"],gn((function(){n.apply(e.Html.wrapper.children)}),30)),i.on("destroy",(function(){n.remove(e.Html.wrapper.children)})),n}function An(t){if(t&&t.parentNode){for(var e=t.parentNode.firstChild,i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}return[]}function yn(t){return!!(t&&t instanceof window.HTMLElement)}function _n(t){return Array.prototype.slice.call(t)}var bn='[data-glide-el="track"]';function wn(t,e,i){var n={mount:function(){this.root=t.selector,this.track=this.root.querySelector(bn),this.collectSlides()},collectSlides:function(){this.slides=_n(this.wrapper.children).filter((function(e){return!e.classList.contains(t.settings.classes.slide.clone)}))}};return ln(n,"root",{get:function(){return n._r},set:function(t){en(t)&&(t=document.querySelector(t)),yn(t)?n._r=t:Ki("Root element must be a existing Html node")}}),ln(n,"track",{get:function(){return n._t},set:function(t){yn(t)?n._t=t:Ki("Could not find track element. Please use ".concat(bn," attribute."))}}),ln(n,"wrapper",{get:function(){return n.track.children[0]}}),i.on("update",(function(){n.collectSlides()})),n}function xn(t,e,i){var n={mount:function(){this.value=t.settings.peek}};return ln(n,"value",{get:function(){return n._v},set:function(t){nn(t)?(t.before=Zi(t.before),t.after=Zi(t.after)):t=Zi(t),n._v=t}}),ln(n,"reductor",{get:function(){var e=n.value,i=t.settings.perView;return nn(e)?e.before/i+e.after/i:2*e/i}}),i.on(["resize","update"],(function(){n.mount()})),n}function Cn(t,e,i){var n={mount:function(){this._o=0},make:function(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.offset=n,i.emit("move",{movement:this.value}),e.Transition.after((function(){i.emit("move.after",{movement:t.value})}))}};return ln(n,"offset",{get:function(){return n._o},set:function(t){n._o=sn(t)?0:Zi(t)}}),ln(n,"translate",{get:function(){return e.Sizes.slideWidth*t.index}}),ln(n,"value",{get:function(){var t=this.offset,i=this.translate;return e.Direction.is("rtl")?i+t:i-t}}),i.on(["build.before","run"],(function(){n.make()})),n}function En(t,e,i){var n={setupSlides:function(){for(var t="".concat(this.slideWidth,"px"),i=e.Html.slides,n=0;n<i.length;n++)i[n].style.width=t},setupWrapper:function(){e.Html.wrapper.style.width="".concat(this.wrapperSize,"px")},remove:function(){for(var t=e.Html.slides,i=0;i<t.length;i++)t[i].style.width="";e.Html.wrapper.style.width=""}};return ln(n,"length",{get:function(){return e.Html.slides.length}}),ln(n,"width",{get:function(){return e.Html.track.offsetWidth}}),ln(n,"wrapperSize",{get:function(){return n.slideWidth*n.length+e.Gaps.grow+e.Clones.grow}}),ln(n,"slideWidth",{get:function(){return n.width/t.settings.perView-e.Peek.reductor-e.Gaps.reductor}}),i.on(["build.before","resize","update"],(function(){n.setupSlides(),n.setupWrapper()})),i.on("destroy",(function(){n.remove()})),n}function Sn(t,e,i){var n={mount:function(){i.emit("build.before"),this.typeClass(),this.activeClass(),i.emit("build.after")},typeClass:function(){e.Html.root.classList.add(t.settings.classes.type[t.settings.type])},activeClass:function(){var i=t.settings.classes,n=e.Html.slides[t.index];n&&(n.classList.add(i.slide.active),An(n).forEach((function(t){t.classList.remove(i.slide.active)})))},removeClasses:function(){var i=t.settings.classes,n=i.type,r=i.slide;e.Html.root.classList.remove(n[t.settings.type]),e.Html.slides.forEach((function(t){t.classList.remove(r.active)}))}};return i.on(["destroy","update"],(function(){n.removeClasses()})),i.on(["resize","update"],(function(){n.mount()})),i.on("move.after",(function(){n.activeClass()})),n}function In(t,e,i){var n={mount:function(){this.items=[],t.isType("carousel")&&(this.items=this.collect())},collect:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=e.Html.slides,r=t.settings,s=r.perView,o=r.classes,a=r.cloningRatio;if(0!==n.length)for(var l=+!!t.settings.peek,c=s+l+Math.round(s/2),u=n.slice(0,c).reverse(),h=n.slice(-1*c),d=0;d<Math.max(a,Math.floor(s/n.length));d++){for(var p=0;p<u.length;p++){var f=u[p].cloneNode(!0);f.classList.add(o.slide.clone),i.push(f)}for(var g=0;g<h.length;g++){var m=h[g].cloneNode(!0);m.classList.add(o.slide.clone),i.unshift(m)}}return i},append:function(){for(var t=this.items,i=e.Html,n=i.wrapper,r=i.slides,s=Math.floor(t.length/2),o=t.slice(0,s).reverse(),a=t.slice(-1*s).reverse(),l="".concat(e.Sizes.slideWidth,"px"),c=0;c<a.length;c++)n.appendChild(a[c]);for(var u=0;u<o.length;u++)n.insertBefore(o[u],r[0]);for(var h=0;h<t.length;h++)t[h].style.width=l},remove:function(){for(var t=this.items,i=0;i<t.length;i++)e.Html.wrapper.removeChild(t[i])}};return ln(n,"grow",{get:function(){return(e.Sizes.slideWidth+e.Gaps.value)*n.items.length}}),i.on("update",(function(){n.remove(),n.mount(),n.append()})),i.on("build.before",(function(){t.isType("carousel")&&n.append()})),i.on("destroy",(function(){n.remove()})),n}var Tn=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Qi(this,t),this.listeners=e}return Ui(t,[{key:"on",value:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];en(t)&&(t=[t]);for(var r=0;r<t.length;r++)this.listeners[t[r]]=i,e.addEventListener(t[r],this.listeners[t[r]],n)}},{key:"off",value:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];en(t)&&(t=[t]);for(var n=0;n<t.length;n++)e.removeEventListener(t[n],this.listeners[t[n]],i)}},{key:"destroy",value:function(){delete this.listeners}}]),t}();function Mn(t,e,i){var n=new Tn,r={mount:function(){this.bind()},bind:function(){n.on("resize",window,gn((function(){i.emit("resize")}),t.settings.throttle))},unbind:function(){n.off("resize",window)}};return i.on("destroy",(function(){r.unbind(),n.destroy()})),r}var Bn=["ltr","rtl"],kn={">":"<","<":">","=":"="};function Ln(t,e,i){var n={mount:function(){this.value=t.settings.direction},resolve:function(t){var e=t.slice(0,1);return this.is("rtl")?t.split(e).join(kn[e]):t},is:function(t){return this.value===t},addClass:function(){e.Html.root.classList.add(t.settings.classes.direction[this.value])},removeClass:function(){e.Html.root.classList.remove(t.settings.classes.direction[this.value])}};return ln(n,"value",{get:function(){return n._v},set:function(t){Bn.indexOf(t)>-1?n._v=t:Ki("Direction value must be `ltr` or `rtl`")}}),i.on(["destroy","update"],(function(){n.removeClass()})),i.on("update",(function(){n.mount()})),i.on(["build.before","update"],(function(){n.addClass()})),n}function Rn(t,e){return{modify:function(t){return e.Direction.is("rtl")?-t:t}}}function Pn(t,e){return{modify:function(t){var i=Math.floor(t/e.Sizes.slideWidth);return t+e.Gaps.value*i}}}function Dn(t,e){return{modify:function(t){return t+e.Clones.grow/2}}}function On(t,e){return{modify:function(i){if(t.settings.focusAt>=0){var n=e.Peek.value;return nn(n)?i-n.before:i-n}return i}}}function Fn(t,e){return{modify:function(i){var n=e.Gaps.value,r=e.Sizes.width,s=t.settings.focusAt,o=e.Sizes.slideWidth;return"center"===s?i-(r/2-o/2):i-o*s-n*s}}}function Nn(t,e,i){var n=[Pn,Dn,On,Fn].concat(t._t,[Rn]);return{mutate:function(r){for(var s=0;s<n.length;s++){var o=n[s];rn(o)&&rn(o().modify)?r=o(t,e,i).modify(r):Ki("Transformer should be a function that returns an object with `modify()` method")}return r}}}function Qn(t,e,i){var n={set:function(i){var n=Nn(t,e).mutate(i),r="translate3d(".concat(-1*n,"px, 0px, 0px)");e.Html.wrapper.style.mozTransform=r,e.Html.wrapper.style.webkitTransform=r,e.Html.wrapper.style.transform=r},remove:function(){e.Html.wrapper.style.transform=""},getStartIndex:function(){var i=e.Sizes.length,n=t.index,r=t.settings.perView;return e.Run.isOffset(">")||e.Run.isOffset("|>")?i+(n-r):(n+r)%i},getTravelDistance:function(){var i=e.Sizes.slideWidth*t.settings.perView;return e.Run.isOffset(">")||e.Run.isOffset("|>")?-1*i:i}};return i.on("move",(function(r){if(!t.isType("carousel")||!e.Run.isOffset())return n.set(r.movement);e.Transition.after((function(){i.emit("translate.jump"),n.set(e.Sizes.slideWidth*t.index)}));var s=e.Sizes.slideWidth*e.Translate.getStartIndex();return n.set(s-e.Translate.getTravelDistance())})),i.on("destroy",(function(){n.remove()})),n}function Hn(t,e,i){var n=!1,r={compose:function(e){var i=t.settings;return n?"".concat(e," 0ms ").concat(i.animationTimingFunc):"".concat(e," ").concat(this.duration,"ms ").concat(i.animationTimingFunc)},set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";e.Html.wrapper.style.transition=this.compose(t)},remove:function(){e.Html.wrapper.style.transition=""},after:function(t){setTimeout((function(){t()}),this.duration)},enable:function(){n=!1,this.set()},disable:function(){n=!0,this.set()}};return ln(r,"duration",{get:function(){var i=t.settings;return t.isType("slider")&&e.Run.offset?i.rewindDuration:i.animationDuration}}),i.on("move",(function(){r.set()})),i.on(["build.before","resize","translate.jump"],(function(){r.disable()})),i.on("run",(function(){r.enable()})),i.on("destroy",(function(){r.remove()})),r}var Un=!1;try{var Gn=Object.defineProperty({},"passive",{get:function(){Un=!0}});window.addEventListener("testPassive",null,Gn),window.removeEventListener("testPassive",null,Gn)}catch(yf){}var zn=Un,jn=["touchstart","mousedown"],Vn=["touchmove","mousemove"],Wn=["touchend","touchcancel","mouseup","mouseleave"],qn=["mousedown","mousemove","mouseup","mouseleave"];function Yn(t,e,i){var n=new Tn,r=0,s=0,o=0,a=!1,l=!!zn&&{passive:!0},c={mount:function(){this.bindSwipeStart()},start:function(e){if(!a&&!t.disabled){this.disable();var n=this.touches(e);r=null,s=Zi(n.pageX),o=Zi(n.pageY),this.bindSwipeMove(),this.bindSwipeEnd(),i.emit("swipe.start")}},move:function(n){if(!t.disabled){var a=t.settings,l=a.touchAngle,c=a.touchRatio,u=a.classes,h=this.touches(n),d=Zi(h.pageX)-s,p=Zi(h.pageY)-o,f=Math.abs(d<<2),g=Math.abs(p<<2),m=Math.sqrt(f+g),v=Math.sqrt(g);if(r=Math.asin(v/m),!(180*r/Math.PI<l))return!1;n.stopPropagation(),e.Move.make(d*tn(c)),e.Html.root.classList.add(u.dragging),i.emit("swipe.move")}},end:function(n){if(!t.disabled){var o=t.settings,a=o.perSwipe,l=o.touchAngle,c=o.classes,u=this.touches(n),h=this.threshold(n),d=u.pageX-s,p=180*r/Math.PI;this.enable(),d>h&&p<l?e.Run.make(e.Direction.resolve("".concat(a,"<"))):d<-h&&p<l?e.Run.make(e.Direction.resolve("".concat(a,">"))):e.Move.make(),e.Html.root.classList.remove(c.dragging),this.unbindSwipeMove(),this.unbindSwipeEnd(),i.emit("swipe.end")}},bindSwipeStart:function(){var i=this,r=t.settings,s=r.swipeThreshold,o=r.dragThreshold;s&&n.on(jn[0],e.Html.wrapper,(function(t){i.start(t)}),l),o&&n.on(jn[1],e.Html.wrapper,(function(t){i.start(t)}),l)},unbindSwipeStart:function(){n.off(jn[0],e.Html.wrapper,l),n.off(jn[1],e.Html.wrapper,l)},bindSwipeMove:function(){var i=this;n.on(Vn,e.Html.wrapper,gn((function(t){i.move(t)}),t.settings.throttle),l)},unbindSwipeMove:function(){n.off(Vn,e.Html.wrapper,l)},bindSwipeEnd:function(){var t=this;n.on(Wn,e.Html.wrapper,(function(e){t.end(e)}))},unbindSwipeEnd:function(){n.off(Wn,e.Html.wrapper)},touches:function(t){return qn.indexOf(t.type)>-1?t:t.touches[0]||t.changedTouches[0]},threshold:function(e){var i=t.settings;return qn.indexOf(e.type)>-1?i.dragThreshold:i.swipeThreshold},enable:function(){return a=!1,e.Transition.enable(),this},disable:function(){return a=!0,e.Transition.disable(),this}};return i.on("build.after",(function(){e.Html.root.classList.add(t.settings.classes.swipeable)})),i.on("destroy",(function(){c.unbindSwipeStart(),c.unbindSwipeMove(),c.unbindSwipeEnd(),n.destroy()})),c}function $n(t,e,i){var n=new Tn,r={mount:function(){this.bind()},bind:function(){n.on("dragstart",e.Html.wrapper,this.dragstart)},unbind:function(){n.off("dragstart",e.Html.wrapper)},dragstart:function(t){t.preventDefault()}};return i.on("destroy",(function(){r.unbind(),n.destroy()})),r}function Jn(t,e,i){var n=new Tn,r=!1,s=!1,o={mount:function(){this._a=e.Html.wrapper.querySelectorAll("a"),this.bind()},bind:function(){n.on("click",e.Html.wrapper,this.click)},unbind:function(){n.off("click",e.Html.wrapper)},click:function(t){s&&(t.stopPropagation(),t.preventDefault())},detach:function(){if(s=!0,!r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!1;r=!0}return this},attach:function(){if(s=!1,r){for(var t=0;t<this.items.length;t++)this.items[t].draggable=!0;r=!1}return this}};return ln(o,"items",{get:function(){return o._a}}),i.on("swipe.move",(function(){o.detach()})),i.on("swipe.end",(function(){e.Transition.after((function(){o.attach()}))})),i.on("destroy",(function(){o.attach(),o.unbind(),n.destroy()})),o}var Xn='[data-glide-el="controls[nav]"]',Kn='[data-glide-el^="controls"]',Zn="".concat(Kn,' [data-glide-dir*="<"]'),tr="".concat(Kn,' [data-glide-dir*=">"]');function er(t,e,i){var n=new Tn,r=!!zn&&{passive:!0},s={mount:function(){this._n=e.Html.root.querySelectorAll(Xn),this._c=e.Html.root.querySelectorAll(Kn),this._arrowControls={previous:e.Html.root.querySelectorAll(Zn),next:e.Html.root.querySelectorAll(tr)},this.addBindings()},setActive:function(){for(var t=0;t<this._n.length;t++)this.addClass(this._n[t].children)},removeActive:function(){for(var t=0;t<this._n.length;t++)this.removeClass(this._n[t].children)},addClass:function(e){var i=t.settings,n=e[t.index];n&&n&&(n.classList.add(i.classes.nav.active),An(n).forEach((function(t){t.classList.remove(i.classes.nav.active)})))},removeClass:function(e){var i=e[t.index];i&&i.classList.remove(t.settings.classes.nav.active)},setArrowState:function(){if(!t.settings.rewind){var i=s._arrowControls.next,n=s._arrowControls.previous;this.resetArrowState(i,n),0===t.index&&this.disableArrow(n),t.index===e.Run.length&&this.disableArrow(i)}},resetArrowState:function(){for(var e=t.settings,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n.forEach((function(t){_n(t).forEach((function(t){t.classList.remove(e.classes.arrow.disabled)}))}))},disableArrow:function(){for(var e=t.settings,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];n.forEach((function(t){_n(t).forEach((function(t){t.classList.add(e.classes.arrow.disabled)}))}))},addBindings:function(){for(var t=0;t<this._c.length;t++)this.bind(this._c[t].children)},removeBindings:function(){for(var t=0;t<this._c.length;t++)this.unbind(this._c[t].children)},bind:function(t){for(var e=0;e<t.length;e++)n.on("click",t[e],this.click),n.on("touchstart",t[e],this.click,r)},unbind:function(t){for(var e=0;e<t.length;e++)n.off(["click","touchstart"],t[e])},click:function(t){zn||"touchstart"!==t.type||t.preventDefault();var i=t.currentTarget.getAttribute("data-glide-dir");e.Run.make(e.Direction.resolve(i))}};return ln(s,"items",{get:function(){return s._c}}),i.on(["mount.after","move.after"],(function(){s.setActive()})),i.on(["mount.after","run"],(function(){s.setArrowState()})),i.on("destroy",(function(){s.removeBindings(),s.removeActive(),n.destroy()})),s}function ir(t,e,i){var n=new Tn,r={mount:function(){t.settings.keyboard&&this.bind()},bind:function(){n.on("keyup",document,this.press)},unbind:function(){n.off("keyup",document)},press:function(i){var n=t.settings.perSwipe;"ArrowRight"===i.code&&e.Run.make(e.Direction.resolve("".concat(n,">"))),"ArrowLeft"===i.code&&e.Run.make(e.Direction.resolve("".concat(n,"<")))}};return i.on(["destroy","update"],(function(){r.unbind()})),i.on("update",(function(){r.mount()})),i.on("destroy",(function(){n.destroy()})),r}function nr(t,e,i){var n=new Tn,r={mount:function(){this.enable(),this.start(),t.settings.hoverpause&&this.bind()},enable:function(){this._e=!0},disable:function(){this._e=!1},start:function(){var n=this;this._e&&(this.enable(),t.settings.autoplay&&sn(this._i)&&(this._i=setInterval((function(){n.stop(),e.Run.make(">"),n.start(),i.emit("autoplay")}),this.time)))},stop:function(){this._i=clearInterval(this._i)},bind:function(){var t=this;n.on("mouseover",e.Html.root,(function(){t._e&&t.stop()})),n.on("mouseout",e.Html.root,(function(){t._e&&t.start()}))},unbind:function(){n.off(["mouseover","mouseout"],e.Html.root)}};return ln(r,"time",{get:function(){var i=e.Html.slides[t.index].getAttribute("data-glide-autoplay");return Zi(i||t.settings.autoplay)}}),i.on(["destroy","update"],(function(){r.unbind()})),i.on(["run.before","swipe.start","update"],(function(){r.stop()})),i.on(["pause","destroy"],(function(){r.disable(),r.stop()})),i.on(["run.after","swipe.end"],(function(){r.start()})),i.on(["play"],(function(){r.enable(),r.start()})),i.on("update",(function(){r.mount()})),i.on("destroy",(function(){n.destroy()})),r}function rr(t){return nn(t)?cn(t):(Ki("Breakpoints option must be an object"),{})}function sr(t,e,i){var n=new Tn,r=t.settings,s=rr(r.breakpoints),o=Object.assign({},r),a={match:function(t){if("undefined"!==typeof window.matchMedia)for(var e in t)if(t.hasOwnProperty(e)&&window.matchMedia("(max-width: ".concat(e,"px)")).matches)return t[e];return o}};return Object.assign(r,a.match(s)),n.on("resize",window,gn((function(){t.settings=un(r,a.match(s))}),t.settings.throttle)),i.on("update",(function(){s=rr(s),o=Object.assign({},r)})),i.on("destroy",(function(){n.off("resize",window)})),a}var or={Html:wn,Translate:Qn,Transition:Hn,Direction:Ln,Peek:xn,Sizes:En,Gaps:vn,Move:Cn,Clones:In,Resize:Mn,Build:Sn,Run:pn,Swipe:Yn,Images:$n,Anchors:Jn,Controls:er,Keyboard:ir,Autoplay:nr,Breakpoints:sr},ar=function(t){Gi(i,t);var e=Yi(i);function i(){return Qi(this,i),e.apply(this,arguments)}return Ui(i,[{key:"mount",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ji(zi(i.prototype),"mount",this).call(this,Object.assign({},or,t))}}]),i}(dn),lr=(i("4d21"),i("6d34"),{name:"placeholder-items",components:{"placeholder-item":Fi},props:{count:{type:Number},items_per_row:{type:Number,default:5},type:{type:String},text:{type:String},layout:{type:String,default:"grid"}},watch:{items_per_row:function(t,e){this.cleanupComponent(),this.initializeComponent()},layout:function(t,e){this.cleanupComponent(),this.initializeComponent()}},data(){return{isMounted:!1,glideOptions:{type:"carousel",startAt:0,gap:30,perView:4,breakpoints:{1024:{perView:3},600:{perView:2},480:{perView:2}}},carouselHandle:null}},mounted(){this.initializeComponent()},methods:{checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,prevSlide(){let t=this.items_per_row;lt()?this.carouselHandle.index-1>=0&&this.carouselHandle.go("="+(this.carouselHandle.index-1)):this.carouselHandle.index-t>=0&&this.carouselHandle.go("="+(this.carouselHandle.index-t))},nextSlide(){let t=this.items_per_row;lt()?this.carouselHandle.index+1>=this.count?this.carouselHandle.go("="+(this.carouselHandle.index+1)):this.carouselHandle.go("<<"):this.carouselHandle.index+t<this.count?this.carouselHandle.go("="+(this.carouselHandle.index+t)):this.carouselHandle.go(">>")},initCarousel(){ot["isNode"]||"horizontal"!==this.layout||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{this.carouselHandle=new ar(this.$refs.glide,this.glideOptions);let t=this.$refs.glide.getAttribute("class");this.carouselHandle.on(["move.after"],()=>{let e=document.querySelectorAll(`.${t} [data-glide-dir]`);e&&e.length>0&&e.forEach(t=>{t.classList.remove("glide__bullet--active")});let i=this.carouselHandle?document.querySelectorAll(`.${t} [data-glide-dir='=${this.carouselHandle.index}']`):null;i&&i.length>0&&i[0].classList.add("glide__bullet--active")}),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){this.isMounted=!0,window.screen.width>600&&window.screen.width<=1024?this.items_per_row=3:window.screen.width>480&&window.screen.width<=600?this.items_per_row=2:window.screen.width<=480&&(this.items_per_row=1),this.glideOptions.perView=this.items_per_row,this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},beforeDestroy(){this.cleanupComponent()}}),cr=lr,ur=(i("7305"),Object(S["a"])(cr,Bi,ki,!1,null,"b7cd69e8",null)),hr=ur.exports,dr={data(){return{collections:[],isLoading:!1,isMounted:!1}},components:{"group-list":bi,"emerge-image":Z,"placeholder-items":hr},watch:{settings:function(t,e){}},computed:{},methods:{},mounted(){this.isMounted=!0}},pr=dr,fr=(i("76e7"),i("5cd2b")),gr=i.n(fr),mr=Object(S["a"])(pr,Ti,Mi,!1,null,"d59a05e0",null);"function"===typeof gr.a&&gr()(mr);var vr=mr.exports,Ar=function(){var t=this,e=t._self._c;return e("div",{staticClass:"plp-wrapper",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[!t.context.loading||t.context.items&&0!==t.context.items.length?t.context.loading||t.context.items&&0!==t.context.items.length?t.context.page_error&&500===t.context.page_error.statusCode?e("div",[e("fdk-empty-state",{attrs:{title:"Something went wrong"}})],1):t.context&&t.context.items?[e("div",{staticClass:"mobile-header mobile"},[e("div",{staticClass:"m-header"},[e("div",{ref:"mobileActionContainer",staticClass:"m-action-container"},[e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"sort")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"sort"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SORT ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"filter")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"filter"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" FILTER ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("fdk-share",{staticClass:"m-action-child-container mobile",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SHARE ")])])]}}])})],1)])]),e("div",{staticClass:"desktop-header desktop"},[e("div",{staticClass:"header"},[e("div",{staticClass:"m-action-container"},[e("fdk-share",{staticClass:"m-action-child-container desktop",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("transition",{attrs:{name:"fade desktop"}},[t.showShare&&!t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1),e("div",{staticClass:"regular-sm cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" Share ")])],1)]}}])}),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container"},[e("sort-dd",{attrs:{filteredsorts:t.context.sort_on,updateSelection:t.updateSelection}})],1)],1)])]),e("div",{staticClass:"content-container"},[[e("div",{staticClass:"left"},t._l(t.getFilters,(function(i,n){return e("div",{key:n+"-desktop"+i.key.display,staticClass:"filter-list"},[e("div",{staticClass:"filters"},[i.values.length>0?e("div",{staticClass:"filter-title regular-sm",on:{click:function(t){i.isOpen=!i.isOpen}}},[e("span",{staticClass:"regular-xs cl-Mako fil_tit"},[t._v(t._s(i.key.display))]),e("span",{class:{"filter-arrow-up":i.isOpen}},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)]):t._e(),"multivalued"==i.key.kind?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[i.values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.searchText,expression:"filter.searchText"}],staticClass:"light-xxs",attrs:{placeholder:t.placeholder},domProps:{value:i.searchText},on:{input:[function(e){e.target.composing||t.$set(i,"searchText",e.target.value)},function(e){return t.filterResults(i,n)}]}}),e("span",{staticClass:"search-icon",on:{click:function(e){return t.filterResults(i,n)}}},[e("fdk-inline-svg",{attrs:{src:"search-black"}})],1)]):t._e(),e("div",{staticClass:"example"},[e("ul",{staticClass:"filter-items-container",attrs:{id:"scroll-bar"}},t._l(i.filteredValues,(function(i,r){return e("li",{key:"filter-desktop"+r},[r<8||t.viewMore[n]?e("fdk-link",{attrs:{link:i.url}},[e("div",{staticClass:"filter-item"},[i.is_selected?t._e():e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}})],1),i.is_selected?e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}})],1):t._e(),e("div",{staticClass:"filter-item-value regular-xxs",class:{active:1==i.is_selected}},[t._v(" "+t._s(i.display)+" ")]),e("div",{staticClass:"filter-item-count light-xxxs cl-DoveGray"},[t._v(" ("+t._s(i.count)+") ")])])]):t._e()],1)})),0),i.filteredValues.length>8?e("div",{staticClass:"view-more",on:{click:function(e){return t.changeViewMore(n)}}},[t._v(" "+t._s(t.viewMore[n]?"- view less":`+ ${i.filteredValues.length-8} more`)+" ")]):t._e()])]):"range"==i.key.kind&&i.values.length>0?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[e("fdk-slider",{scopedSlots:t._u([{key:"default",fn:function(n){return[e("fy-slider-filter",{attrs:{filteritem:i,reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return n.replaceQuery(t,i)}}})]}}],null,!0)})],1):t._e()])])})),0),e("div",{staticClass:"right"},[e("div",[e("fdk-filter-modal",{scopedSlots:t._u([{key:"default",fn:function(i){return[t.showFilterModal?e("transition",{attrs:{name:"modal-filter"},on:{close:function(e){t.showFilterModal=!t.showFilterModal}}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("FILTER")]),e("div",{on:{click:function(e){t.closeModal(e,"filter"),i.closeModal()}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"pane leftPane"},[e("ul",t._l(i.filters,(function(n,r){return e("li",{key:r+"-mobile",staticClass:"title",class:{"bold-lg active":i.selected_item==r},on:{click:function(e){i.updateSelectedItem(n,r),t.mobileSearchText=""}}},[n.key.logo?e("img",{staticClass:"filter-image",attrs:{src:n.key.logo,alt:"logo"}}):e("fdk-inline-svg",{attrs:{src:"home"}}),e("span",{staticClass:"modal-text"},[t._v(" "+t._s(n.key.display)+" ")])],1)})),0)]),e("div",{staticClass:"pane rightPane"},["range"!==i.filters[i.selected_item].key.kind?e("div",{staticClass:"filter-disp"},[i.filters[i.selected_item].values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search-mobile"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobileSearchText,expression:"mobileSearchText"}],attrs:{type:"text",placeholder:"Search "+i.filters[i.selected_item].key.display},domProps:{value:t.mobileSearchText},on:{input:[function(e){e.target.composing||(t.mobileSearchText=e.target.value)},function(e){return i.getFilteredResults(t.mobileSearchText)}]}})]):t._e(),e("ul",t._l(i.getFilteredResults(t.mobileSearchText),(function(n,r){return e("li",{key:n.value+r,staticClass:"filterValue",on:{click:function(t){return i.updateFilter(n,i.selected_item)}}},[n.is_selected?t._e():e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}}),n.is_selected?e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}}):t._e(),e("span",{staticClass:"regular-s"},[t._v(" "+t._s(n.display)+" ")]),e("span",{staticClass:"count regular-xxs"},[t._v(" "+t._s(n.count)+" ")])],1)})),0)]):e("div",{staticClass:"filter-disp"},[e("div",{staticClass:"slider"},[e("fy-slider-filter",{attrs:{filteritem:i.filters[i.selected_item],reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return i.updateSliderInfo(t,i.filters[i.selected_item])}}})],1)])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"actionBtn",on:{click:function(e){i.resetFilters(),t.resetSlider=!t.resetSlider,i.applyFilters(),t.showFilterModal=!1}}},[e("span",[t._v("RESET")])]),e("div",{staticClass:"actionBtn",on:{click:function(e){i.applyFilters(),t.closeModal(e,"filter")}}},[e("span",[t._v("APPLY FILTERS")])])])])])]):t._e()]}}])})],1),e("fdk-infinite-loading",{staticClass:"plp-container",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"product-container"},[t._l(t.getProducts,(function(i,n){return e("div",{key:n+"-product.uid"},[e("div",{staticClass:"product-wrapper",on:{click:function(e){return t.redirectToProduct(i.url)}}},[e("fy-product-card",{attrs:{product:i,context:t.context,"active-product-id":t.active_product_uid,global_config:t.global_config,listing_price_config:t.listingPriceConfig},on:{"slide-up":function(e){return t.slideUpEventListener(e)},"slide-down":function(e){return t.slideDownEventListener(e)}}})],1)])})),i.hasNext?e("fdk-loader",{staticClass:"loader-center",attrs:{id:"loader"}}):t._e()],2)]}}])})],1)]],2),t.showSortByModal?e("transition",{attrs:{name:"modal-sort"}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("SORT BY")]),e("div",{on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("ul",{staticStyle:{width:"100%"}},t._l(t.context.sort_on,(function(i,n){return e("li",{key:n+"-sort",class:{"bold-lg active":t.getSortOnValue==i.value},on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-link",{staticClass:"filterValue sort-item",attrs:{link:i.url}},[t._v(" "+t._s(i.display)+" "),e("span",{staticClass:"sort-arrow"},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)])],1)})),0)])])])]):t._e(),e("div",{staticClass:"mobile share-wrap"},[e("transition",{attrs:{name:"fade","data-ss":String(t.showShare),"data-ismobile":String(t.isMobile)}},[t.showShare&&t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],key:"mobile-share",attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                          your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1)],1)]:t._e():e("div",[e("fdk-empty-state",{attrs:{title:"No items found"}})],1):e("fdk-loader",{staticClass:"loader-ws"})],2)},yr=[],_r=(i("13d5"),function(){var t=this,e=t._self._c;return e("fdk-product-card",{staticClass:"product-card-container",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"product-card animated fadeIn",on:{mouseover:function(e){return t.showSizeContainer()},mouseleave:function(e){return t.closeSizeContainer()},click:function(e){return t.shouldRedirect()}}},[t.disable?e("div",{staticClass:"overlay"}):t._e(),t.showWishlist&&t.isMounted?e("div",{staticClass:"wishlist-container",on:{click:function(e){t.isWishlist(),i.updateWishList(e,t.product)}}},[t.product.follow?e("div",{staticStyle:{"text-align":"center"}},[e("fdk-inline-svg",{attrs:{src:"wishlist-active"}})],1):e("div",{staticStyle:{"text-align":"center"}},[e("fdk-inline-svg",{attrs:{src:"wishlist"}})],1)]):t._e(),e("div",{staticClass:"product-image"},[e("emerge-image",{staticClass:"imgClass",attrs:{src:t.imageUrl,alt:t.product.brand.name+" | "+t.product.name,sources:[{breakpoint:{min:768},width:360},{breakpoint:{min:361},width:360},{breakpoint:{max:360},width:360}]}})],1)]),t.product.discount&&t.product.sellable?e("div",{staticClass:"discount-container"},[e("div",{staticClass:"discount"},[e("div",{staticClass:"special-offer-text bold-xxxxs"},[t._v(" "+t._s(t.product.discount)+" ")])])]):t._e(),t.product.sellable?t._e():e("div",{staticClass:"out-of-stock-container"},[e("div",{staticClass:"out-of-stock"},[e("div",{staticClass:"out-of-stock-text bold-xxxxs"},[t._v("SOLD OUT")])])]),e("div",{staticClass:"product-desc"},[t.product.rating?e("div",{staticStyle:{height:"20px"}},[e("fy-rating",{attrs:{rating:t.product.rating}})],1):t._e(),e("div",{staticClass:"card-desc"},[e("h6",{staticClass:"ukt-title",style:"color: "+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.product.brand.name)+" ")]),e("div",{staticClass:"info regular-xxxs",style:"color: "+t.global_config.props.text_heading_link_color,attrs:{title:t.product.name}},[t._v(" "+t._s(t.product.name)+" ")]),e("div",{staticClass:"price"},[e("span",{staticClass:"effective-price"},[e("div",[e("span",{staticClass:"regular-xs cl-Profit"},[t.product.price.effective?e("span",{style:t.getProductPrice("effective")!==t.getProductPrice("marked")?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(" "+t._s(t.getListingPrice("effective")||t.getProductPrice("effective")))]):t._e()]),t.getProductPrice("effective")!==t.getProductPrice("marked")?e("span",{staticClass:"regular-xxxs text-seperator"}):t._e(),t.getProductPrice("effective")!==t.getProductPrice("marked")?e("span",{staticClass:"strike-through regular-xxxs cl-DustyGray2",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(t.getListingPrice("marked")||t.getProductPrice("marked"))+" ")]):t._e()])])])])])]}}])})}),br=[],wr={components:{"fy-rating":ei,"emerge-image":Z},props:{product:{},showWishlist:{type:Boolean,default:!1},isWishListPage:{type:Boolean,default:!1},activeProductId:{default:0},global_config:{},listing_price_config:{type:String}},mounted(){this.isMounted=!0},data(){return{disable:!1,isMounted:!1}},methods:{getListingPrice(t){let e="";switch(this.listing_price_config){case"min":e=this.$options.filters.currencyformat(this.product.price[t].min);break;case"max":e=this.$options.filters.currencyformat(this.product.price[t].max);break;case"range":break;default:break}return e},getProductPrice(t){return this.product.price?this.product.price[t].min!==this.product.price[t].max?this.$options.filters.currencyformat(this.product.price[t].min)+" - "+this.$options.filters.currencyformat(this.product.price[t].max):this.$options.filters.currencyformat(this.product.price[t].min):""},closeSizeContainer(){this.showSizes||(this.product.is_active=!1)},showSizeContainer(){this.product.is_active=!0},shouldRedirect(){this.showSizes&&event.preventDefault()},isWishlist(){this.isWishListPage&&(this.disable=!0)}},computed:{imageUrl(){return this.product&&this.product.medias.length>0?this.product.medias[0].url:""},showSizes:{get:function(){return this.product.uid===this.activeProductId}}}},xr=wr,Cr=(i("611b"),Object(S["a"])(xr,_r,br,!1,null,"5292ab3d",null)),Er=Cr.exports,Sr=function(){var t=this,e=t._self._c;return e("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedOption,expression:"selectedOption"}],staticClass:"custom-select",attrs:{disabled:!0===t.disabled},on:{change:[function(e){var i=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.selectedOption=e.target.multiple?i:i[0]},t.changeSelection]}},t._l(t.options,(function(i,n){return e("option",{key:n,domProps:{value:i.value}},[t._v(t._s(i.display))])})),0)},Ir=[],Tr={name:"fy-select",props:{options:{},selectedOpt:{},disabled:{type:Boolean,default:!1}},data(){return{selectedOption:this.selectedOpt}},methods:{getSelectedOption(){return this.selectedOption},changeSelection(t){this.$emit("change-selection",t)}}},Mr=Tr,Br=(i("f3c8"),Object(S["a"])(Mr,Sr,Ir,!1,null,"77b16233",null)),kr=Br.exports,Lr=function(){var t=this,e=t._self._c;return e("div",{staticClass:"errorPage"},[e("fdk-inline-svg",{attrs:{src:"search_empty",alt:"Error "}}),e("div",[t._v(t._s(t.title))])],1)},Rr=[],Pr={name:"fy-not-found",props:{title:{type:String}}},Dr=Pr,Or=(i("c1e3"),Object(S["a"])(Dr,Lr,Rr,!1,null,"a0182538",null)),Fr=Or.exports,Nr=function(){var t=this,e=t._self._c;return e("div",[t.showSliderText?e("div",{staticClass:"cl-Mako light-xxxs"},[t.filteritem.values[0]&&!t.filteritem.values[0].currency_code?e("div",[t._v(" "+t._s(t.sliderVal[0])+"% to "+t._s(t.sliderVal[1])+"% ")]):t._e(),t.filteritem.values[0]&&t.filteritem.values[0].currency_code?e("div",[t._v(" "+t._s(t._f("currencyformat")(t.sliderVal[0]))+" to "+t._s(t._f("currencyformat")(t.sliderVal[1]))+" ")]):t._e()]):t._e(),e("no-ssr",[e("vue-slider",t._b({ref:"slider",staticClass:"price-slider",attrs:{min:Math.floor(t.sliderInfo.min),max:Math.floor(t.sliderInfo.max)},nativeOn:{click:function(e){return t.updateSliderInfo(e)},touchend:function(e){return t.updateSliderInfo(e)}},model:{value:t.sliderVal,callback:function(e){t.sliderVal=e},expression:"sliderVal"}},"vue-slider",t.options,!1))],1),t.showTextBox?e("div",{staticClass:"range-box"},[e("div",{staticClass:"cl-DustyGray2 regular-xs range-item"},[e("span",[t._v("Min")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.minInput,expression:"minInput"}],class:{empty:!t.minInput},attrs:{type:"number",min:Math.floor(t.sliderInfo.min),max:Math.floor(t.sliderInfo.max)},domProps:{value:t.minInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onChangeInput.apply(null,arguments)},input:[function(e){e.target.composing||(t.minInput=e.target.value)},t.debounceInput]}})]),e("div",{staticClass:"cl-DustyGray2 regular-xs range-item"},[e("span",[t._v("Max")]),e("input",{directives:[{name:"model",rawName:"v-model",value:t.maxInput,expression:"maxInput"}],class:{empty:!t.maxInput},attrs:{type:"number",min:Number(t.minInput)+1,max:Math.floor(t.sliderInfo.max)},domProps:{value:t.maxInput},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onChangeInput.apply(null,arguments)},input:[function(e){e.target.composing||(t.maxInput=e.target.value)},t.debounceInput]}})])]):t._e()],1)},Qr=[],Hr=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],ref:"wrap",class:["vue-slider-component",t.flowDirection,t.disabledClass,t.stateClass,{"vue-slider-has-label":t.piecewiseLabel}],style:[t.wrapStyles,t.boolDisabled?t.disabledStyle:null],on:{click:t.wrapClick}},[e("div",{ref:"elem",staticClass:"vue-slider",style:[t.elemStyles,t.bgStyle],attrs:{"aria-hidden":"true"}},[t.isRange?[e("div",{key:"dot0",ref:"dot0",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&0===t.focusSlider,"vue-slider-dot-dragging":t.flag&&0===t.currentSlider,"vue-slider-dot-disabled":!t.boolDisabled&&t.disabledArray[0]}],style:t.dotStyles,on:{mousedown:function(e){return t.moveStart(e,0)},touchstart:function(e){return t.moveStart(e,0)}}},[t._t("dot",(function(){return[e("div",{staticClass:"vue-slider-dot-handle",style:[!t.boolDisabled&&t.disabledArray[0]?t.disabledDotStyles[0]:null,t.sliderStyles[0],t.focusFlag&&0===t.focusSlider?t.focusStyles[0]:null]})]}),{value:t.val[0],index:0,disabled:t.disabledArray[0]}),e("div",{ref:"tooltip0",class:["vue-slider-tooltip-"+t.tooltipDirection[0],"vue-slider-tooltip-wrap"]},[t._t("tooltip",(function(){return[e("span",{staticClass:"vue-slider-tooltip",class:t.tooltipClass,style:t.tooltipStyles[0]},[t._v(t._s(t.formatter?t.formatting(t.val[0]):t.val[0]))])]}),{value:t.val[0],index:0,disabled:!t.boolDisabled&&t.disabledArray[0]})],2)],2),e("div",{key:"dot1",ref:"dot1",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&1===t.focusSlider,"vue-slider-dot-dragging":t.flag&&1===t.currentSlider,"vue-slider-dot-disabled":!t.boolDisabled&&t.disabledArray[1]}],style:t.dotStyles,on:{mousedown:function(e){return t.moveStart(e,1)},touchstart:function(e){return t.moveStart(e,1)}}},[t._t("dot",(function(){return[e("div",{staticClass:"vue-slider-dot-handle",style:[!t.boolDisabled&&t.disabledArray[1]?t.disabledDotStyles[1]:null,t.sliderStyles[1],t.focusFlag&&1===t.focusSlider?t.focusStyles[1]:null]})]}),{value:t.val[1],index:1,disabled:t.disabledArray[1]}),e("div",{ref:"tooltip1",class:["vue-slider-tooltip-"+t.tooltipDirection[1],"vue-slider-tooltip-wrap"]},[t._t("tooltip",(function(){return[e("span",{staticClass:"vue-slider-tooltip",class:t.tooltipClass,style:t.tooltipStyles[1]},[t._v(t._s(t.formatter?t.formatting(t.val[1]):t.val[1]))])]}),{value:t.val[1],index:1,disabled:!t.boolDisabled&&t.disabledArray[1]})],2)],2)]:[void 0!==t.staticValue?e("div",{key:"static-dot",ref:"static-dot",staticClass:"vue-slider-dot static-dot",class:["vue-slider-dot","vue-slider-dot--static",{"vue-slider-dot-active":t.isActive(t.getIndexByValue(t.staticValue))}],style:[t.staticPosition,t.dotStyles],on:{click:function(e){return e.stopPropagation(),(()=>t.clickable&&t.setValue(t.staticValue)).apply(null,arguments)}}},[t._t("static-dot",(function(){return[e("div",{staticClass:"vue-slider-dot-handle--static"})]}),{value:t.staticValue}),t.val!==t.staticValue?e("div",{class:["vue-slider-tooltip-"+t.tooltipDirection,"vue-slider-tooltip-wrap"]},[t._t("static-tooltip",(function(){return[e("span",{staticClass:"vue-slider-tooltip",class:t.tooltipClass},[t.staticLabel?[t._v(" "+t._s(t.staticLabel)+" ")]:[t._v(" "+t._s(t.formatter?t.formatting(t.staticValue):t.staticValue)+" ")]],2)]}),{value:t.staticValue})],2):t._e()],2):t._e(),e("div",{key:"dot",ref:"dot",class:[t.tooltipStatus,"vue-slider-dot",{"vue-slider-dot-focus":t.focusFlag&&0===t.focusSlider,"vue-slider-dot-dragging":t.flag&&0===t.currentSlider}],style:t.dotStyles,on:{mousedown:t.moveStart,touchstart:t.moveStart}},[t._t("dot",(function(){return[e("div",{staticClass:"vue-slider-dot-handle",style:[t.sliderStyles,t.focusFlag&&0===t.focusSlider?t.focusStyles:null]})]}),{value:t.val,disabled:t.boolDisabled}),e("div",{class:["vue-slider-tooltip-"+t.tooltipDirection,"vue-slider-tooltip-wrap"]},[t._t("tooltip",(function(){return[e("span",{staticClass:"vue-slider-tooltip",class:t.tooltipClass,style:t.tooltipStyles},[t._v(t._s(t.formatter?t.formatting(t.val):t.val))])]}),{value:t.val})],2)],2)],e("ul",{staticClass:"vue-slider-piecewise"},t._l(t.piecewiseDotWrap,(function(i,n){return e("li",{key:n,staticClass:"vue-slider-piecewise-item",style:[t.piecewiseDotStyle,i.style]},[t._t("piecewise",(function(){return[t.piecewise?e("span",{class:["vue-slider-piecewise-dot",{"vue-slider-piecewise-dot-active":t.isActive(i.index)}],style:[t.piecewiseStyle,t.isActive(i.index)?t.piecewiseActiveStyle:null]}):t._e()]}),{value:t.val,label:i.label,index:n,first:0===n,last:n===t.piecewiseDotWrap.length-1,active:t.isActive(i.index),total:t.piecewiseDotWrap.length}),t._t("label",(function(){return[t.piecewiseLabel?e("span",{staticClass:"vue-slider-piecewise-label",style:[t.labelStyle,t.isActive(i.index)?t.labelActiveStyle:null]},[t._v(" "+t._s(i.label)+" ")]):t._e()]}),{value:t.val,label:i.label,index:n,first:0===n,last:n===t.piecewiseDotWrap.length-1,active:t.isActive(i.index),total:t.piecewiseDotWrap.length})],2)})),0),e("div",{ref:"process",class:["vue-slider-process",{"vue-slider-process-dragable":t.isRange&&t.processDragable},t.processClass],style:t.processStyle,on:{click:t.processClick,mousedown:function(e){return t.moveStart(e,0,!0)},touchstart:function(e){return t.moveStart(e,0,!0)}}},[e("div",{ref:"mergedTooltip",class:["vue-merged-tooltip","vue-slider-tooltip-"+t.tooltipDirection[0],"vue-slider-tooltip-wrap"],style:t.tooltipMergedPosition},[t._t("tooltip",(function(){return[e("span",{staticClass:"vue-slider-tooltip",class:t.tooltipClass,style:t.tooltipStyles},[t._v(" "+t._s(t.mergeFormatter?t.mergeFormatting(t.val[0],t.val[1]):t.formatter?t.val[0]===t.val[1]?t.formatting(t.val[0]):`${t.formatting(t.val[0])} - ${t.formatting(t.val[1])}`:t.val[0]===t.val[1]?t.val[0]:`${t.val[0]} - ${t.val[1]}`)+" ")])]}),{value:t.val,merge:!0})],2)]),t.isRange||t.data?t._e():e("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"vue-slider-sr-only",attrs:{type:"range",min:t.min,max:t.max},domProps:{value:t.val},on:{__r:function(e){t.val=e.target.value}}})],2)])},Ur=[];const Gr=function(){const t="undefined"!==typeof window&&window.devicePixelRatio||1;return e=>Math.round(e*t)/t}();var zr,jr,Vr,Wr,qr,Yr,$r={name:"VueSliderComponent",props:{width:{type:[Number,String],default:"auto"},height:{type:[Number,String],default:6},data:{type:Array,default:null},dotSize:{type:Number,default:16},dotWidth:{type:Number,required:!1},dotHeight:{type:Number,required:!1},min:{type:Number,default:0},max:{type:Number,default:100},interval:{type:Number,default:1},show:{type:Boolean,default:!0},disabled:{type:[Boolean,Array],default:!1},piecewise:{type:Boolean,default:!1},tooltip:{type:[String,Boolean],default:"always"},eventType:{type:String,default:"auto"},direction:{type:String,default:"horizontal"},staticValue:{type:[String,Number]},staticLabel:{type:String},reverse:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},clickable:{type:Boolean,default:!0},speed:{type:Number,default:.5},realTime:{type:Boolean,default:!1},stopPropagation:{type:Boolean,default:!1},value:{type:[String,Number,Array,Object],default:0},piecewiseLabel:{type:Boolean,default:!1},debug:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},minRange:{type:Number},maxRange:{type:Number},processDragable:{type:Boolean,default:!1},useKeyboard:{type:Boolean,default:!1},actionsKeyboard:{type:Array,default(){return[t=>t-1,t=>t+1]}},piecewiseFilter:{type:Function},tooltipMerge:{type:Boolean,default:!0},startAnimation:{type:Boolean,default:!1},enableCross:{type:Boolean,default:!0},sliderStyle:[Array,Object,Function],focusStyle:[Array,Object,Function],tooltipDir:[Array,String],formatter:[String,Function],mergeFormatter:[String,Function],piecewiseStyle:Object,disabledStyle:Object,piecewiseActiveStyle:Object,processStyle:Object,processClass:String,bgStyle:Object,tooltipStyle:[Array,Object,Function],tooltipClass:String,disabledDotStyle:[Array,Object,Function],labelStyle:Object,labelActiveStyle:Object},data(){return{flag:!1,dragFlag:!1,crossFlag:!1,keydownFlag:null,focusFlag:!1,processFlag:!1,processSign:null,size:0,fixedValue:0,focusSlider:0,currentValue:0,currentSlider:0,isComponentExists:!0,isMounted:!1}},computed:{staticPosition(){const t=(this.staticValue-this.minimum)/this.spacing*this.gap,e=Gr(("vertical"===this.direction?this.dotHeightVal/2-t:t-this.dotWidthVal/2)*(this.reverse?-1:1)),i="vertical"===this.direction?`translateY(${e}px)`:`translateX(${e}px)`;return{transform:i,WebkitTransform:i,msTransform:i}},dotWidthVal(){return"number"===typeof this.dotWidth?this.dotWidth:this.dotSize},dotHeightVal(){return"number"===typeof this.dotHeight?this.dotHeight:this.dotSize},flowDirection(){return"vue-slider-"+(this.direction+(this.reverse?"-reverse":""))},tooltipMergedPosition(){if(!this.isMounted)return{};const t=this.tooltipDirection[0],e=this.$refs.dot0;if(e){if("vertical"===this.direction){const e={};return e[t]=`-${this.dotHeightVal/2-this.width/2+9}px`,e}{const e={};return e[t]=`-${this.dotWidthVal/2-this.height/2+9}px`,e["left"]="50%",e}}},tooltipDirection(){const t=this.tooltipDir||("vertical"===this.direction?"left":"top");return Array.isArray(t)?this.isRange?t:t[1]:this.isRange?[t,t]:t},tooltipStatus(){return"hover"===this.tooltip&&this.flag?"vue-slider-always":this.tooltip?"vue-slider-"+this.tooltip:""},disabledArray(){return Array.isArray(this.disabled)?this.disabled:[this.disabled,this.disabled]},boolDisabled(){return this.disabledArray.every(t=>!0===t)},isDisabled(){return"none"===this.eventType||this.boolDisabled},disabledClass(){return this.boolDisabled?"vue-slider-disabled":""},stateClass(){return{"vue-slider-state-process-drag":this.processFlag,"vue-slider-state-drag":this.flag&&!this.processFlag&&!this.keydownFlag,"vue-slider-state-focus":this.focusFlag}},isRange(){return Array.isArray(this.value)},slider(){return this.isRange?[this.$refs.dot0,this.$refs.dot1]:this.$refs.dot},minimum(){return this.data?0:this.min},val:{get(){return this.data?this.isRange?[this.data[this.currentValue[0]],this.data[this.currentValue[1]]]:this.data[this.currentValue]:this.currentValue},set(t){if(this.data)if(this.isRange){const e=this.data.indexOf(t[0]),i=this.data.indexOf(t[1]);e>-1&&i>-1&&(this.currentValue=[e,i])}else{const e=this.data.indexOf(t);e>-1&&(this.currentValue=e)}else this.currentValue=t}},currentIndex(){return this.isRange?this.data?this.currentValue:[this.getIndexByValue(this.currentValue[0]),this.getIndexByValue(this.currentValue[1])]:this.data?this.currentValue:this.getIndexByValue(this.currentValue)},indexRange(){return this.isRange?this.currentIndex:[0,this.currentIndex]},maximum(){return this.data?this.data.length-1:this.max},multiple(){const t=(""+this.interval).split(".")[1];return t?Math.pow(10,t.length):1},spacing(){return this.data?1:this.interval},total(){return this.data?this.data.length-1:(Math.floor((this.maximum-this.minimum)*this.multiple)%(this.interval*this.multiple)!==0&&this.printError("Prop[interval] is illegal, Please make sure that the interval can be divisible"),(this.maximum-this.minimum)/this.interval)},gap(){return this.size/this.total},position(){return this.isRange?[(this.currentValue[0]-this.minimum)/this.spacing*this.gap,(this.currentValue[1]-this.minimum)/this.spacing*this.gap]:(this.currentValue-this.minimum)/this.spacing*this.gap},isFixed(){return this.fixed||this.minRange},limit(){return this.isRange?this.isFixed?[[0,(this.total-this.fixedValue)*this.gap],[this.fixedValue*this.gap,this.size]]:[[0,this.position[1]],[this.position[0],this.size]]:[0,this.size]},valueLimit(){return this.isRange?this.isFixed?[[this.minimum,this.maximum-this.fixedValue*(this.spacing*this.multiple)/this.multiple],[this.minimum+this.fixedValue*(this.spacing*this.multiple)/this.multiple,this.maximum]]:[[this.minimum,this.currentValue[1]],[this.currentValue[0],this.maximum]]:[this.minimum,this.maximum]},idleSlider(){return 0===this.currentSlider?1:0},wrapStyles(){return"vertical"===this.direction?{height:"number"===typeof this.height?this.height+"px":this.height,padding:`${this.dotHeightVal/2}px ${this.dotWidthVal/2}px`}:{width:"number"===typeof this.width?this.width+"px":this.width,padding:`${this.dotHeightVal/2}px ${this.dotWidthVal/2}px`}},sliderStyles(){return Array.isArray(this.sliderStyle)?this.isRange?this.sliderStyle:this.sliderStyle[1]:"function"===typeof this.sliderStyle?this.sliderStyle(this.val,this.currentIndex):this.isRange?[this.sliderStyle,this.sliderStyle]:this.sliderStyle},focusStyles(){return Array.isArray(this.focusStyle)?this.isRange?this.focusStyle:this.focusStyle[1]:"function"===typeof this.focusStyle?this.focusStyle(this.val,this.currentIndex):this.isRange?[this.focusStyle,this.focusStyle]:this.focusStyle},disabledDotStyles(){const t=this.disabledDotStyle;if(Array.isArray(t))return t;if("function"===typeof t){const e=t(this.val,this.currentIndex);return Array.isArray(e)?e:[e,e]}return t?[t,t]:[{backgroundColor:"#ccc"},{backgroundColor:"#ccc"}]},tooltipStyles(){return Array.isArray(this.tooltipStyle)?this.isRange?this.tooltipStyle:this.tooltipStyle[1]:"function"===typeof this.tooltipStyle?this.tooltipStyle(this.val,this.currentIndex):this.isRange?[this.tooltipStyle,this.tooltipStyle]:this.tooltipStyle},elemStyles(){return"vertical"===this.direction?{width:this.width+"px",height:"100%"}:{height:this.height+"px"}},dotStyles(){return"vertical"===this.direction?{width:this.dotWidthVal+"px",height:this.dotHeightVal+"px",left:-(this.dotWidthVal-this.width)/2+"px"}:{width:this.dotWidthVal+"px",height:this.dotHeightVal+"px",top:-(this.dotHeightVal-this.height)/2+"px"}},piecewiseDotStyle(){return"vertical"===this.direction?{width:this.width+"px",height:this.width+"px"}:{width:this.height+"px",height:this.height+"px"}},piecewiseDotWrap(){if(!this.piecewise&&!this.piecewiseLabel)return!1;let t=[];for(let e=0;e<=this.total;e++){const i="vertical"===this.direction?{bottom:this.gap*e-this.width/2+"px",left:0}:{left:this.gap*e-this.height/2+"px",top:0},n=this.reverse?this.total-e:e,r=this.data?this.data[n]:this.spacing*n+this.min;this.piecewiseFilter&&!this.piecewiseFilter({index:n,label:r})||t.push({style:i,index:n,label:this.formatter?this.formatting(r):r})}return t}},watch:{value(t){this.flag||this.setValue(t,!0)},max(t){if(t<this.min)return this.printError("The maximum value can not be less than the minimum value.");const e=this.limitValue(this.val);this.setValue(e),this.refresh()},min(t){if(t>this.max)return this.printError("The minimum value can not be greater than the maximum value.");const e=this.limitValue(this.val);this.setValue(e),this.refresh()},show(t){t&&!this.size&&this.$nextTick(()=>{this.refresh()})},fixed(){this.computedFixedValue()},minRange(){this.computedFixedValue()},reverse(){this.$refs.process.style.cssText="",this.refresh()}},methods:{bindEvents(){document.addEventListener("touchmove",this.moving,{passive:!1}),document.addEventListener("touchend",this.moveEnd,{passive:!1}),document.addEventListener("mousedown",this.blurSlider),document.addEventListener("mousemove",this.moving),document.addEventListener("mouseup",this.moveEnd),document.addEventListener("mouseleave",this.moveEnd),document.addEventListener("keydown",this.handleKeydown),document.addEventListener("keyup",this.handleKeyup),window.addEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.addEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.addEventListener("transitionend",this.handleOverlapTooltip))},unbindEvents(){document.removeEventListener("touchmove",this.moving),document.removeEventListener("touchend",this.moveEnd),document.removeEventListener("mousedown",this.blurSlider),document.removeEventListener("mousemove",this.moving),document.removeEventListener("mouseup",this.moveEnd),document.removeEventListener("mouseleave",this.moveEnd),document.removeEventListener("keydown",this.handleKeydown),document.removeEventListener("keyup",this.handleKeyup),window.removeEventListener("resize",this.refresh),this.isRange&&this.tooltipMerge&&(this.$refs.dot0.removeEventListener("transitionend",this.handleOverlapTooltip),this.$refs.dot1.removeEventListener("transitionend",this.handleOverlapTooltip))},handleKeydown(t){if(!this.useKeyboard||!this.focusFlag)return!1;switch(t.keyCode){case 37:case 40:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[0]);break;case 38:case 39:t.preventDefault(),this.keydownFlag=!0,this.flag=!0,this.changeFocusSlider(this.actionsKeyboard[1]);break}},handleKeyup(){this.keydownFlag&&(this.keydownFlag=!1,this.flag=!1)},changeFocusSlider(t){if(this.isRange){let e=this.currentIndex.map((e,i)=>{if(i===this.focusSlider||this.fixed){const n=t(e),r=this.fixed?this.valueLimit[i]:[0,this.total];if(n<=r[1]&&n>=r[0])return n}return e});e[0]>e[1]&&(this.focusSlider=0===this.focusSlider?1:0,e=e.reverse()),this.setIndex(e)}else this.setIndex(t(this.currentIndex))},blurSlider(t){const e=this.isRange?this.$refs["dot"+this.focusSlider]:this.$refs.dot;if(!e||e===t.target||e.contains(t.target))return!1;this.focusFlag=!1},formatting(t){return"string"===typeof this.formatter?this.formatter.replace(/\{value\}/,t):this.formatter(t)},mergeFormatting(t,e){return"string"===typeof this.mergeFormatter?this.mergeFormatter.replace(/\{(value1|value2)\}/g,(i,n)=>"value1"===n?t:e):this.mergeFormatter(t,e)},getPos(t){return this.realTime&&this.getStaticData(),"vertical"===this.direction?this.reverse?t.pageY-this.offset:this.size-(t.pageY-this.offset):this.reverse?this.size-(t.clientX-this.offset):t.clientX-this.offset},processClick(t){this.fixed&&t.stopPropagation()},wrapClick(t){if(this.isDisabled||!this.clickable||this.processFlag||this.dragFlag)return!1;const e=this.getPos(t);if(this.isRange)if(this.disabledArray.every(t=>!1===t))this.currentSlider=e>(this.position[1]-this.position[0])/2+this.position[0]?1:0;else if(this.disabledArray[0]){if(e<this.position[0])return!1;this.currentSlider=1}else if(this.disabledArray[1]){if(e>this.position[1])return!1;this.currentSlider=0}if(this.disabledArray[this.currentSlider])return!1;if(this.setValueOnPos(e),this.isRange&&this.tooltipMerge){const t=setInterval(()=>this.handleOverlapTooltip(),16.7);setTimeout(()=>window.clearInterval(t),1e3*this.speed)}},moveStart(t,e=0,i){if(this.disabledArray[e])return!1;if(this.stopPropagation&&t.stopPropagation(),this.isRange){if(this.currentSlider=e,i){if(!this.processDragable)return!1;this.processFlag=!0,this.processSign={pos:this.position,start:this.getPos(t.targetTouches&&t.targetTouches[0]?t.targetTouches[0]:t)}}this.enableCross||this.val[0]!==this.val[1]||(this.crossFlag=!0)}!i&&this.useKeyboard&&(this.focusFlag=!0,this.focusSlider=e),this.flag=!0,this.$emit("drag-start",this)},moving(t){if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;t.preventDefault(),t.targetTouches&&t.targetTouches[0]&&(t=t.targetTouches[0]),this.processFlag?(this.currentSlider=0,this.setValueOnPos(this.processSign.pos[0]+this.getPos(t)-this.processSign.start,!0),this.currentSlider=1,this.setValueOnPos(this.processSign.pos[1]+this.getPos(t)-this.processSign.start,!0)):(this.dragFlag=!0,this.setValueOnPos(this.getPos(t),!0)),this.isRange&&this.tooltipMerge&&this.handleOverlapTooltip(),this.$emit("drag",this)},moveEnd(t){if(this.stopPropagation&&t.stopPropagation(),!this.flag)return!1;this.$emit("drag-end",this),this.lazy&&this.isDiff(this.val,this.value)&&this.syncValue(),this.flag=!1,window.setTimeout(()=>{this.crossFlag=!1,this.dragFlag=!1,this.processFlag=!1},0),this.setPosition()},setValueOnPos(t,e){const i=this.isRange?this.limit[this.currentSlider]:this.limit,n=this.isRange?this.valueLimit[this.currentSlider]:this.valueLimit,r=Math.round(t/this.gap);if(t>=i[0]&&t<=i[1]){const i=this.getValueByIndex(r);this.setTransform(t),this.setCurrentValue(i,e),this.isRange&&(this.fixed||this.isLessRange(t,r))&&(this.setTransform(t+this.fixedValue*this.gap*(0===this.currentSlider?1:-1),!0),this.setCurrentValue((i*this.multiple+this.fixedValue*this.spacing*this.multiple*(0===this.currentSlider?1:-1))/this.multiple,e,!0))}else{const s=t<i[0]?0:1,o=0===s?1:0;this.setTransform(i[s]),this.setCurrentValue(n[s]),this.isRange&&(this.fixed||this.isLessRange(t,r))?(this.setTransform(this.limit[this.idleSlider][s],!0),this.setCurrentValue(this.valueLimit[this.idleSlider][s],e,!0)):!this.isRange||!this.enableCross&&!this.crossFlag||this.isFixed||this.disabledArray[s]||this.currentSlider!==o||(this.focusSlider=s,this.currentSlider=s)}this.crossFlag=!1},isLessRange(t,e){if(!this.isRange||!this.minRange&&!this.maxRange)return!1;const i=0===this.currentSlider?this.currentIndex[1]-e:e-this.currentIndex[0];return this.minRange&&i<=this.minRange?(this.fixedValue=this.minRange,!0):this.maxRange&&i>=this.maxRange?(this.fixedValue=this.maxRange,!0):(this.computedFixedValue(),!1)},isDiff(t,e){return Object.prototype.toString.call(t)!==Object.prototype.toString.call(e)||(Array.isArray(t)&&t.length===e.length?t.some((t,i)=>t!==e[i]):t!==e)},setCurrentValue(t,e,i){const n=i?this.idleSlider:this.currentSlider;if(t<this.minimum||t>this.maximum)return!1;this.isRange?this.isDiff(this.currentValue[n],t)&&(this.currentValue.splice(n,1,t),this.lazy&&this.flag&&!this.keydownFlag||this.syncValue()):this.isDiff(this.currentValue,t)&&(this.currentValue=t,this.lazy&&this.flag&&!this.keydownFlag||this.syncValue()),e||this.setPosition()},getValueByIndex(t){return(this.spacing*this.multiple*t+this.minimum*this.multiple)/this.multiple},getIndexByValue(t){return this.data?this.data.indexOf(t):Math.round((t-this.minimum)*this.multiple)/(this.spacing*this.multiple)},setIndex(t){if(Array.isArray(t)&&this.isRange){let e;e=this.data?[this.data[t[0]],this.data[t[1]]]:[this.getValueByIndex(t[0]),this.getValueByIndex(t[1])],this.setValue(e)}else t=this.getValueByIndex(t),this.isRange&&(this.currentSlider=t>(this.currentValue[1]-this.currentValue[0])/2+this.currentValue[0]?1:0),this.setCurrentValue(t)},setValue(t,e,i){if(this.isDiff(this.val,t)){const i=this.limitValue(t);this.val=this.isRange?i.concat():i,this.computedFixedValue(),this.syncValue(e)}this.$nextTick(()=>this.setPosition(i))},computedFixedValue(){if(!this.isFixed)return this.fixedValue=0,!1;this.fixedValue=Math.max(this.fixed?this.currentIndex[1]-this.currentIndex[0]:0,this.minRange||0)},setPosition(t){this.flag||this.setTransitionTime(void 0===t?this.speed:t),this.isRange?(this.setTransform(this.position[0],1===this.currentSlider),this.setTransform(this.position[1],0===this.currentSlider)):this.setTransform(this.position),this.flag||this.setTransitionTime(0)},setTransform(t,e){const i=e?this.idleSlider:this.currentSlider,n=Gr(("vertical"===this.direction?this.dotHeightVal/2-t:t-this.dotWidthVal/2)*(this.reverse?-1:1)),r="vertical"===this.direction?`translateY(${n}px)`:`translateX(${n}px)`,s=this.fixed?this.fixedValue*this.gap+"px":(0===i?this.position[1]-t:t-this.position[0])+"px",o=this.fixed?(0===i?t:t-this.fixedValue*this.gap)+"px":(0===i?t:this.position[0])+"px";this.isRange?(this.slider[i].style.transform=r,this.slider[i].style.WebkitTransform=r,this.slider[i].style.msTransform=r,"vertical"===this.direction?(this.$refs.process.style.height=s,this.$refs.process.style[this.reverse?"top":"bottom"]=o):(this.$refs.process.style.width=s,this.$refs.process.style[this.reverse?"right":"left"]=o)):(this.slider.style.transform=r,this.slider.style.WebkitTransform=r,this.slider.style.msTransform=r,"vertical"===this.direction?(this.$refs.process.style.height=t+"px",this.$refs.process.style[this.reverse?"top":"bottom"]=0):(this.$refs.process.style.width=t+"px",this.$refs.process.style[this.reverse?"right":"left"]=0))},setTransitionTime(t){if(t||this.$refs.process.offsetWidth,this.isRange){for(let e=0;e<this.slider.length;e++)this.slider[e].style.transitionDuration=t+"s",this.slider[e].style.WebkitTransitionDuration=t+"s";this.$refs.process.style.transitionDuration=t+"s",this.$refs.process.style.WebkitTransitionDuration=t+"s"}else this.slider.style.transitionDuration=t+"s",this.slider.style.WebkitTransitionDuration=t+"s",this.$refs.process.style.transitionDuration=t+"s",this.$refs.process.style.WebkitTransitionDuration=t+"s"},limitValue(t){if(this.data)return t;const e=e=>e<this.min?(this.printError(`The value of the slider is ${t}, the minimum value is ${this.min}, the value of this slider can not be less than the minimum value`),this.min):e>this.max?(this.printError(`The value of the slider is ${t}, the maximum value is ${this.max}, the value of this slider can not be greater than the maximum value`),this.max):e;return this.isRange?t.map(t=>e(t)):e(t)},isActive(t){return t>=this.indexRange[0]&&t<=this.indexRange[1]},syncValue(t){let e=this.isRange?this.val.concat():this.val;this.$emit("input",e),this.keydownFlag&&this.$emit("on-keypress",e),t||this.$emit("callback",e)},getValue(){return this.val},getIndex(){return this.currentIndex},getStaticData(){this.$refs.elem&&(this.size="vertical"===this.direction?this.$refs.elem.offsetHeight:this.$refs.elem.offsetWidth,this.offset="vertical"===this.direction?this.$refs.elem.getBoundingClientRect().top+window.pageYOffset||document.documentElement.scrollTop:this.$refs.elem.getBoundingClientRect().left)},refresh(){this.$refs.elem&&(this.getStaticData(),this.computedFixedValue(),this.setPosition(0))},printError(t){this.debug&&console.error("[VueSlider error]: "+t)},handleOverlapTooltip(){const t=this.tooltipDirection[0]===this.tooltipDirection[1];if(this.isRange&&t){const t=this.reverse?this.$refs.tooltip1:this.$refs.tooltip0,e=this.reverse?this.$refs.tooltip0:this.$refs.tooltip1,i=t.getBoundingClientRect(),n=e.getBoundingClientRect(),r=i.right,s=n.left,o=i.top,a=n.top+n.height,l="horizontal"===this.direction&&r>s,c="vertical"===this.direction&&a>o;l||c?this.handleDisplayMergedTooltip(!0):this.handleDisplayMergedTooltip(!1)}},handleDisplayMergedTooltip(t){const e=this.$refs.tooltip0,i=this.$refs.tooltip1,n=this.$refs.process.getElementsByClassName("vue-merged-tooltip")[0];t?(e.style.visibility="hidden",i.style.visibility="hidden",n.style.visibility="inherit"):(e.style.visibility="inherit",i.style.visibility="inherit",n.style.visibility="hidden")}},mounted(){if(this.isComponentExists=!0,"undefined"===typeof window||"undefined"===typeof document)return this.printError("window or document is undefined, can not be initialization.");this.$nextTick(()=>{this.isComponentExists&&(this.getStaticData(),this.setValue(this.limitValue(this.value),!0,this.startAnimation?this.speed:0),this.bindEvents(),this.isRange&&this.tooltipMerge&&!this.startAnimation&&this.$nextTick(()=>{this.handleOverlapTooltip()}))}),this.isMounted=!0},beforeDestroy(){this.isComponentExists=!1,this.unbindEvents()}},Jr=$r,Xr=(i("d31e"),Object(S["a"])(Jr,Hr,Ur,!1,null,null,null)),Kr=Xr.exports,Zr=i("f92d"),ts=i.n(Zr),es={name:"fy-slider-filter",components:{"vue-slider":Kr,"no-ssr":ts.a},props:{filteritem:{},showTextBox:{default:!1,type:Boolean},showSliderText:{default:!0,type:Boolean},reset:{type:Boolean}},data(){const t=this.filteritem.values[0],e=this.getSliderValue();return{sliderInfo:t,sliderVal:e,minInput:Array.isArray(e)&&e.length>0?e[0]:0,maxInput:Array.isArray(e)&&e.length>0?e[1]:0,options:{tooltip:"none"}}},methods:{getSliderValue(){if("range"===this.filteritem.key.kind){const t=this.filteritem.values[0];if(t.selected_max){const e=[Math.floor(t.selected_min),Math.floor(t.selected_max)];return this.filteritem.query=this.generateQuery(this.filteritem,e),e}return[Math.floor(t.min),Math.floor(t.max)]}return null},updateSliderInfo(t){let e=this.$refs.slider.getValue();this.showTextBox&&(this.minInput=e[0],this.maxInput=e[1]);let i=this.generateQuery(this.filteritem,e);this.$emit("slider-query",i)},generateQuery(t,e){let i=0;return t.values[0].query_format.replace(/{}/g,(function(t){return i++,e[i-1]}))},onChangeInput(t){let e=parseInt(this.minInput),i=parseInt(this.maxInput);if(e>=0&&i>=0&&this.sliderInfo.min<=e&&i<=this.sliderInfo.max&&Number(this.minInput)<Number(this.maxInput)){this.sliderVal=[this.minInput,this.maxInput];let t=this.generateQuery(this.filteritem,this.sliderVal);this.$emit("slider-query",t)}},debounceInput:at((function(t){this.onChangeInput()}),500)},watch:{filteritem:function(t){this.filteritem=t,this.sliderVal=this.getSliderValue(),this.sliderInfo=t.values[0]},reset(t){this.sliderVal=this.getSliderValue(),this.sliderInfo=this.filteritem.values[0]}}},is=es,ns=(i("fb02"),Object(S["a"])(is,Nr,Qr,!1,null,"013a9e51",null)),rs=ns.exports,ss=function(){var t=this,e=t._self._c;return e("div",{staticClass:"items sort-list regular-sm"},[e("span",{staticClass:"dd-label"},[t._v("Sort by:")]),e("div",{staticClass:"selected",on:{click:function(e){t.sortOpen=!t.sortOpen}}},[e("span",{staticClass:"selectedSort"},[t._v(" "+t._s(t.selectedsort)+" ")]),e("img",{attrs:{src:i("add9")}}),t.sortOpen&&t.checkMobile?e("ul",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeSortOption,expression:"closeSortOption"}],staticClass:"menu",attrs:{id:"sortopt"}},t._l(t.filteredsorts,(function(n,r){return e("li",{key:n.value+r,on:{click:function(e){return t.updateSelection(n.value)}}},[n.is_selected?t._e():e("fdk-inline-svg",{attrs:{src:"regular"}}),n.is_selected?e("img",{attrs:{src:i("50df")}}):t._e(),e("span",[t._v(t._s(n.name))])],1)})),0):t._e()])])},os=[],as={name:"sort-dd",props:{filteredsorts:[],updateSelection:{}},data(){return{sortOpen:!1}},computed:{selectedsort(){let t=this.filteredsorts.filter(t=>t.is_selected);return t.length>0?t[0].name:0===t.length?this.filteredsorts[1].name:void 0},checkMobile(){return!!ot["isBrowser"]&&window.innerWidth>480}},methods:{closeSortOption(t){t&&"sortopt"!==t.target.id&&(this.sortOpen=!1)}}},ls=as,cs=(i("09bb"),Object(S["a"])(ls,ss,os,!1,null,"b00c5c0c",null)),us=cs.exports,hs={name:"fdk-plp",components:{"fy-product-card":Er,"fy-select":kr,"fy-not-found":Fr,"fy-slider-filter":rs,"sort-dd":us,share:xt},props:{context:{}},watch:{context:function(){if(this.context.filters&&this.context.filters.length>this.viewMore.length)for(var t=0;t<this.context.filters.length;t++)this.viewMore[t]||this.$set(this.viewMore,t,!1)},active_product_uid:function(){this.context.item.map(t=>{t.uid===this.active_product_uid?t.is_active=!0:t.is_active=!1})}},data:function(){return{shareLoading:!1,showShare:!1,share_link:"",qr_code:"",active_product_uid:0,mobileSearchText:"",selectedSortOpt:"",storeName:"",SHOW_SEARCH_THRESHOLD:8,placeholder:"Search ",showFilterModal:!1,showSortByModal:!1,filteredItems:[],selectedFilters:[],searchTextObj:{},resetSlider:!1,viewMore:[],products:[{isImageLoading:!0}],isMobile:!1}},mounted(){this.isMobile=lt()},methods:{hideShare(){this.showShare=!1},getShareLink(t){this.shareLoading=!0,this.showShare=!0,t.getShareLink(window.location.href).then(e=>{t.generateQRCode(e).then(t=>{this.qr_code=`\n                <div style="width: 250px;">\n                  ${t.svg}\n                </div>\n                `,this.share_link=e,this.shareLoading=!1})})},slideUpEventListener(t){this.active_product_uid=t},slideDownEventListener(){this.active_product_uid=0},resetFilters(t){this.$refs&&this.$refs.mobileActionContainer&&t(),this.$router.push({query:{}})},selectedOptions:function(t){let{filters:e}=t;e=e||[];let i=e.reduce((t,e,i)=>{let{values:n,key:r}=e;n=n||[];let s=n.map(t=>{if(t.is_selected)return t.filterIndex=i,t}).filter(t=>t);return[...t,...s]},[]);return this.activeFilters=i,i},updateSelectedOptions(t,e){this.$refs&&this.$refs.mobileActionContainer&&e(t,t.filterIndex),t.url?this.$router.push(t.url):this.getRangeURL(t)},getRangeURL(t){let e=this.context.filters[t.filterIndex].key.name,i={...this.$route.query};Object.keys(i).includes(e)&&delete i[e],this.$router.push({...this.$route,query:i})},getFilterDisplay:function(t,e){let i=t[e.filterIndex];return"range"===i.key.kind?e.currency_code?"₹ "+e.selected_min+" - ₹ "+e.selected_max:e.selected_min+"% - "+e.selected_max+"%":e.display.toUpperCase()},changeViewMore(t){this.viewMore[t]=!this.viewMore[t],this.$forceUpdate()},kFormatter:function(t){return Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(2)+"k":Math.sign(t)*Math.abs(t)},updateSelection:function(t){const e=this.context.sort_on.findIndex(e=>e.value===t);this.$router.push(this.context.sort_on[e].url)},closeModal:function(t,e){"sort"===e?this.showSortByModal=!1:"filter"===e&&(this.showFilterModal=!1)},viewModal:function(t,e){"sort"===e?this.showSortByModal=!0:"filter"===e&&(this.showFilterModal=!0)},filterResults:function(t,e){this.getFilters[e].filteredValues=t.values.filter(i=>t.searchText.length>0?(this.searchTextObj[this.getFilters[e].key.name]=t.searchText,-1!==i.display.toLowerCase().indexOf(t.searchText.toLowerCase())):i),this.$forceUpdate()},loadImage:function(t){const e=this.$refs["placeholder-"+t];e[0].style.display="none"},redirectToProduct:function(t){if(this.isLoadedInIframe())this.$router.push(t);else if(this.isMobile)this.$router.push(t);else{let e=this.$router.resolve(t);window.open(e.href,"_blank")}},isLoadedInIframe(){return!(!ot["isBrowser"]||window.location===window.parent.location)}},computed:{getFilters:function(){this.filteredItems=[];this.context.filters&&this.context.filters.map(t=>(t.searchText=this.searchTextObj[t]&&this.searchTextObj[t.key]?this.searchTextObj[t.key.name]:"",t.filteredValues=t.values,this.filteredItems.push(t),t));return this.filteredItems},getSortOnValue:function(){let t=[];return this.context&&this.context.sort_on&&(t=this.context.sort_on.filter(t=>t.is_selected)),t.length>0?t[0].value:"popular"},getSelectedFilters:function(){this.selectedFilters=this.getFilters.filter(t=>t.is_selected)},getProducts:function(){return this.context.items.map(t=>(t.is_active=!1,t))},hrefTarget(){return this.isLoadedInIframe()?"_self":"_blank"},listingPriceConfig(){var t,e,i,n;return null===(t=this.context.app_features)||void 0===t||null===(e=t.feature)||void 0===e||null===(i=e.common)||void 0===i||null===(n=i.listing_price)||void 0===n?void 0:n.value}}},ds=hs,ps=(i("bc7b"),Object(S["a"])(ds,Ar,yr,!1,null,"379e69f9",null)),fs=ps.exports,gs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"plp-wrapper",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[!t.context.loading||t.context.items&&0!==t.context.items.length?t.context.loading||t.context.items&&0!==t.context.items.length?t.context.page_error&&500===t.context.page_error.statusCode?e("div",[e("fdk-empty-state",{attrs:{title:"Something went wrong"}})],1):t.context&&t.context.items?[e("div",{staticClass:"mobile-header mobile"},[e("div",{staticClass:"m-header"},[e("div",{ref:"mobileActionContainer",staticClass:"m-action-container"},[e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"sort")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"sort"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SORT ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"filter")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"filter"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" FILTER ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("fdk-share",{staticClass:"m-action-child-container mobile",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SHARE ")])])]}}])})],1)])]),e("div",{staticClass:"desktop-header desktop"},[e("div",{staticClass:"header"},[e("div",{staticClass:"m-action-container"},[e("fdk-share",{staticClass:"m-action-child-container desktop",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("transition",{attrs:{name:"fade desktop"}},[t.showShare&&!t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1),e("div",{staticClass:"regular-sm cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" Share ")])],1)]}}])}),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container"},[e("sort-dd",{attrs:{filteredsorts:t.context.sort_on,updateSelection:t.updateSelection}})],1)],1)])]),e("div",{staticClass:"content-container"},[[e("div",{staticClass:"left"},t._l(t.getFilters,(function(i,n){return e("div",{key:n+"-desktop"+i.key.display,staticClass:"filter-list"},[e("div",{staticClass:"filters"},[i.values.length>0?e("div",{staticClass:"filter-title regular-sm",on:{click:function(t){i.isOpen=!i.isOpen}}},[e("span",{staticClass:"regular-xs cl-Mako fil_tit"},[t._v(t._s(i.key.display))]),e("span",{class:{"filter-arrow-up":i.isOpen}},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)]):t._e(),"multivalued"==i.key.kind?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[i.values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.searchText,expression:"filter.searchText"}],staticClass:"light-xxs",attrs:{placeholder:t.placeholder},domProps:{value:i.searchText},on:{input:[function(e){e.target.composing||t.$set(i,"searchText",e.target.value)},function(e){return t.filterResults(i,n)}]}}),e("span",{staticClass:"search-icon",on:{click:function(e){return t.filterResults(i,n)}}},[e("fdk-inline-svg",{attrs:{src:"search-black"}})],1)]):t._e(),e("div",{staticClass:"example"},[e("ul",{staticClass:"filter-items-container",attrs:{id:"scroll-bar"}},t._l(i.filteredValues,(function(r,s){return e("li",{key:"filter-desktop"+s},[s<8||t.viewMore[n]?e("fdk-link",{attrs:{link:r.url,disabled:i.key.is_disabled}},[e("div",{staticClass:"filter-item"},[r.is_selected?t._e():e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}})],1),r.is_selected?e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}})],1):t._e(),e("div",{staticClass:"filter-item-value regular-xxs",class:{active:1==r.is_selected}},[t._v(" "+t._s(r.display)+" ")]),e("div",{staticClass:"filter-item-count light-xxxs cl-DoveGray"},[t._v(" ("+t._s(r.count)+") ")])])]):t._e()],1)})),0),i.filteredValues.length>8?e("div",{staticClass:"view-more",on:{click:function(e){return t.changeViewMore(n)}}},[t._v(" "+t._s(t.viewMore[n]?"- view less":`+ ${i.filteredValues.length-8} more`)+" ")]):t._e()])]):"range"==i.key.kind&&i.values.length>0?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[e("fdk-slider",{scopedSlots:t._u([{key:"default",fn:function(n){return[e("fy-slider-filter",{attrs:{filteritem:i,reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return n.replaceQuery(t,i)}}})]}}],null,!0)})],1):t._e()])])})),0),e("div",{staticClass:"right"},[e("div",[e("fdk-filter-modal",{scopedSlots:t._u([{key:"default",fn:function(i){return[t.showFilterModal?e("transition",{attrs:{name:"modal-filter"},on:{close:function(e){t.showFilterModal=!t.showFilterModal}}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("FILTER")]),e("div",{on:{click:function(e){t.closeModal(e,"filter"),i.closeModal()}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"pane leftPane"},[e("ul",t._l(i.filters,(function(n,r){return e("li",{key:r+"-mobile",staticClass:"title",class:{"bold-lg active":i.selected_item==r},on:{click:function(e){i.updateSelectedItem(n,r),t.mobileSearchText=""}}},[n.key.logo?e("img",{staticClass:"filter-image",attrs:{src:n.key.logo,alt:"logo"}}):e("fdk-inline-svg",{attrs:{src:"home"}}),e("span",{staticClass:"modal-text"},[t._v(" "+t._s(n.key.display)+" ")])],1)})),0)]),e("div",{staticClass:"pane rightPane"},["range"!==i.filters[i.selected_item].key.kind?e("div",{staticClass:"filter-disp"},[i.filters[i.selected_item].values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search-mobile"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobileSearchText,expression:"mobileSearchText"}],attrs:{type:"text",placeholder:"Search "+i.filters[i.selected_item].key.display},domProps:{value:t.mobileSearchText},on:{input:[function(e){e.target.composing||(t.mobileSearchText=e.target.value)},function(e){return i.getFilteredResults(t.mobileSearchText)}]}})]):t._e(),e("ul",t._l(i.getFilteredResults(t.mobileSearchText),(function(n,r){return e("li",{key:n.value+r,staticClass:"filterValue",on:{click:function(t){return i.updateFilter(n,i.selected_item)}}},[n.is_selected?t._e():e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}}),n.is_selected?e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}}):t._e(),e("span",{staticClass:"regular-s"},[t._v(" "+t._s(n.display)+" ")]),e("span",{staticClass:"count regular-xxs"},[t._v(" "+t._s(n.count)+" ")])],1)})),0)]):e("div",{staticClass:"filter-disp"},[e("div",{staticClass:"slider"},[e("fy-slider-filter",{attrs:{filteritem:i.filters[i.selected_item],reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return i.updateSliderInfo(t,i.filters[i.selected_item])}}})],1)])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"actionBtn",on:{click:function(e){i.resetFilters(),t.resetSlider=!t.resetSlider,i.applyFilters(),t.showFilterModal=!1}}},[e("span",[t._v("RESET")])]),e("div",{staticClass:"actionBtn",on:{click:function(e){i.applyFilters(),t.closeModal(e,"filter")}}},[e("span",[t._v("APPLY FILTERS")])])])])])]):t._e()]}}])})],1),e("fdk-infinite-loading",{staticClass:"plp-container",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"product-container"},[t._l(t.getProducts,(function(i,n){return e("div",{key:n+"-product.uid"},[e("fdk-link",{staticClass:"product-wrapper",attrs:{link:i.url,target:t.hrefTarget}},[e("fy-product-card",{attrs:{product:i,context:t.context,"active-product-id":t.active_product_uid,global_config:t.global_config,listing_price_config:t.listingPriceConfig},on:{"slide-up":function(e){return t.slideUpEventListener(e)},"slide-down":function(e){return t.slideDownEventListener(e)}}})],1)],1)})),i.hasNext?e("fdk-loader",{staticClass:"loader-center",attrs:{id:"loader"}}):t._e()],2)]}}])})],1)]],2),t.showSortByModal?e("transition",{attrs:{name:"modal-sort"}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("SORT BY")]),e("div",{on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("ul",{staticStyle:{width:"100%"}},t._l(t.context.sort_on,(function(i,n){return e("li",{key:n+"-sort",class:{"bold-lg active":t.getSortOnValue==i.value},on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-link",{staticClass:"filterValue sort-item",attrs:{link:i.url}},[t._v(" "+t._s(i.display)+" "),e("span",{staticClass:"sort-arrow"},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)])],1)})),0)])])])]):t._e(),e("div",{staticClass:"mobile share-wrap"},[e("transition",{attrs:{name:"fade","data-ss":String(t.showShare),"data-ismobile":String(t.isMobile)}},[t.showShare&&t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],key:"mobile-share",attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                          your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1)],1)]:t._e():e("div",[e("fdk-empty-state",{attrs:{title:"No items found"}})],1):e("fdk-loader",{staticClass:"loader-ws"})],2)},ms=[],vs={name:"fdk-plp",components:{"fy-product-card":Er,"fy-select":kr,"fy-not-found":Fr,"fy-slider-filter":rs,"sort-dd":us,share:xt},props:{context:{}},watch:{context:function(){if(this.context.filters&&this.context.filters.length>this.viewMore.length)for(var t=0;t<this.context.filters.length;t++)this.viewMore[t]||this.$set(this.viewMore,t,!1)},active_product_uid:function(){this.context.item.map(t=>{t.uid===this.active_product_uid?t.is_active=!0:t.is_active=!1})}},data:function(){return{shareLoading:!1,showShare:!1,share_link:"",qr_code:"",active_product_uid:0,mobileSearchText:"",selectedSortOpt:"",storeName:"",SHOW_SEARCH_THRESHOLD:8,placeholder:"Search ",showFilterModal:!1,showSortByModal:!1,filteredItems:[],selectedFilters:[],searchTextObj:{},resetSlider:!1,viewMore:[],products:[{isImageLoading:!0}],isMobile:!1}},mounted(){this.isMobile=lt()},methods:{hideShare(){this.showShare=!1},getShareLink(t){this.shareLoading=!0,this.showShare=!0,t.getShareLink(window.location.href).then(e=>{t.generateQRCode(e).then(t=>{this.qr_code=`\n                <div style="width: 250px;">\n                  ${t.svg}\n                </div>\n                `,this.share_link=e,this.shareLoading=!1})})},slideUpEventListener(t){this.active_product_uid=t},slideDownEventListener(){this.active_product_uid=0},resetFilters(t){this.$refs&&this.$refs.mobileActionContainer&&t(),this.$router.push({query:{}})},selectedOptions:function(t){let{filters:e}=t;e=e||[];let i=e.reduce((t,e,i)=>{let{values:n,key:r}=e;n=n||[];let s=n.map(t=>{if(t.is_selected)return t.filterIndex=i,t}).filter(t=>t);return[...t,...s]},[]);return this.activeFilters=i,i},updateSelectedOptions(t,e){this.$refs&&this.$refs.mobileActionContainer&&e(t,t.filterIndex),t.url?this.$router.push(t.url):this.getRangeURL(t)},getRangeURL(t){let e=this.context.filters[t.filterIndex].key.name,i={...this.$route.query};Object.keys(i).includes(e)&&delete i[e],this.$router.push({...this.$route,query:i})},getFilterDisplay:function(t,e){let i=t[e.filterIndex];return"range"===i.key.kind?e.currency_code?"₹ "+e.selected_min+" - ₹ "+e.selected_max:e.selected_min+"% - "+e.selected_max+"%":e.display.toUpperCase()},changeViewMore(t){this.viewMore[t]=!this.viewMore[t],this.$forceUpdate()},kFormatter:function(t){return Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(2)+"k":Math.sign(t)*Math.abs(t)},updateSelection:function(t){const e=this.context.sort_on.findIndex(e=>e.value===t);this.$router.push(this.context.sort_on[e].url)},closeModal:function(t,e){"sort"===e?this.showSortByModal=!1:"filter"===e&&(this.showFilterModal=!1)},viewModal:function(t,e){"sort"===e?this.showSortByModal=!0:"filter"===e&&(this.showFilterModal=!0)},filterResults:function(t,e){this.getFilters[e].filteredValues=t.values.filter(i=>t.searchText.length>0?(this.searchTextObj[this.getFilters[e].key.name]=t.searchText,-1!==i.display.toLowerCase().indexOf(t.searchText.toLowerCase())):i),this.$forceUpdate()},loadImage:function(t){const e=this.$refs["placeholder-"+t];e[0].style.display="none"},isLoadedInIframe(){return!(!ot["isBrowser"]||window.location===window.parent.location)}},computed:{getFilters:function(){this.filteredItems=[];this.context.filters&&this.context.filters.map(t=>(t.searchText=this.searchTextObj[t]&&this.searchTextObj[t.key]?this.searchTextObj[t.key.name]:"",t.filteredValues=t.values,this.filteredItems.push(t),t));return this.filteredItems},getSortOnValue:function(){let t=[];return this.context&&this.context.sort_on&&(t=this.context.sort_on.filter(t=>t.is_selected)),t.length>0?t[0].value:"popular"},getSelectedFilters:function(){this.selectedFilters=this.getFilters.filter(t=>t.is_selected)},getProducts:function(){return this.context.items.map(t=>(t.is_active=!1,t))},hrefTarget(){return lt()?"_self":"_blank"},listingPriceConfig(){var t,e,i,n;return null===(t=this.context.app_features)||void 0===t||null===(e=t.feature)||void 0===e||null===(i=e.common)||void 0===i||null===(n=i.listing_price)||void 0===n?void 0:n.value}}},As=vs,ys=(i("2966"),Object(S["a"])(As,gs,ms,!1,null,"5cf0b079",null)),_s=ys.exports,bs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"plp-wrapper",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[!t.context.loading||t.context.items&&0!==t.context.items.length?t.context.loading||t.context.items&&0!==t.context.items.length?t.context.page_error&&500===t.context.page_error.statusCode?e("div",[e("fdk-empty-state",{attrs:{title:"Something went wrong"}})],1):t.context&&t.context.items?[e("div",{staticClass:"mobile-header mobile"},[e("div",{staticClass:"m-header"},[e("div",{ref:"mobileActionContainer",staticClass:"m-action-container"},[e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"sort")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"sort"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SORT ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"filter")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"filter"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" FILTER ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("fdk-share",{staticClass:"m-action-child-container mobile",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SHARE ")])])]}}])})],1)])]),e("div",{staticClass:"desktop-header desktop"},[e("div",{staticClass:"header"},[e("div",{staticClass:"m-action-container"},[e("fdk-share",{staticClass:"m-action-child-container desktop",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("transition",{attrs:{name:"fade desktop"}},[t.showShare&&!t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1),e("div",{staticClass:"regular-sm cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" Share ")])],1)]}}])}),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container"},[e("sort-dd",{attrs:{filteredsorts:t.context.sort_on,updateSelection:t.updateSelection}})],1)],1)])]),e("div",{staticClass:"content-container"},[[e("div",{staticClass:"left"},t._l(t.getFilters,(function(i,n){return e("div",{key:n+"-desktop"+i.key.display,staticClass:"filter-list"},[e("div",{staticClass:"filters"},[i.values.length>0?e("div",{staticClass:"filter-title regular-sm",on:{click:function(t){i.isOpen=!i.isOpen}}},[e("span",{staticClass:"regular-xs cl-Mako fil_tit"},[t._v(t._s(i.key.display))]),e("span",{class:{"filter-arrow-up":i.isOpen}},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)]):t._e(),"multivalued"==i.key.kind?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[i.values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.searchText,expression:"filter.searchText"}],staticClass:"light-xxs",attrs:{placeholder:t.placeholder},domProps:{value:i.searchText},on:{input:[function(e){e.target.composing||t.$set(i,"searchText",e.target.value)},function(e){return t.filterResults(i,n)}]}}),e("span",{staticClass:"search-icon",on:{click:function(e){return t.filterResults(i,n)}}},[e("fdk-inline-svg",{attrs:{src:"search-black"}})],1)]):t._e(),e("div",{staticClass:"example"},[e("ul",{staticClass:"filter-items-container",attrs:{id:"scroll-bar"}},t._l(i.filteredValues,(function(r,s){return e("li",{key:"filter-desktop"+s},[s<8||t.viewMore[n]?e("fdk-link",{attrs:{link:r.url,disabled:i.key.is_disabled}},[e("div",{staticClass:"filter-item"},[r.is_selected?t._e():e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}})],1),r.is_selected?e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}})],1):t._e(),e("div",{staticClass:"filter-item-value regular-xxs",class:{active:1==r.is_selected}},[t._v(" "+t._s(r.display)+" ")]),e("div",{staticClass:"filter-item-count light-xxxs cl-DoveGray"},[t._v(" ("+t._s(r.count)+") ")])])]):t._e()],1)})),0),i.filteredValues.length>8?e("div",{staticClass:"view-more",on:{click:function(e){return t.changeViewMore(n)}}},[t._v(" "+t._s(t.viewMore[n]?"- view less":`+ ${i.filteredValues.length-8} more`)+" ")]):t._e()])]):"range"==i.key.kind&&i.values.length>0?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[e("fdk-slider",{scopedSlots:t._u([{key:"default",fn:function(n){return[e("fy-slider-filter",{attrs:{filteritem:i,reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return n.replaceQuery(t,i)}}})]}}],null,!0)})],1):t._e()])])})),0),e("div",{staticClass:"right"},[e("div",[e("fdk-filter-modal",{scopedSlots:t._u([{key:"default",fn:function(i){return[t.showFilterModal?e("transition",{attrs:{name:"modal-filter"},on:{close:function(e){t.showFilterModal=!t.showFilterModal}}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("FILTER")]),e("div",{on:{click:function(e){t.closeModal(e,"filter"),i.closeModal()}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"pane leftPane"},[e("ul",t._l(i.filters,(function(n,r){return e("li",{key:r+"-mobile",staticClass:"title",class:{"bold-lg active":i.selected_item==r},on:{click:function(e){i.updateSelectedItem(n,r),t.mobileSearchText=""}}},[n.key.logo?e("img",{staticClass:"filter-image",attrs:{src:n.key.logo,alt:"logo"}}):e("fdk-inline-svg",{attrs:{src:"home"}}),e("span",{staticClass:"modal-text"},[t._v(" "+t._s(n.key.display)+" ")])],1)})),0)]),e("div",{staticClass:"pane rightPane"},["range"!==i.filters[i.selected_item].key.kind?e("div",{staticClass:"filter-disp"},[i.filters[i.selected_item].values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search-mobile"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobileSearchText,expression:"mobileSearchText"}],attrs:{type:"text",placeholder:"Search "+i.filters[i.selected_item].key.display},domProps:{value:t.mobileSearchText},on:{input:[function(e){e.target.composing||(t.mobileSearchText=e.target.value)},function(e){return i.getFilteredResults(t.mobileSearchText)}]}})]):t._e(),e("ul",t._l(i.getFilteredResults(t.mobileSearchText),(function(n,r){return e("li",{key:n.value+r,staticClass:"filterValue",on:{click:function(t){return i.updateFilter(n,i.selected_item)}}},[n.is_selected?t._e():e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}}),n.is_selected?e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}}):t._e(),e("span",{staticClass:"regular-s"},[t._v(" "+t._s(n.display)+" ")]),e("span",{staticClass:"count regular-xxs"},[t._v(" "+t._s(n.count)+" ")])],1)})),0)]):e("div",{staticClass:"filter-disp"},[e("div",{staticClass:"slider"},[e("fy-slider-filter",{attrs:{filteritem:i.filters[i.selected_item],reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return i.updateSliderInfo(t,i.filters[i.selected_item])}}})],1)])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"actionBtn",on:{click:function(e){i.resetFilters(),t.resetSlider=!t.resetSlider,i.applyFilters(),t.showFilterModal=!1}}},[e("span",[t._v("RESET")])]),e("div",{staticClass:"actionBtn",on:{click:function(e){i.applyFilters(),t.closeModal(e,"filter")}}},[e("span",[t._v("APPLY FILTERS")])])])])])]):t._e()]}}])})],1),e("fdk-infinite-loading",{staticClass:"plp-container",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"product-container"},[t._l(t.getProducts,(function(i,n){return e("div",{key:n+"-product.uid"},[e("fdk-link",{staticClass:"product-wrapper",attrs:{link:i.url,target:t.hrefTarget}},[e("fy-product-card",{attrs:{product:i,context:t.context,"active-product-id":t.active_product_uid,global_config:t.global_config,listing_price_config:t.listingPriceConfig},on:{"slide-up":function(e){return t.slideUpEventListener(e)},"slide-down":function(e){return t.slideDownEventListener(e)}}})],1)],1)})),i.hasNext?e("fdk-loader",{staticClass:"loader-center",attrs:{id:"loader"}}):t._e()],2)]}}])})],1)]],2),t.showSortByModal?e("transition",{attrs:{name:"modal-sort"}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("SORT BY")]),e("div",{on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("ul",{staticStyle:{width:"100%"}},t._l(t.context.sort_on,(function(i,n){return e("li",{key:n+"-sort",class:{"bold-lg active":t.getSortOnValue==i.value},on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-link",{staticClass:"filterValue sort-item",attrs:{link:i.url}},[t._v(" "+t._s(i.display)+" "),e("span",{staticClass:"sort-arrow"},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)])],1)})),0)])])])]):t._e(),e("div",{staticClass:"mobile share-wrap"},[e("transition",{attrs:{name:"fade","data-ss":String(t.showShare),"data-ismobile":String(t.isMobile)}},[t.showShare&&t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],key:"mobile-share",attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                          your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1)],1)]:t._e():e("div",[e("fdk-empty-state",{attrs:{title:"No items found"}})],1):e("fdk-loader",{staticClass:"loader-ws"})],2)},ws=[],xs={name:"fdk-plp",components:{"fy-product-card":Er,"fy-select":kr,"fy-not-found":Fr,"fy-slider-filter":rs,"sort-dd":us,share:xt},props:{context:{}},watch:{context:function(){if(this.context.filters&&this.context.filters.length>this.viewMore.length)for(var t=0;t<this.context.filters.length;t++)this.viewMore[t]||this.$set(this.viewMore,t,!1)},active_product_uid:function(){this.context.item.map(t=>{t.uid===this.active_product_uid?t.is_active=!0:t.is_active=!1})}},data:function(){return{shareLoading:!1,showShare:!1,share_link:"",qr_code:"",active_product_uid:0,mobileSearchText:"",selectedSortOpt:"",storeName:"",SHOW_SEARCH_THRESHOLD:8,placeholder:"Search ",showFilterModal:!1,showSortByModal:!1,filteredItems:[],selectedFilters:[],searchTextObj:{},resetSlider:!1,viewMore:[],products:[{isImageLoading:!0}],isMobile:!1}},mounted(){this.isMobile=lt()},methods:{hideShare(){this.showShare=!1},getShareLink(t){this.shareLoading=!0,this.showShare=!0,t.getShareLink(window.location.href).then(e=>{t.generateQRCode(e).then(t=>{this.qr_code=`\n                <div style="width: 250px;">\n                  ${t.svg}\n                </div>\n                `,this.share_link=e,this.shareLoading=!1})})},slideUpEventListener(t){this.active_product_uid=t},slideDownEventListener(){this.active_product_uid=0},resetFilters(t){this.$refs&&this.$refs.mobileActionContainer&&t(),this.$router.push({query:{}})},selectedOptions:function(t){let{filters:e}=t;e=e||[];let i=e.reduce((t,e,i)=>{let{values:n,key:r}=e;n=n||[];let s=n.map(t=>{if(t.is_selected)return t.filterIndex=i,t}).filter(t=>t);return[...t,...s]},[]);return this.activeFilters=i,i},updateSelectedOptions(t,e){this.$refs&&this.$refs.mobileActionContainer&&e(t,t.filterIndex),t.url?this.$router.push(t.url):this.getRangeURL(t)},getRangeURL(t){let e=this.context.filters[t.filterIndex].key.name,i={...this.$route.query};Object.keys(i).includes(e)&&delete i[e],this.$router.push({...this.$route,query:i})},getFilterDisplay:function(t,e){let i=t[e.filterIndex];return"range"===i.key.kind?e.currency_code?"₹ "+e.selected_min+" - ₹ "+e.selected_max:e.selected_min+"% - "+e.selected_max+"%":e.display.toUpperCase()},changeViewMore(t){this.viewMore[t]=!this.viewMore[t],this.$forceUpdate()},kFormatter:function(t){return Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(2)+"k":Math.sign(t)*Math.abs(t)},updateSelection:function(t){const e=this.context.sort_on.findIndex(e=>e.value===t);this.$router.push(this.context.sort_on[e].url)},closeModal:function(t,e){"sort"===e?this.showSortByModal=!1:"filter"===e&&(this.showFilterModal=!1)},viewModal:function(t,e){"sort"===e?this.showSortByModal=!0:"filter"===e&&(this.showFilterModal=!0)},filterResults:function(t,e){this.getFilters[e].filteredValues=t.values.filter(i=>t.searchText.length>0?(this.searchTextObj[this.getFilters[e].key.name]=t.searchText,-1!==i.display.toLowerCase().indexOf(t.searchText.toLowerCase())):i),this.$forceUpdate()},loadImage:function(t){const e=this.$refs["placeholder-"+t];e[0].style.display="none"},isLoadedInIframe(){return!(!ot["isBrowser"]||window.location===window.parent.location)}},computed:{getFilters:function(){this.filteredItems=[];this.context.filters&&this.context.filters.map(t=>(t.searchText=this.searchTextObj[t]&&this.searchTextObj[t.key]?this.searchTextObj[t.key.name]:"",t.filteredValues=t.values,this.filteredItems.push(t),t));return this.filteredItems},getSortOnValue:function(){let t=[];return this.context&&this.context.sort_on&&(t=this.context.sort_on.filter(t=>t.is_selected)),t.length>0?t[0].value:"popular"},getSelectedFilters:function(){this.selectedFilters=this.getFilters.filter(t=>t.is_selected)},getProducts:function(){return this.context.items.map(t=>(t.is_active=!1,t))},hrefTarget(){return lt()?"_self":"_blank"},listingPriceConfig(){var t,e,i,n;return null===(t=this.context.app_features)||void 0===t||null===(e=t.feature)||void 0===e||null===(i=e.common)||void 0===i||null===(n=i.listing_price)||void 0===n?void 0:n.value}}},Cs=xs,Es=(i("74f8"),Object(S["a"])(Cs,bs,ws,!1,null,"3919c740",null)),Ss=Es.exports,Is=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[e("div",{staticClass:"compare-header"},[t._v("Compare")]),e("jm-compare",{attrs:{compared_products:t.context.compared_products,compare_slugs:t.context.compare_slugs,global_config:t.global_config}})],1)},Ts=[],Ms=function(){var t=this,e=t._self._c;return e("div",{staticClass:"compare-page"},[e("transition",{attrs:{name:"slide"}},[e("div",{staticClass:"add-search-container",class:{"show-phone":t.showPopup}},[e("div",{staticClass:"add-search-title"},[t._v("Search Here")]),e("div",[e("fdk-compare-search",{ref:"compare-search",staticClass:"search-box",attrs:{pageSize:15,filter:{l3_categories:t.firstCategory}},scopedSlots:t._u([{key:"default",fn:function(n){return[t.checkIfEmptyCompareData?t._e():e("div",{staticClass:"cross-btn",on:{click:function(e){return e.stopPropagation(),t.hideMenu.apply(null,arguments)}}},[e("img",{attrs:{src:i("a5fd")}})]),e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],staticClass:"input-box",attrs:{type:"text",placeholder:"Search for products here"},domProps:{value:t.search},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;e.preventDefault()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:n.executeQuery(t.search)},input:[function(e){e.target.composing||(t.search=e.target.value)},e=>t.handleSearch(n,e)]}}),e("fdk-inline-svg",{staticClass:"search-icon",attrs:{src:"search-black"}})],1),e("div",{staticClass:"popularhdng"},[t._v("Add to compare")]),0===n.suggestions.length?e("div",{staticClass:"notFound"},[t._v("No Product Found")]):t._e(),n.suggestions.length>0?e("div",{staticClass:"landingBestsellerHandest",class:{"search-results":t.showPopup}},t._l(t.getSearchFilteredData(n.suggestions),(function(i,r){return e("div",{key:r,staticClass:"whiteSmallRBox"},[e("fdk-compare-action",{staticClass:"add-to-compare-button",scopedSlots:t._u([{key:"default",fn:function(r){return[e("div",{staticClass:"media",on:{click:function(e){t.addCompareProducts(r.addCompare,i.slug),t.clearSearch(n,i.slug)}}},[e("div",{staticClass:"media-left"},[e("emerge-image",{attrs:{src:i.media.url,sources:[{width:55}]}})],1),e("div",{staticClass:"media-left-name"},[t._v(t._s(i.name))])])]}}],null,!0)})],1)})),0):t._e()]}}])})],1)])]),t.showPopup?t._e():e("div",{staticClass:"compare-container"},[e("div",{ref:"productContainerBig",staticClass:"product-list slider",on:{touchmove:function(e){return t.swipeHandler(e,"bigProductList")},touchstart:function(e){return t.startTouch(e,"bigProductList")}}},[t.compared_products&&t.compared_products.data&&t.compared_products.data.items&&t.compared_products.data.items.length>0?t._l(t.compared_products.data.items,(function(n,r){return e("div",{key:r,staticClass:"product"},[e("div",{staticClass:"product-cont"},[e("fdk-compare-action",{staticClass:"cross-btn",scopedSlots:t._u([{key:"default",fn:function(r){return[e("div",{on:{click:function(e){return t.handleRemove(r,n.slug)}}},[e("img",{attrs:{src:i("a5ff")}})])]}}],null,!0)}),e("div",{staticClass:"product-image-wrap"},[e("emerge-image",{attrs:{src:n.medias.length>0?n.medias[0].url:"",sources:[{width:200}]}})],1),e("div",{staticClass:"product-name",attrs:{title:n.name}},[t._v(t._s(n.name))]),e("div",{staticClass:"price-effective",style:n.price.effective.min!=n.price.marked.min?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(t._s(t.getPrice(n.price.effective)))]),e("div",{staticClass:"price-marked",style:{visibility:n.price.effective.min!=n.price.marked.min?"visibile":"hidden"}},[e("span",{staticClass:"mrp-text"},[t._v(" M.R.P "),e("span",{style:t.global_config?"text-decoration: line-through;color:"+t.global_config.props.text_strikethrough_price_color:"text-decoration: line-through;"},[t._v(t._s(t.getPrice(n.price.marked)))])]),e("span",{staticClass:"save-text"},[t._v(" Save: "),e("span",[t._v(t._s(t.getPriceDifference(n.price)))])])]),e("div",{staticClass:"pdp-btn",style:t.global_config?"color:"+t.global_config.props.text_heading_link_color:"",on:{click:function(e){return e.stopPropagation(),t.getProductLink(n)}}},[t._v(" View product details ")]),e("p",{staticClass:"bullet"},[t._v("OR")])],1)])})):t._e(),t.compared_products&&t.compared_products.data&&t.compared_products.data.items&&t.compared_products.data.items&&t.compared_products.data.items.length<3||0===t.compare_slugs.length?e("div",{staticClass:"empty-state-cont"},[e("div",{staticClass:"add-phone-button",on:{click:function(e){return t.showAddPhone()}}},[e("img",{attrs:{src:i("961a")}}),e("div",[t._v("Add")])])]):t._e()],2),t.compared_products&&t.compared_products.data&&t.compared_products.data.items&&t.compared_products.data.items.length>0?e("div",{ref:"productContainerSmall",staticClass:"product-list-small slider",on:{touchmove:function(e){return t.swipeHandler(e,"smallProductList")},touchstart:function(e){return t.startTouch(e,"smallProductList")}}},[t._l(t.compared_products.data.items,(function(n,r){return e("div",{key:r,staticClass:"product-small"},[e("div",{staticClass:"product-cont-small"},[e("fdk-compare-action",{staticClass:"cross-btn",scopedSlots:t._u([{key:"default",fn:function(r){return[e("div",{on:{click:function(e){return t.handleRemove(r,n.slug)}}},[e("img",{attrs:{src:i("a5ff")}})])]}}],null,!0)}),e("img",{staticClass:"product-image-small",attrs:{src:n.medias.length>0?n.medias[0].url:""}}),e("span",{staticClass:"product-name-small",attrs:{title:n.name}},[t._v(t._s(n.name))]),e("p",{staticClass:"bullet-small"},[t._v("OR")])],1)])})),t.compared_products&&t.compared_products.data&&t.compared_products.data.items&&t.compared_products.data.items.length<3?e("div",{staticClass:"empty-state-cont"},[e("div",{staticClass:"small-compare-btn",on:{click:function(e){return t.showAddPhone()}}},[e("img",{attrs:{src:i("961a")}}),e("div",[t._v("Add")])])]):t._e()],2):t._e(),e("div",{staticClass:"attribute-list"},[t.compared_products&&t.compared_products.data&&t.compared_products.data.items&&t.compared_products.data.items.length>0?e("div",{staticClass:"attribute"},t._l(t.compared_products.attributes_metadata,(function(i,n){return e("div",{key:n},t._l(i.details,(function(i,r){return e("div",{key:"cl"+n+r,staticClass:"attr-list-wrap"},[e("div",{staticClass:"attr-name",class:{differ:t.isDifferent(i)}},[t._v(" "+t._s(i.display)+" ")]),e("div",{staticClass:"attr-desc slider",on:{touchmove:function(e){return t.swipeHandler(e,"attrDesc")},touchstart:function(e){return t.startTouch(e,"attrDesc")}}},t._l(t.compared_products.data.items,(function(n,r){return e("div",{key:"cp"+r,staticClass:"attr-desc-name d-flex"},[e("img",{attrs:{src:i.logo,alt:""}}),t.checkHtml(t.getAttribute(n,i))?e("span",{staticClass:"attr",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.getAttribute(n,i))}}):e("span",{staticClass:"attr"},[t._v(" "+t._s(t.getAttribute(n,i))+" ")])])})),0)])})),0)})),0):t._e()])]),e("toast",{attrs:{id:"toast-message",content:t.toast_message}})],1)},Bs=[],ks={components:{toast:vt["default"],"emerge-image":Z},data:function(){return{toast_message:"",is_difference_checked:!1,showPopup:!1,search:"",dragging:!1,scrollLeft:null,startX:null}},props:{compared_products:{type:Object,default(){return{}}},compare_slugs:{type:Array,default(){return[]}},global_config:{}},methods:{checkHtml:ut,addCompareProducts(t,e){this.showPopup=!1,window.scrollTo(0,0),this.compare_slugs.length<3?t(e).then(t=>{}).catch(t=>{this.showToast(t.message||"Something went wrong")}):this.showToast("You can only compare 3 products at a time")},handleRemove(t,e){var i;t.removeCompare(e),null===(i=this.$refs["compare-search"])||void 0===i||i.fetchSuggestions()},handleSearch(t,e){this.searchtext=e.target.value,t.fetchSuggestions({search:this.searchtext,pageSize:15})},showToast:function(t){t&&(this.toast_message=t);var e=document.getElementById("toast-message");e.className="toast show",setTimeout((function(){e.className=e.className.replace("toast show","toast hide")}),3e3)},getSearchFilteredData:function(t){var e=[],i=[];return e=t.filter(t=>{const e=this.compare_slugs.findIndex(e=>t.slug===e);if(-1===e)return t}),i=e,i},isAlreadyInCompare:function(t){const e=this.compare_slugs.findIndex(e=>e===t);return-1===e},clearSearch(t,e){var i;this.searchtext="",this.selected="",this.showPopup=!1;let n=this.getFilterData(t,e);null===(i=this.$refs["compare-search"])||void 0===i||i.fetchSuggestions({filter:n}),window.scrollTo(0,0)},getFilterData(t,e){if(t.suggestions)for(let i=0;i<t.suggestions.length;i++)if(t.suggestions[i].slug===e)return{l3_categories:t.suggestions[i].category_id};return{}},showAddPhone:function(){this.showPopup=!0,window.scrollTo(0,0)},hideMenu(t){t.stopPropagation(),this.showPopup=!1},differenceClicked:function(){this.is_difference_checked=!this.is_difference_checked},getProductLink:function(t){this.$router.push("/product/"+t.slug)},isDifferent(t){let e=[];this.compared_products.data.items.forEach(i=>{e.push(i.attributes[t.key])});var i=e.every(t=>t===e[0]);return!i&&this.is_difference_checked},getAttribute:function(t,e){let i=t.attributes[e.key];return i?(Array.isArray(i)&&(i=i.join(", ")),i):"-"},getPriceDifference(t){return this.$options.filters.currencyformat(t.marked.max-t.effective.max)},getPrice(t){return t.min===t.max?this.$options.filters.currencyformat(t.min):this.$options.filters.currencyformat(t.min)+" - "+this.$options.filters.currencyformat(t.max)},swipeHandler(t,e){let i;"attrDesc"===e?i=document.querySelector(".attr-desc"):"bigProductList"===e?i=document.querySelector(".product-list"):"smallProductList"===e&&(i=document.querySelector(".product-list-small")),t.preventDefault();const n=t.changedTouches[0].pageX-i.offsetLeft,r=n-this.startX;document.querySelectorAll(".slider").forEach(t=>{t.scrollLeft=this.scrollLeft-r})},startTouch(t,e){let i;"attrDesc"===e?i=document.querySelector(".attr-desc"):"bigProductList"===e?i=document.querySelector(".product-list"):"smallProductList"===e&&(i=document.querySelector(".product-list-small")),this.startX=t.changedTouches[0].pageX-i.offsetLeft,this.scrollLeft=i.scrollLeft}},computed:{checkIfEmptyCompareData(){var t,e,i,n,r,s;return!(null!==(t=this.compared_products)&&void 0!==t&&null!==(e=t.data)&&void 0!==e&&e.items)||(null===(i=this.compared_products)||void 0===i||null===(n=i.data)||void 0===n?void 0:n.items)&&0===(null===(r=this.compared_products)||void 0===r||null===(s=r.data)||void 0===s?void 0:s.items.length)},firstCategory(){var t,e,i,n,r;let s=null===(t=this.compared_products)||void 0===t||null===(e=t.data)||void 0===e?void 0:e.items;return null===s||void 0===s||null===(i=s[0])||void 0===i||null===(n=i.categories)||void 0===n||null===(r=n[0])||void 0===r?void 0:r.uid}},watch:{$route(t,e){!this.checkIfEmptyCompareData||this.$route.query.id&&this.$route.query.id.length>0?this.showPopup=!1:this.showPopup=!0}},updated(){},mounted:function(){this.checkIfEmptyCompareData&&(this.showPopup=!0);let t=0;window.addEventListener("scroll",()=>{if(this.$refs&&this.$refs.productContainerSmall&&this.$refs.productContainerBig){let e=this.$refs.productContainerSmall,i=this.$refs.productContainerBig,n=i.offsetTop+i.offsetHeight;t=0===n?t:n,window.pageYOffset>=t?(e.classList.add("sticky"),e.style.display="flex",i.style.visibility="hidden",e.scrollLeft=i.scrollLeft):(e.classList.remove("sticky"),i.style.visibility="visible",e.style.display="none")}}),this.$refs["compare-search"]&&this.$refs["compare-search"].suggestions&&this.$refs["compare-search"].suggestions.length&&this.getSearchFilteredData(this.$refs["compare-search"].suggestions)},destroyed:function(){}},Ls=ks,Rs=(i("cb2b"),Object(S["a"])(Ls,Ms,Bs,!1,null,"080bbcec",null)),Ps=Rs.exports,Ds={data:function(){return{}},components:{"jm-compare":Ps},props:["global_config"]},Os=Ds,Fs=(i("9e95"),Object(S["a"])(Os,Is,Ts,!1,null,"63a1e754",null)),Ns=Fs.exports,Qs=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-footer",style:`--footer_nav_hover_color:${t.global_config.props.footer_nav_hover_color};border-top: 1px solid ${t.global_config.props.footer_border_color};background-color: ${t.global_config.props.footer_bg_color};color: ${t.global_config.props.footer_text_color}`},[e("div",{staticClass:"main-footer__bottom"},[""!==t.context.description?e("div",{staticClass:"about-block"},[e("h5",{staticClass:"footer-head"},[t._v("ABOUT US")]),e("p",{staticClass:"desc"},[t._v(" "+t._s(t.context.description)+" ")])]):t._e(),e("div",{staticClass:"item-block"},t._l(t.context.navigation,(function(i,n){return e("div",{key:n,staticClass:"link-block"},[e("h5",{staticClass:"footer-head"},[e("fdk-link",{attrs:{link:i.link}},[t._v(" "+t._s(i.display)+" ")])],1),t._l(i.sub_navigation,(function(i,n){return e("ul",{key:n,staticClass:"list"},[e("li",[e("fdk-link",{attrs:{link:i.link}},[t._v(" "+t._s(i.display)+" ")])],1)])}))],2)})),0),e("div",{staticClass:"social-link-block"},[e("h5",{staticClass:"footer-head"},[t._v("GET IN TOUCH")]),e("div",{staticClass:"flat"},[t.context.support.contact.email.active&&t.context.support.contact.email.email.length>0?e("ul",{staticClass:"list"},[e("li",[t._v("Email: "+t._s(t.context.support.contact.email.email[0].value))])]):t._e(),t.context.support.contact.phone.active&&t.context.support.contact.phone.phone.length>0?e("ul",{staticClass:"list"},[e("li",[t._v("Call : "+t._s(t.context.support.contact.phone.phone[0].number))])]):t._e(),e("ul",{staticClass:"row"},t._l(t.context&&t.context.app_info&&t.context.app_info.social_links,(function(i,n){return e("li",{key:n},[i.link?e("span",[e("fdk-link",{attrs:{link:i.link,target:"_blank",title:i.title}},[e("img",{attrs:{alt:"social.title",src:i.icon}})])],1):t._e()])})),0)])])]),e("div",{staticClass:"sub-footer_bottom"},[e("div",[t._v(t._s(t.context.app_info.copyright_text))]),e("div")])])},Hs=[],Us={props:{context:{}},data(){return{isMounted:!1}},mounted(){this.isMounted=!0},computed:{getLogoUrl(){return mt(this.context.logo,this.context.mobileLogo)}}},Gs=Us,zs=(i("01ff"),Object(S["a"])(Gs,Qs,Hs,!1,null,"432f3900",null)),js=zs.exports,Vs=function(){var t=this,e=t._self._c;return e("div",{class:{"header-wrap":!0,"header-wrap-menu-below":"bottom"==t.global_config.props.menu_position},style:`--header_nav_hover_color:${t.global_config.props.header_nav_hover_color};--header_icon_color:${t.global_config.props.header_icon_color};`},[e("div",{staticClass:"header",style:`background-color: ${t.global_config.props.header_bg_color};color: ${t.global_config.props.header_text_color}`},[e("div",{staticClass:"desktop desktop-nav",style:`border-bottom: 1px solid ${t.global_config.props.header_border_color};background-color: ${t.global_config.props.header_bg_color};`},[e("div",{staticClass:"left bottom-menu"},[e("div",{staticClass:"left__navigation"},[e("ul",{staticClass:"l1-navigation-list"},t._l(t.context.navigation,(function(i,n){return e("li",{key:n,staticClass:"l1-navigation-list__item mr-5"},[e("fdk-link",{attrs:{link:i.link}},[e("span",{staticClass:"u-df-align-center"},[e("p",{staticClass:"mr-2"},[t._v(t._s(i.display))]),e("span",{staticClass:"dropdown-icon"},[i.sub_navigation&&i.sub_navigation.length>0?e("svg",{staticClass:"u-df-align-center",style:"fill:"+t.global_config.props.header_icon_color,attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"14px",height:"14px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n                      c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z"}})]):t._e()])])]),i.sub_navigation&&i.sub_navigation.length>0?e("ul",{staticClass:"l2-navigation-list",style:`background-color: ${t.global_config.props.header_bg_color};color: ${t.global_config.props.header_text_color}`},t._l(i.sub_navigation,(function(i,n){return e("li",{key:n,staticClass:"l2-navigation-list__item"},[e("fdk-link",{attrs:{link:i.link}},[e("p",[t._v(t._s(i.display))])])],1)})),0):t._e()],1)})),0)])]),e("div",{staticClass:"right-nav"},[e("div",{staticClass:"center-cont"},[e("fdk-link",{staticClass:"center-cont__logo",attrs:{link:"/"}},[e("img",{attrs:{src:t.context.logo.secure_url,alt:""}})])],1),e("div",{staticClass:"right u-df-align-center"},[e("fdk-accounts",{staticClass:"right__icons",scopedSlots:t._u([{key:"default",fn:function(i){return[t.isMounted?e("div",{staticClass:"icon right__icons--profile mr-5 py-5",on:{click:function(e){return t.checkLogin(i,"profile")}}},[e("svg",{staticClass:"header-icons",style:"fill:"+t.global_config.props.header_icon_color,attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1.875rem",height:"1.875rem",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M447.8,438.3c-7.2-31.8-48.3-47.3-62.5-52.3c-15.6-5.5-37.8-6.8-52.1-10c-8.2-1.8-20.1-6.3-24.1-11.1\n                c-4-4.8-1.6-49.3-1.6-49.3s7.4-11.5,11.4-21.7c4-10.1,8.4-37.9,8.4-37.9s8.2,0,11.1-14.4c3.1-15.7,8-21.8,7.4-33.5\n                c-0.6-11.5-6.9-11.2-6.9-11.2s6.1-16.7,6.8-51.3c0.9-41.1-31.3-81.6-89.6-81.6c-59.1,0-90.6,40.5-89.7,81.6\n                c0.8,34.6,6.7,51.3,6.7,51.3s-6.3-0.3-6.9,11.2c-0.6,11.7,4.3,17.8,7.4,33.5c2.8,14.4,11.1,14.4,11.1,14.4s4.4,27.8,8.4,37.9\n                c4,10.2,11.4,21.7,11.4,21.7s2.4,44.5-1.6,49.3c-4,4.8-15.9,9.3-24.1,11.1c-14.3,3.2-36.5,4.5-52.1,10c-14.2,5-55.3,20.5-62.5,52.3\n                c-1.1,5,2.7,9.7,7.9,9.7h367.9C445.1,448,448.9,443.3,447.8,438.3z"}})])]):t._e(),e("div",{staticClass:"icon right__icons--search mr-5 py-5",on:{click:t.callSearch}},[t.showSearch?e("svg",{staticClass:"header-icons",style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"1.875rem",height:"1.875rem",title:"Close Search",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"}},[e("g",{attrs:{id:"Icon_5_"}},[e("g",[e("polygon",{attrs:{points:"405,136.798 375.202,107 256,226.202 136.798,107 107,136.798 226.202,256 107,375.202 136.798,405 256,285.798\n                      375.202,405 405,375.202 285.798,256 \t\t"}})])])]):e("svg",{staticClass:"header-icons",style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"1.875rem",height:"1.875rem",title:"Search",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153\n                c36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z\n                M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2\n                c32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z"}})])]),t.isMounted?e("div",{staticClass:"icon right__icons--wishlist mr-5 py-5",on:{click:function(e){return t.checkLogin(i,"wishlist")}}},[e("svg",{staticClass:"header-icons",style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"1.875rem",height:"1.875rem",title:"Wishlist",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"}},[e("g",[e("path",{attrs:{d:"M256,448l-30.164-27.211C118.718,322.442,48,258.61,48,179.095C48,114.221,97.918,64,162.4,64\n                    c36.399,0,70.717,16.742,93.6,43.947C278.882,80.742,313.199,64,349.6,64C414.082,64,464,114.221,464,179.095\n                    c0,79.516-70.719,143.348-177.836,241.694L256,448z"}})])])]):t._e(),t.isMounted&&!t.global_config.props.disable_cart?e("div",{staticClass:"icon right__icons--bag mr-5 py-5",on:{click:function(e){return t.checkLogin(i,"cart")}}},[e("svg",{staticClass:"header-icons",style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"1.875rem",height:"1.875rem",title:"Cart",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("g",[e("ellipse",{attrs:{transform:"matrix(0.9998 -1.842767e-02 1.842767e-02 0.9998 -7.7858 3.0205)",cx:"160",cy:"424",rx:"24",ry:"24"}}),e("ellipse",{attrs:{transform:"matrix(2.381651e-02 -0.9997 0.9997 2.381651e-02 -48.5107 798.282)",cx:"384.5",cy:"424",rx:"24",ry:"24"}}),e("path",{attrs:{d:"M463.8,132.2c-0.7-2.4-2.8-4-5.2-4.2L132.9,96.5c-2.8-0.3-6.2-2.1-7.5-4.7c-3.8-7.1-6.2-11.1-12.2-18.6\n                    c-7.7-9.4-22.2-9.1-48.8-9.3c-9-0.1-16.3,5.2-16.3,14.1c0,8.7,6.9,14.1,15.6,14.1c8.7,0,21.3,0.5,26,1.9c4.7,1.4,8.5,9.1,9.9,15.8\n                    c0,0.1,0,0.2,0.1,0.3c0.2,1.2,2,10.2,2,10.3l40,211.6c2.4,14.5,7.3,26.5,14.5,35.7c8.4,10.8,19.5,16.2,32.9,16.2h236.6\n                    c7.6,0,14.1-5.8,14.4-13.4c0.4-8-6-14.6-14-14.6H189h-0.1c-2,0-4.9,0-8.3-2.8c-3.5-3-8.3-9.9-11.5-26l-4.3-23.7\n                    c0-0.3,0.1-0.5,0.4-0.6l277.7-47c2.6-0.4,4.6-2.5,4.9-5.2l16-115.8C464,134,464,133.1,463.8,132.2z"}})])]),e("p",{staticClass:"cart-count u-df-align-center",style:`background-color: ${t.global_config.props.header_cart_notification_bg_color};color: ${t.global_config.props.header_cart_notification_text_color};`},[t._v(" "+t._s(t.context.cart_item_count)+" ")])]):t._e(),e("div",{staticClass:"icon right__icons--bag py-5"},[e("a",{staticClass:"setting light-sm",on:{click:t.routetoSettingPage}},[e("svg",{attrs:{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("defs"),e("path",{staticStyle:{},attrs:{d:"M22.88,10.76l-1.75-.32h0a8.73,8.73,0,0,0-.44-1.62h0L22,7.63a.2.2,0,0,0,0-.25l-1-1.8a.21.21,0,0,0-.24-.09l-1.65.59,0,0a9.24,9.24,0,0,0-1.17-1.17l0,0,.59-1.65A.21.21,0,0,0,18.42,3l-1.8-1a.2.2,0,0,0-.25,0L15.23,3.29l0,0a7.32,7.32,0,0,0-1.64-.42l-.33-1.77A.19.19,0,0,0,13,1H11a.21.21,0,0,0-.2.16l-.3,1.75a7.93,7.93,0,0,0-1.66.44L7.63,2a.2.2,0,0,0-.25,0L5.58,3a.2.2,0,0,0-.09.24l.59,1.65,0,0A9.24,9.24,0,0,0,4.89,6.06l0,0L3.2,5.49A.2.2,0,0,0,3,5.58l-1,1.8a.2.2,0,0,0,0,.25L3.29,8.77v0a9.2,9.2,0,0,0-.43,1.64l-1.75.32A.21.21,0,0,0,1,11V13a.2.2,0,0,0,.16.2l1.74.3A9.38,9.38,0,0,0,3.3,15.2L2,16.37a.2.2,0,0,0,0,.25l1,1.8a.2.2,0,0,0,.24.09l1.65-.59,0,0a9.24,9.24,0,0,0,1.17,1.17l0,0L5.49,20.8a.19.19,0,0,0,.09.24l1.8,1a.2.2,0,0,0,.25,0l1.14-1.33h0a7.9,7.9,0,0,0,1.64.42l.32,1.76A.2.2,0,0,0,11,23H13a.2.2,0,0,0,.2-.16l.3-1.74a9.93,9.93,0,0,0,1.66-.44L16.37,22a.2.2,0,0,0,.25,0l1.8-1a.21.21,0,0,0,.09-.24l-.59-1.65,0,0a9.24,9.24,0,0,0,1.17-1.17l0,0,1.65.59a.19.19,0,0,0,.24-.09l1-1.8a.2.2,0,0,0,0-.25l-1.33-1.14v0a7.88,7.88,0,0,0,.41-1.64l1.77-.32A.21.21,0,0,0,23,13V11A.2.2,0,0,0,22.88,10.76ZM5.93,3.23h0Zm0,17.55ZM20.78,5.93ZM16.56,2.35h0Zm-5.43-1h0Zm-3.7,1h0ZM3.22,5.93h0ZM2.35,7.44h0Zm-1,5.43Zm0-1.74Zm1,5.44Zm8.78,6.07Zm9.65-4.57Zm.87-1.5Zm.63-4L21,12.81a.73.73,0,0,0-.58.61A10.31,10.31,0,0,1,20,15l0,.23a.76.76,0,0,0,.26.56l1,.86-.57,1-1.28-.45-.22,0a.71.71,0,0,0-.56.27,10.23,10.23,0,0,1-1.14,1.14.73.73,0,0,0-.27.6l0,.21.45,1.25-1,.57-.85-1a.75.75,0,0,0-.59-.25h0L15,20a8.57,8.57,0,0,1-1.56.42.75.75,0,0,0-.6.59l-.24,1.3H11.43L11.19,21a.75.75,0,0,0-.61-.59A8.44,8.44,0,0,1,9,20l-.23,0a.77.77,0,0,0-.56.25l-.85,1-1-.57.46-1.29,0-.21a.71.71,0,0,0-.27-.56,10.23,10.23,0,0,1-1.14-1.14.71.71,0,0,0-.6-.26l-.21,0-1.25.44-.57-1,1-.86a.74.74,0,0,0,.25-.6L4,15a8.23,8.23,0,0,1-.41-1.55.76.76,0,0,0-.6-.61l-1.3-.24V11.43L3,11.19a.73.73,0,0,0,.59-.61A8.87,8.87,0,0,1,4,9l0-.22a.78.78,0,0,0-.26-.57l-1-.85.57-1,1.29.45.21,0a.71.71,0,0,0,.56-.27A9.36,9.36,0,0,1,6.58,5.45a.76.76,0,0,0,.27-.6l0-.21L6.36,3.38l1-.57.86,1a.75.75,0,0,0,.58.25h0L9,4a8.23,8.23,0,0,1,1.55-.41A.75.75,0,0,0,11.19,3l.24-1.31h1.14L12.81,3a.75.75,0,0,0,.61.59A9.75,9.75,0,0,1,15,4l.22,0h0a.76.76,0,0,0,.56-.26l.85-1,1,.57-.46,1.28,0,.22a.74.74,0,0,0,.27.57,8.62,8.62,0,0,1,1.13,1.13.76.76,0,0,0,.6.27h0l.21,0,1.25-.44.57,1-1,.85a.76.76,0,0,0-.25.6L20,9a8.65,8.65,0,0,1,.41,1.55.76.76,0,0,0,.6.61l1.3.24Z"}}),e("path",{staticClass:"cls-1",attrs:{d:"M12,8.07h0A3.94,3.94,0,1,0,15.94,12,3.95,3.95,0,0,0,12,8.07Zm2.22,6.17v0A3.17,3.17,0,0,1,8.83,12a3.2,3.2,0,0,1,.93-2.24A3.14,3.14,0,0,1,12,8.83h0A3.18,3.18,0,0,1,15.17,12,3.14,3.14,0,0,1,14.24,14.24Z"}})])])]),e("transition",{attrs:{name:"slide-fade"}},[t.showSearch?e("fdk-search",{staticClass:"search",attrs:{has_products:!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e("input",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideList,expression:"hideList"}],staticClass:"search__input",attrs:{type:"text",id:"searchInput",autocomplete:"off"},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.showSearch=!1,null===t.selectedIndex?t.getEnterSearchData(i):t.getSearchData()},keydown:t.onArrowKey,focus:function(e){t.showSearch=!0},input:function(e){return t.fetchSuggestions(e,i.fetchSuggestions)}}}),e("div",{on:{click:function(e){i.executeQuery(t.searchtext),t.showSearch=!1,t.searchtext=""}}},[e("svg",{staticClass:"arrow-icon",style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"1.875rem",height:"1.875rem",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M295.6,163.7c-5.1,5-5.1,13.3-0.1,18.4l60.8,60.9H124.9c-7.1,0-12.9,5.8-12.9,13s5.8,13,12.9,13h231.3l-60.8,60.9\n                      c-5,5.1-4.9,13.3,0.1,18.4c5.1,5,13.2,5,18.3-0.1l82.4-83c0,0,0,0,0,0c1.1-1.2,2-2.5,2.7-4.1c0.7-1.6,1-3.3,1-5\n                      c0-3.4-1.3-6.6-3.7-9.1l-82.4-83C308.9,158.8,300.7,158.7,295.6,163.7z"}})])]),t.showSearch&&(i.suggestions&&i.suggestions.length>0||i.productSuggestions&&i.productSuggestions.length>0||i.noResults)?e("div",{staticClass:"suggestions",style:`background-color: ${t.global_config.props.header_bg_color};color: ${t.global_config.props.header_text_color}`},[i.productSuggestions&&i.productSuggestions.length>0?e("ul",{staticClass:"suggestions__products"},t._l(t.getProductSearchSuggestions(i.productSuggestions),(function(i,n){return e("li",{key:n,staticClass:"suggestions__products--item",class:{focus:t.isFocusedItem(i)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.showSearch=!1,t.redirectToProduct(i.url),t.searchtext=""}}},[e("img",{attrs:{src:i.image.url}}),e("div",{staticClass:"product-details"},[e("div",[t._v(t._s(i.name))]),i.subtitle?e("div",{staticClass:"subtitle"},[t._v(" "+t._s(i.subtitle)+" ")]):t._e()])])})),0):t._e(),i.suggestions&&i.suggestions.length>0?e("ul",{staticClass:"suggestions__products"},t._l(t.getSearchResults(i.suggestions),(function(i,n){return e("li",{key:n,staticClass:"suggestions__products--item",class:{focus:t.isFocusedItem(i)},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.redirectToProduct(i.url),t.searchtext=""}}},[e("img",{attrs:{src:i.logo.url}}),e("div",{staticClass:"product-details"},[e("div",[t._v(t._s(i.display))]),i.subtitle?e("div",{staticClass:"subtitle"},[t._v(" "+t._s(i.subtitle)+" ")]):t._e()])])})),0):t._e(),i.productSuggestions&&0===i.productSuggestions.length&&i.suggestions&&0===i.suggestions.length&&i.noResults&&t.showSearch?e("ul",[e("div",{staticClass:"suggestions__products",on:{click:function(e){return t.redirectToProduct("/products/?q="+t.searchtext)}}},[e("li",{staticClass:"suggestions__products--item"},[t._v(" No match found ")])])]):t._e()]):t._e()]}}],null,!0)}):t._e()],1)]}}])})],1)])]),e("div",{staticClass:"mobile",style:`border-bottom: 1px solid ${t.global_config.props.header_border_color};background-color: ${t.global_config.props.header_bg_color};`},[e("div",{staticClass:"left",on:{click:t.showHamburgerMenu}},[e("svg",{style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"24px",height:"24px",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("g",[e("path",{attrs:{d:"M432,176H80c-8.8,0-16-7.2-16-16l0,0c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16l0,0C448,168.8,440.8,176,432,176z"}}),e("path",{attrs:{d:"M432,272H80c-8.8,0-16-7.2-16-16l0,0c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16l0,0C448,264.8,440.8,272,432,272z"}}),e("path",{attrs:{d:"M432,368H80c-8.8,0-16-7.2-16-16l0,0c0-8.8,7.2-16,16-16h352c8.8,0,16,7.2,16,16l0,0C448,360.8,440.8,368,432,368z"}})])])]),e("fdk-link",{staticClass:"center-mobile",attrs:{link:"/"}},[e("img",{attrs:{src:t.context.logo.secure_url,alt:""}})]),e("fdk-accounts",{staticClass:"right",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"icon right__icons--wishlist mr-5",on:{click:function(e){return e.stopPropagation(),t.checkLogin(i,"wishlist")}}},[e("svg",{staticClass:"header-icons",style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"24px",height:"24px",title:"Wishlist",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"}},[e("g",[e("path",{attrs:{d:"M256,448l-30.164-27.211C118.718,322.442,48,258.61,48,179.095C48,114.221,97.918,64,162.4,64\n                    c36.399,0,70.717,16.742,93.6,43.947C278.882,80.742,313.199,64,349.6,64C414.082,64,464,114.221,464,179.095\n                    c0,79.516-70.719,143.348-177.836,241.694L256,448z"}})])])]),t.isMounted&&!t.global_config.props.disable_cart?e("div",{staticClass:"icon right__icons--bag",on:{click:function(e){return e.stopPropagation(),t.checkLogin(i,"cart")}}},[e("svg",{style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"24px",height:"24px",title:"Cart",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("g",[e("ellipse",{attrs:{transform:"matrix(0.9998 -1.842767e-02 1.842767e-02 0.9998 -7.7858 3.0205)",cx:"160",cy:"424",rx:"24",ry:"24"}}),e("ellipse",{attrs:{transform:"matrix(2.381651e-02 -0.9997 0.9997 2.381651e-02 -48.5107 798.282)",cx:"384.5",cy:"424",rx:"24",ry:"24"}}),e("path",{attrs:{d:"M463.8,132.2c-0.7-2.4-2.8-4-5.2-4.2L132.9,96.5c-2.8-0.3-6.2-2.1-7.5-4.7c-3.8-7.1-6.2-11.1-12.2-18.6\n                    c-7.7-9.4-22.2-9.1-48.8-9.3c-9-0.1-16.3,5.2-16.3,14.1c0,8.7,6.9,14.1,15.6,14.1c8.7,0,21.3,0.5,26,1.9c4.7,1.4,8.5,9.1,9.9,15.8\n                    c0,0.1,0,0.2,0.1,0.3c0.2,1.2,2,10.2,2,10.3l40,211.6c2.4,14.5,7.3,26.5,14.5,35.7c8.4,10.8,19.5,16.2,32.9,16.2h236.6\n                    c7.6,0,14.1-5.8,14.4-13.4c0.4-8-6-14.6-14-14.6H189h-0.1c-2,0-4.9,0-8.3-2.8c-3.5-3-8.3-9.9-11.5-26l-4.3-23.7\n                    c0-0.3,0.1-0.5,0.4-0.6l277.7-47c2.6-0.4,4.6-2.5,4.9-5.2l16-115.8C464,134,464,133.1,463.8,132.2z"}})])]),e("p",{staticClass:"cart-count u-df-align-center",style:`background-color: ${t.global_config.props.header_cart_notification_bg_color};color: ${t.global_config.props.header_cart_notification_text_color};`},[t._v(" "+t._s(t.context.cart_item_count)+" ")])]):t._e(),e("div",{staticClass:"icon right__icons--bag setting",on:{click:t.routetoSettingPage}},[e("svg",{attrs:{id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"}},[e("defs"),e("path",{staticStyle:{},attrs:{d:"M22.88,10.76l-1.75-.32h0a8.73,8.73,0,0,0-.44-1.62h0L22,7.63a.2.2,0,0,0,0-.25l-1-1.8a.21.21,0,0,0-.24-.09l-1.65.59,0,0a9.24,9.24,0,0,0-1.17-1.17l0,0,.59-1.65A.21.21,0,0,0,18.42,3l-1.8-1a.2.2,0,0,0-.25,0L15.23,3.29l0,0a7.32,7.32,0,0,0-1.64-.42l-.33-1.77A.19.19,0,0,0,13,1H11a.21.21,0,0,0-.2.16l-.3,1.75a7.93,7.93,0,0,0-1.66.44L7.63,2a.2.2,0,0,0-.25,0L5.58,3a.2.2,0,0,0-.09.24l.59,1.65,0,0A9.24,9.24,0,0,0,4.89,6.06l0,0L3.2,5.49A.2.2,0,0,0,3,5.58l-1,1.8a.2.2,0,0,0,0,.25L3.29,8.77v0a9.2,9.2,0,0,0-.43,1.64l-1.75.32A.21.21,0,0,0,1,11V13a.2.2,0,0,0,.16.2l1.74.3A9.38,9.38,0,0,0,3.3,15.2L2,16.37a.2.2,0,0,0,0,.25l1,1.8a.2.2,0,0,0,.24.09l1.65-.59,0,0a9.24,9.24,0,0,0,1.17,1.17l0,0L5.49,20.8a.19.19,0,0,0,.09.24l1.8,1a.2.2,0,0,0,.25,0l1.14-1.33h0a7.9,7.9,0,0,0,1.64.42l.32,1.76A.2.2,0,0,0,11,23H13a.2.2,0,0,0,.2-.16l.3-1.74a9.93,9.93,0,0,0,1.66-.44L16.37,22a.2.2,0,0,0,.25,0l1.8-1a.21.21,0,0,0,.09-.24l-.59-1.65,0,0a9.24,9.24,0,0,0,1.17-1.17l0,0,1.65.59a.19.19,0,0,0,.24-.09l1-1.8a.2.2,0,0,0,0-.25l-1.33-1.14v0a7.88,7.88,0,0,0,.41-1.64l1.77-.32A.21.21,0,0,0,23,13V11A.2.2,0,0,0,22.88,10.76ZM5.93,3.23h0Zm0,17.55ZM20.78,5.93ZM16.56,2.35h0Zm-5.43-1h0Zm-3.7,1h0ZM3.22,5.93h0ZM2.35,7.44h0Zm-1,5.43Zm0-1.74Zm1,5.44Zm8.78,6.07Zm9.65-4.57Zm.87-1.5Zm.63-4L21,12.81a.73.73,0,0,0-.58.61A10.31,10.31,0,0,1,20,15l0,.23a.76.76,0,0,0,.26.56l1,.86-.57,1-1.28-.45-.22,0a.71.71,0,0,0-.56.27,10.23,10.23,0,0,1-1.14,1.14.73.73,0,0,0-.27.6l0,.21.45,1.25-1,.57-.85-1a.75.75,0,0,0-.59-.25h0L15,20a8.57,8.57,0,0,1-1.56.42.75.75,0,0,0-.6.59l-.24,1.3H11.43L11.19,21a.75.75,0,0,0-.61-.59A8.44,8.44,0,0,1,9,20l-.23,0a.77.77,0,0,0-.56.25l-.85,1-1-.57.46-1.29,0-.21a.71.71,0,0,0-.27-.56,10.23,10.23,0,0,1-1.14-1.14.71.71,0,0,0-.6-.26l-.21,0-1.25.44-.57-1,1-.86a.74.74,0,0,0,.25-.6L4,15a8.23,8.23,0,0,1-.41-1.55.76.76,0,0,0-.6-.61l-1.3-.24V11.43L3,11.19a.73.73,0,0,0,.59-.61A8.87,8.87,0,0,1,4,9l0-.22a.78.78,0,0,0-.26-.57l-1-.85.57-1,1.29.45.21,0a.71.71,0,0,0,.56-.27A9.36,9.36,0,0,1,6.58,5.45a.76.76,0,0,0,.27-.6l0-.21L6.36,3.38l1-.57.86,1a.75.75,0,0,0,.58.25h0L9,4a8.23,8.23,0,0,1,1.55-.41A.75.75,0,0,0,11.19,3l.24-1.31h1.14L12.81,3a.75.75,0,0,0,.61.59A9.75,9.75,0,0,1,15,4l.22,0h0a.76.76,0,0,0,.56-.26l.85-1,1,.57-.46,1.28,0,.22a.74.74,0,0,0,.27.57,8.62,8.62,0,0,1,1.13,1.13.76.76,0,0,0,.6.27h0l.21,0,1.25-.44.57,1-1,.85a.76.76,0,0,0-.25.6L20,9a8.65,8.65,0,0,1,.41,1.55.76.76,0,0,0,.6.61l1.3.24Z"}}),e("path",{staticClass:"cls-1",attrs:{d:"M12,8.07h0A3.94,3.94,0,1,0,15.94,12,3.95,3.95,0,0,0,12,8.07Zm2.22,6.17v0A3.17,3.17,0,0,1,8.83,12a3.2,3.2,0,0,1,.93-2.24A3.14,3.14,0,0,1,12,8.83h0A3.18,3.18,0,0,1,15.17,12,3.14,3.14,0,0,1,14.24,14.24Z"}})])])]}}])}),e("transition",{attrs:{name:"slide"}},[t.showHamburger?e("div",{staticClass:"hamburger",style:`background-color: ${t.global_config.props.header_bg_color};color: ${t.global_config.props.header_text_color}`},[e("div",{staticClass:"close-icon",on:{click:function(e){e.stopPropagation(),t.showHamburger=!1}}},[e("svg",{style:"fill:"+t.global_config.props.header_icon_color,attrs:{width:"3.5rem",height:"3.5rem",title:"Close menu",version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512","xml:space":"preserve"}},[e("g",{attrs:{id:"Icon_5_"}},[e("g",[e("polygon",{attrs:{points:"405,136.798 375.202,107 256,226.202 136.798,107 107,136.798 226.202,256 107,375.202 136.798,405 256,285.798\n                      375.202,405 405,375.202 285.798,256 \t\t"}})])])])]),e("ul",{staticClass:"hamburger__navigation"},t._l(t.navs,(function(i,n){return e("li",{key:n,staticClass:"hamburger__navigation--item",on:{click:function(e){return e.stopPropagation(),t.redirectToMenu(i)}}},[i.sub_navigation?e("p",{on:{click:function(e){return e.stopPropagation(),t.redirectToMenu(i)}}},[t._v(t._s(i.display))]):e("fdk-link",{attrs:{link:i.link}},[e("p",[t._v(t._s(i.display))])]),i.sub_navigation&&i.sub_navigation.length>0?e("div",{on:{click:function(e){return e.stopPropagation(),t.redirectToMenu(i)}}},[e("svg",{staticClass:"arrow-icon",style:"fill:"+t.global_config.props.header_icon_color,attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1.875rem",height:"1.875rem",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n                  c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z"}})])]):t._e(),e("transition",{attrs:{name:"slide"}},[i.sub_navigation&&i.sub_navigation.showSubMenu?e("div",{staticClass:"hamburger mobile__subnav",style:`background-color: ${t.global_config.props.header_bg_color};color: ${t.global_config.props.header_text_color}`},[e("ul",{staticClass:"hamburger__navigation"},[e("li",{staticClass:"hamburger__navigation--item back",on:{click:function(e){return e.stopPropagation(),t.hideSubmenu(i)}}},[e("svg",{staticClass:"back__icon",style:"fill:"+t.global_config.props.header_icon_color,attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:"1.875rem",height:"1.875rem",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M256,294.1L383,167c9.4-9.4,24.6-9.4,33.9,0s9.3,24.6,0,34L273,345c-9.1,9.1-23.7,9.3-33.1,0.7L95,201.1\n                        c-4.7-4.7-7-10.9-7-17c0-6.1,2.3-12.3,7-17c9.4-9.4,24.6-9.4,33.9,0L256,294.1z"}})]),e("p",{},[t._v("Go Back")])]),t._l(i.sub_navigation,(function(i,n){return e("li",{key:n,staticClass:"hamburger__navigation--item"},[e("fdk-link",{attrs:{link:i.link}},[e("p",[t._v(t._s(i.display))])])],1)}))],2)]):t._e()])],1)})),0),e("fdk-accounts",{staticClass:"hamburder__navigation user",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"hamburger__navigation--item",on:{click:function(e){t.checkLogin(i,"profile_mobile"),t.showHamburger=!1}}},[e("p",[t._v("Profile")])])]}}],null,!1,3860355806)}),e("div",{staticClass:"mt-5"},[e("div",{staticClass:"hamburger__navigation--item"},[e("fdk-search",{staticClass:"hamburger__search",attrs:{has_products:!0},scopedSlots:t._u([{key:"default",fn:function(i){return[e("input",{directives:[{name:"model",rawName:"v-model",value:t.searchtext,expression:"searchtext"}],staticClass:"search__input mobile",attrs:{type:"text",placeholder:"Search Products"},domProps:{value:t.searchtext},on:{keyup:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;i.executeQuery(t.searchtext),t.searchtext="",t.showHamburger=!1},input:function(e){e.target.composing||(t.searchtext=e.target.value)}}}),e("div",{staticClass:"icon",on:{click:function(e){i.executeQuery(t.searchtext),t.searchtext="",t.showHamburger=!1}}},[e("svg",{style:"fill:"+t.global_config.props.header_icon_color,attrs:{version:"1.1",id:"Layer_1",width:"1.875rem",height:"1.875rem",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M443.5,420.2L336.7,312.4c20.9-26.2,33.5-59.4,33.5-95.5c0-84.5-68.5-153-153.1-153S64,132.5,64,217s68.5,153,153.1,153\n                      c36.6,0,70.1-12.8,96.5-34.2l106.1,107.1c3.2,3.4,7.6,5.1,11.9,5.1c4.1,0,8.2-1.5,11.3-4.5C449.5,437.2,449.7,426.8,443.5,420.2z\n                      M217.1,337.1c-32.1,0-62.3-12.5-85-35.2c-22.7-22.7-35.2-52.9-35.2-84.9c0-32.1,12.5-62.3,35.2-84.9c22.7-22.7,52.9-35.2,85-35.2\n                      c32.1,0,62.3,12.5,85,35.2c22.7,22.7,35.2,52.9,35.2,84.9c0,32.1-12.5,62.3-35.2,84.9C279.4,324.6,249.2,337.1,217.1,337.1z"}})])])]}}],null,!1,989008410)})],1)])],1):t._e()]),e("div",{staticClass:"overlay",class:{show:t.showHamburger},on:{click:function(e){e.stopPropagation(),t.showHamburger=!1}}},[t._v("   ")])],1)])])},Ws=[],qs={props:{context:{}},data(){return{showSearch:!1,searchtext:"",showHamburger:!1,showSubMenu:!1,selectedIndex:null,suggestion:[],productSuggestions:[],isMounted:!1,navs:[]}},watch:{$route(t,e){this.hideHamburgerMenu()}},mounted(){this.isMounted=!0,this.navs=this.getNavs()},computed:{accessibleItems(){return this.productSuggestions.concat(this.suggestion)}},methods:{showHamburgerMenu(){this.navs.map(t=>{t.sub_navigation&&(t.sub_navigation.showSubMenu=!1)}),this.showHamburger=!0},hideHamburgerMenu(){this.navs.map(t=>{t.sub_navigation&&(t.sub_navigation.showSubMenu=!1)}),this.showHamburger=!1},getNavs(){if(this.context.navigation){let t=this.context.navigation.map(t=>(t.sub_navigation&&(t.showSubMenu=!1),t));return Object.assign([],t)}},callSearch(){this.selectedIndex=null,this.showSearch=!this.showSearch,this.showSearch&&setTimeout((function(){document.getElementById("searchInput").focus()}),1500)},getSearchData(){let t=this.accessibleItems[this.selectedIndex].url;this.$router.push({path:t}),this.showlist=!1},getEnterSearchData:function(t){this.showlist=!1,t.executeQuery(this.searchtext)},isFocusedItem(t){const e=this.accessibleItems[this.selectedIndex];return e&&t.display?t.display===e.display:!(!e||!t.name)&&t.name===e.name},getSearchResults(t){return this.suggestion=t,t},getProductSearchSuggestions(t){return this.productSuggestions=t,t},onArrowKey:function(t){const e=38,i=40;switch(t.keyCode){case e:null===this.selectedIndex?this.selectedIndex=0:this.selectedIndex>0&&this.selectedIndex--;break;case i:null===this.selectedIndex?this.selectedIndex=0:this.selectedIndex<this.accessibleItems.length-1&&this.selectedIndex++;break}},checkLogin(t,e){"cart"===e?this.$router.push("/cart/bag/"):t.is_logged_in?"profile"===e?this.$router.push("/profile/details"):"profile_mobile"===e?this.$router.push("/profile"):"wishlist"===e&&this.$router.push("/wishlist"):t.openLogin()},redirectToPage(t){this.$router.push("/")},redirectToProduct(t){this.$router.push(t),this.showSearch=!1},redirectToMenu(t){if(t.sub_navigation.length){let e=Object.assign([],this.navs);e.map(e=>{e.sub_navigation&&(e.display==t.display?e.sub_navigation.showSubMenu=!0:e.sub_navigation.showSubMenu=!1)}),this.navs=e}else this.showHamburger=!1,this.navs=this.getNavs(),this.$router.push(t.link)},hideSubmenu(t){let e=Object.assign([],this.navs);e.map(e=>{e.sub_navigation&&e.display==t.display&&(e.sub_navigation.showSubMenu=!1)}),this.navs=e},hideList:function(t){setTimeout(()=>{this.showSearch=!1,this.searchtext=""},200)},fetchSuggestions(t,e){this.selectedIndex=null,this.showSearch=!0,this.searchtext=t.target.value,e(this.searchtext)},routetoSettingPage(){lt()?this.$router.push("/setting"):this.$router.push("/setting/currency")}}},Ys=qs,$s=(i("9c19"),Object(S["a"])(Ys,Vs,Ws,!1,null,"a360082a",null)),Js=$s.exports,Xs={},Ks=Object(S["a"])(Xs,zr,jr,!1,null,null,null),Zs=Ks.exports,to={},eo=Object(S["a"])(to,Vr,Wr,!1,null,null,null),io=eo.exports,no={},ro=Object(S["a"])(no,qr,Yr,!1,null,null,null),so=ro.exports,oo=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-container",style:`--text_heading_link_color: ${t.global_config.props.text_heading_link_color};--button_tertiary_hover_color: ${t.global_config.props.button_tertiary_hover_color};--button_tertiary_hover_text_color:${t.global_config.props.button_tertiary_hover_text_color};--button_tertiary_color:${t.global_config.props.button_tertiary_color};--button_tertiary_label_color:${t.global_config.props.button_tertiary_label_color}; color: ${t.global_config.props.text_body_color}`},[t.context&&t.context.product&&t.context.product.medias?e("div",{staticClass:"product-desc-container"},[e("div",{staticClass:"left"},[e("image-gallery",{attrs:{images:t.getMedias},on:{"paint-canvas":t.showPreview}})],1),e("div",{staticClass:"right"},[e("canvas",{ref:"preview",staticClass:"preview",attrs:{width:"200",height:"200"}}),e("div",{staticClass:"share-like-box"},[t.page_config&&t.page_config.props.wishlist?e("div",{staticClass:"mark-fav"},[e("favourite",{attrs:{item:t.context.product}})],1):t._e(),t.page_config&&t.page_config.props.share?e("fdk-share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-img",attrs:{src:i("5203")}}),e("transition",{attrs:{name:"fade"}},[t.showShare?e("share",{attrs:{title:`Spread the shopping delight! Scan QR & share this ${t.context.product.brand.name} product with\n                            your loved ones`,shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1)],1)]}}],null,!1,2727077957)}):t._e()],1),e("div",{staticClass:"product"},[e("h1",{staticClass:"product__title",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.context.product.name)+" ")]),e("div",{staticClass:"product__price"},[e("span",{staticClass:"product__price--effective",style:t.getProductPrice("effective")!==t.getProductPrice("marked")?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(t._s(t._f("currencyformat")(t.getProductPrice("effective"))))]),t.getProductPrice("effective")!==t.getProductPrice("marked")?e("span",{staticClass:"product__price--marked",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(t._s(t._f("currencyformat")(t.getProductPrice("marked"))))]):t._e()]),t.context&&t.context.product&&t.context.product.rating&&t.context.product.rating_count&&t.page_config&&t.page_config.props.ratings?e("div",{staticClass:"product-rating-count"},[e("span",[e("rating-star",{attrs:{stars:t.context.product.rating,size:"small"}})],1),e("span",{staticStyle:{"font-size":"14px"}},[t._v(" "+t._s(t.context.product.rating_count)+" ratings ")])]):t._e(),!t.context.bulk_prices.loading&&t.page_config.props.bulk_prices?e("store-coupon",{attrs:{bulkPrices:t.context.bulk_prices,global_config:t.global_config}}):t._e(),t.context.product_variants&&t.context.product_variants.variants&&t.context.product_variants.variants.variants&&t.page_config.props.variants?e("product-variants",{staticClass:"spaces",attrs:{product:t.context.product,variants:t.context.product_variants.variants.variants}}):t._e(),e("fdk-pdp-size-stores",{ref:"sizeContainer",staticClass:"product__size",scopedSlots:t._u([{key:"default",fn:function(i){return[e("p",{staticClass:"product__size--text"},[t._v("Size")]),e("ul",{staticClass:"size-list"},t._l(t.context.product_meta.sizes,(function(n,r){return e("li",{key:r,staticClass:"size-list__item",class:{"size-list__item--selected":t.selectedSize===n.display,inactive:!n.is_available},on:{click:function(e){t.selectedSize=n.display,t.onSizeClicked(i),t.sizeError=!1}}},[e("p",[t._v(t._s(n.display))])])})),0),t.isProductRequestEnabled&&t.page_config.props.product_request?e("div",{staticClass:"spacing regular-xxs"},[t._v(" Couldn't find your size? "),e("a",{staticClass:"ukt-links regular-xxs",on:{click:function(e){t.showProductRequestModal=!0}}},[t._v("Product Request")])]):t._e(),t.sizeError?e("p",{staticClass:"u-error"},[t._v("Select a size first")]):t._e(),t.page_config.props.size_guide&&t.context.product_meta.size_chart&&t.context.product_meta.size_chart.sizes&&t.context.product_meta.size_chart.sizes.length>0?e("p",{staticClass:"product__size--guide",on:{click:function(e){t.showSizeGuide=!0}}},[t._v(" Size Guide ")]):t._e(),t.context.product_meta?e("size-guide",{staticClass:"size-guide",attrs:{isOpen:t.showSizeGuide,product_meta:t.context.product_meta},on:{closedialog:function(e){t.showSizeGuide=!1}}}):t._e(),t.storeInfoSelected&&t.storeInfoSelected.store&&t.storeInfoSelected.store.name?e("div",{staticClass:"seller-info"},[t.showSellers?e("div",{staticClass:"seller-name regular-xxs"},[e("div",{staticClass:"store-seller"},[t._v(" Sold By: "+t._s(t.storeInfoSelected.store.name+",")+" "+t._s(t.storeInfoSelected.seller.name)+" "),t.store_count>1&&t.page_config&&t.page_config.props&&t.page_config.props.store_selection?e("span",{staticClass:"ukt-links bold-xs",staticStyle:{color:"var(--text_heading_link_color)"},on:{click:function(e){t.showStoreModal=!0,t.loadStoreFunction=i.loadStores,t.getStores(i.loadStores)}}},[t._v(" & "+t._s(t.store_count-1)+" Others")]):t._e()]),e("store-modal",{attrs:{isOpen:t.showStoreModal,activeStoreInfo:t.storeInfo,all_stores_info:t.all_stores_info,sellerData:i,productName:t.context.product.name},on:{closedialog:t.closedDialog,"store-filter":t.updateStoreFilter,"store-item-select":t.setStoreInfo}})],1):t._e()]):t._e()]}}],null,!1,2039660785)}),e("product-request-modal",{attrs:{isOpen:t.showProductRequestModal,productInfo:t.context.product,isPdpPage:!0},on:{closedialog:function(e){t.showProductRequestModal=!1}}}),t.isSizeSet?e("size-set-info",{attrs:{storeInfo:t.storeInfo}}):t._e(),e("fdk-cart",{staticClass:"product__actions",scopedSlots:t._u([{key:"default",fn:function(i){return[t.context.product_meta&&t.context.product_meta.sellable&&!t.global_config.props.disable_cart?e("button",{staticClass:"button",style:`background-color: ${t.global_config.props.button_add_to_cart_color};color:${t.global_config.props.button_add_to_cart_label_color}`,on:{click:function(e){return t.addToCart(i)}}},[e("p",[t._v("Add to cart")])]):t._e()]}}],null,!1,583487613)}),t.context.product_meta&&t.checkSelleble&&!t.context.product_meta.sellable&&!t.global_config.props.disable_cart?e("fdk-notify",{staticClass:"product__actions notify-btn",scopedSlots:t._u([{key:"default",fn:function(n){return[e("button",{staticClass:"button",style:`background-color: ${t.global_config.props.button_add_to_cart_color};color:${t.global_config.props.button_add_to_cart_label_color}`,on:{click:function(e){return t.productNotify(n)}}},[e("img",{style:"vertical-align: bottom;",attrs:{src:i("8463"),alt:""}}),e("span",[t._v("Notify Me")])])]}}],null,!1,1547099445)}):t._e(),t.showUserPincodeModal||t.storeInfo?e("delivery-info",{attrs:{showUserPincodeModal:t.showUserPincodeModal,isExplicitelySelectedStore:t.isExplicitelySelectedStore,storeInfo:t.storeInfo,productName:t.context.product.product_name,level:"l3",id:t.getCategoryId},on:{dialogClosed:t.onDialogClosed,pincodeChanged:function(e){return t.onPincodeChanged(e)},showTatError:function(e){return t.onTatError(e)},hideTatError:t.onHideTatError}}):t._e(),t.showCompareActionModal?e("compare-action-modal",{attrs:{compare_slugs:t.context.compare_slugs,compare_msg:t.compareMsg,product_uid:t.context.product.slug,global_config:t.global_config},on:{"hide-compare-action-modal":t.hideCompareModal}}):t._e(),e("div",{staticClass:"book-appt-n-compare"},[t.page_config&&t.page_config.props.add_to_compare?e("fdk-compare-action",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"compare-container compare-text",on:{click:function(e){return t.addCompareProducts(i.addCompare,t.context.product.slug)}}},[e("div",{staticClass:"compare-icon"},[e("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",width:"17.54",height:"11",viewBox:"0 0 17.54 11"}},[e("g",{attrs:{transform:"translate(-179 -222)"}},[e("g",{attrs:{transform:"translate(-87 -63)"}},[e("g",{staticClass:"a",attrs:{transform:"translate(266 285)"}},[e("circle",{staticClass:"c",attrs:{cx:"5.5",cy:"5.5",r:"5.5"}}),e("circle",{staticClass:"d",attrs:{cx:"5.5",cy:"5.5",r:"5.1"}})]),e("g",{staticClass:"a",attrs:{transform:"translate(272.64 285)"}},[e("ellipse",{staticClass:"c",attrs:{cx:"5.45",cy:"5.5",rx:"5.45",ry:"5.5"}}),e("ellipse",{staticClass:"d",attrs:{cx:"5.45",cy:"5.5",rx:"5.05",ry:"5.1"}})]),e("path",{staticClass:"b",attrs:{d:"M0,4.4A5.486,5.486,0,0,1,2.2,0,5.486,5.486,0,0,1,4.4,4.4a5.486,5.486,0,0,1-2.2,4.4A5.486,5.486,0,0,1,0,4.4Z",transform:"translate(272.593 286.099)"}})])])])]),e("p",[t._v("Add to Compare")])])]}}],null,!1,1365728854)}):t._e()],1),t.context.product.grouped_attributes?e("div",{staticClass:"mt-5"},[e("product-desc",{attrs:{product:t.context.product,storeInfo:t.storeInfo,global_config:t.global_config}})],1):t._e()],1)])]):t._e(),t.context.product.description?e("div",{staticClass:"product-details"},[e("h2",{staticClass:"bold-lg title",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" Product Description ")]),e("fdk-html-content",{staticClass:"product-long-description",attrs:{content:t.context.product.description}})],1):t._e(),e("div",[e("no-ssr",[e("fdk-accounts",{staticClass:"rate-prod-btn",scopedSlots:t._u([{key:"default",fn:function(i){return[e("fdk-add-review",{attrs:{product_type:t.context.product.type,product_uid:t.context.product.uid},scopedSlots:t._u([{key:"default",fn:function(n){return[t.checkReview||t.context.is_logged_in&&t.page_config&&t.page_config.props.reviews&&n.isEligible?e("div",{staticClass:"review-container"},[e("div",[e("p",{staticClass:"review-container__title",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" Ratings & Reviews ")]),n.isEligible&&t.context.is_logged_in?e("a",{staticClass:"add-review",on:{click:function(e){t.context.is_logged_in?t.redirectToAddReview():i.openLogin()}}},[t._v(" Rate Product ")]):t._e(),t.context&&t.context.reviews&&t.context.reviews.data&&t.context.reviews.data.length&&t.context.reviews.data.length>0?e("review-list",{attrs:{reviews:t.context.reviews.data.slice(0,3),product:t.context.product,showtitle:!1}}):n.isEligible?e("div",{staticClass:"no-reviews"},[t._v(" No reviews found ")]):t._e()],1),t.context&&t.context.reviews&&t.context.reviews.data&&t.context.reviews.data.length&&t.context.reviews.data.length>3?e("div",{staticClass:"view-all-ratings",on:{click:t.redirectToReview}},[e("p",[t._v("View all")]),e("span",[t._v("→ ")])]):t._e()]):t._e()]}}],null,!0)})]}}])})],1)],1),t.context.similar_products&&t.page_config&&t.page_config.props.similar_products?e("div",{staticClass:"similar"},t._l(t.context.similar_products,(function(i,n){return e("div",{key:n},[e("h1",{staticClass:"similar__title",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(i.title)+" ")]),i.items?e("div",{staticClass:"similar__products"},[e("group-list",{attrs:{cardlist:i.items,cardtype:"PRODUCT",itemcount:4,global_config:t.global_config}})],1):t._e()])})),0):t._e(),t.context.frequently_compared_products&&t.context.frequently_compared_products.products&&t.context.frequently_compared_products.products.length>0&&t.page_config.props.compare_products?e("div",[e("compare-products",{attrs:{compare:t.context.frequently_compared_products,global_config:t.global_config}})],1):t._e(),e("toast",{ref:"pdpToast",attrs:{id:"pdp",content:t.toast_message}})],1)},ao=[],lo=function(){var t=this,e=t._self._c;return t.product_meta&&t.product_meta.size_chart?e("transition",{attrs:{name:"modal",mode:"out-in"}},[e("modal",{attrs:{isOpen:t.isOpen,modalClass:"sizeGuideModal"},on:{closedialog:t.closeDailog}},[t.product_meta&&t.product_meta.size_chart?e("div",{staticClass:"size-container"},[e("div",{staticClass:"left-container",class:{"cst-lw":!t.product_meta.size_chart.image}},[t.product_meta&&t.product_meta.size_chart?e("div",{staticClass:"size-title"},[t._v(" "+t._s(t.product_meta.size_chart.title?t.product_meta.size_chart.title:"SIZE GUIDE")+" ")]):t._e(),t.product_meta&&t.product_meta.size_chart?e("div",{staticClass:"size-tip"},[t._v(" "+t._s(t.product_meta.size_chart.size_tip)+" ")]):t._e(),e("div",{staticClass:"btn-group"},t._l(t.values,(function(i,n){return e("button",{key:i,class:["btn","btn-"+i,{"btn-danger":t.previewSelectedMetric===i,"btn-default":t.previewSelectedMetric!==i}],attrs:{type:"button"},on:{click:function(e){return t.changeSelectedMetric(i)}}},[t._v(" "+t._s(n)+" ")])})),0),t.product_meta&&t.product_meta.size_chart?e("div",{staticClass:"size-info"},[e("table",{staticClass:"size-table"},[e("thead",[e("tr",t._l(t.product_meta.size_chart.headers,(function(i,n){return e("th",{key:"column"+n,staticClass:"size-header dark-sm"},[t._v(" "+t._s(i.value)+" ")])})),0)]),e("tbody",t._l(t.product_meta.size_chart.sizes,(function(i,n){return e("tr",{key:"row_"+n,staticClass:"size-row"},t._l(t.product_meta.size_chart.headers,(function(n,r,s){return e("td",{key:"cell_"+s,staticClass:"size-cell"},[t._v(" "+t._s(n.convertable?t.convertMetrics(i[r]):i[r])+" ")])})),0)})),0)])]):t._e(),t.product_meta.size_chart&&t.product_meta.size_chart.description?e("div",{staticClass:"size-desc"},[e("fdk-html-content",{attrs:{content:t.product_meta.size_chart.description}})],1):t._e()]),t.product_meta&&t.product_meta.size_chart&&t.product_meta.size_chart.image?e("div",{staticClass:"right-container"},[e("div",{staticClass:"sizeguide_image"},[e("img",{attrs:{src:t.product_meta.size_chart.image,alt:"product_meta.size_chart.title"}})])]):t._e()]):t._e()])],1):t._e()},co=[],uo=function(){var t=this,e=t._self._c;return t.isOpen?e("transition",{attrs:{name:"modal"}},[e("div",{ref:"modal",staticClass:"modal",class:t.modalClass,attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog.apply(null,arguments)}}},[e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDialog,expression:"closeDialog"}],staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("div",{staticClass:"modal-title"},[t._v(t._s(t.title))]),t.isCancelable?e("div",{staticClass:"cross",on:{click:t.closeDialog}},[e("IosCloseIcon",{attrs:{w:"2rem",h:"2rem"}})],1):t._e()]),e("div",{staticClass:"modal-body"},[t._t("default")],2)])])]):t._e()},ho=[],po=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ion",class:t.ionClass,attrs:{"data-title":t.iconTitle,"data-name":"ios-close-icon"}},[e("svg",{staticClass:"ion__svg",attrs:{width:t.w,height:t.h,viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M278.6 256l68.2-68.2c6.2-6.2 6.2-16.4 0-22.6-6.2-6.2-16.4-6.2-22.6 0L256 233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6 0-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3l68.2 68.2-68.2 68.2c-3.1 3.1-4.7 7.2-4.7 11.3 0 4.1 1.6 8.2 4.7 11.3 6.2 6.2 16.4 6.2 22.6 0l68.2-68.2 68.2 68.2c6.2 6.2 16.4 6.2 22.6 0 6.2-6.2 6.2-16.4 0-22.6L278.6 256z"}})])])},fo=[];const go="rotate",mo="beat",vo="shake";var Ao={computed:{ionClass(){let t="";return this.animate===go?t="ion-rotate ":this.animate===mo?t="ion-beat ":this.animate===vo&&(t="ion-shake "),`${this.rootClass} ${t}`}},props:{title:{type:String,default:""},rootClass:{type:String,default:""},w:{type:String,default:"1em"},h:{type:String,default:"1em"},animate:{type:String,default:""}}},yo={name:"ios-close-icon",mixins:[Ao],data(){let t=this.title?this.title:"Ios Close Icon";return{iconTitle:t}}},_o=yo,bo=Object(S["a"])(_o,po,fo,!1,null,null,null),wo=bo.exports,xo={name:"modal",components:{IosCloseIcon:wo},props:{isOpen:{type:Boolean,default:!1},title:{type:String},modalClass:{type:String,default:null,required:!1},isCancelable:{type:Boolean,default:!0},childHandleFocus:{type:Boolean,default:!1}},updated(){this.isOpen&&!this.childHandleFocus&&this.$refs.modal&&this.$refs.modal.focus()},methods:{closeDialog(){this.isCancelable&&this.$emit("closedialog")}},mounted(){this.$root.$el.append(this.$el)},destroyed(){this.$el&&this.$el.parentNode&&"#comment"!==this.$el.nodeName&&this.$el.parentNode.removeChild(this.$el)}},Co=xo,Eo=(i("232e"),Object(S["a"])(Co,uo,ho,!1,null,"5a95d978",null)),So=Eo.exports,Io={name:"size-guide",extends:So,components:{modal:So},props:{isOpen:{type:Boolean,default:!1},product_meta:{type:Object}},mounted(){this.product_meta.size_chart&&(this.previewSelectedMetric=this.product_meta.size_chart.unit),this.product_meta.size_chart&&(this.selectedMetric=this.product_meta.size_chart.unit)},watch:{product_meta(t){t.size_chart&&(this.previewSelectedMetric=t.size_chart.unit),t.size_chart&&(this.selectedMetric=t.size_chart.unit)}},methods:{closeDailog(){document.querySelector("body").style.overflow="auto",this.$emit("closedialog")},changeSelectedMetric(t){this.previewSelectedMetric=t,this.selectedMetric===this.previewSelectedMetric?this.touched=!1:this.touched=!0},convertMetrics(t){if("cm"==this.previewSelectedMetric&&this.touched){let e="";t=t.split("-");for(let i=0;i<t.length;i++)0!=i&&i<t.length&&(e+="-"),isNaN(Number(t[i]))?e+=t[i]:e+=(2.54*Number(t[i])).toFixed(2);return e}if("in"==this.previewSelectedMetric&&this.touched){let e="";t=t.split("-");for(let i=0;i<t.length;i++)0!=i&&i<t.length&&(e+="-"),isNaN(Number(t[i]))?e+=t[i]:e+=(2.54*Number(t[i])).toFixed(2);return e}return t}},data(){return{values:{cm:"cm",inches:"in"},previewSelectedMetric:"cm",selectedMetric:"cm",touched:!1}}},To=Io,Mo=(i("10b2"),Object(S["a"])(To,lo,co,!1,null,"0959bba5",null)),Bo=Mo.exports,ko=i("a89d"),Lo=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal",mode:"out-in"}},[e("modal",{attrs:{isOpen:t.isOpen,title:"PRODUCT REQUEST",modalClass:"productRequestModal"},on:{closedialog:t.closeDialog}},[t.showSuccessScreen?t._e():e("product-request",{attrs:{product:t.productInfo,isPdpPage:t.isPdpPage},on:{formSubmitted:t.showSuccessPage}}),t.showSuccessScreen?e("div",{staticClass:"success-container"},[e("div",{staticClass:"success"},[e("fdk-inline-svg",{attrs:{src:"tick"}}),e("span",{staticClass:"spacing bold-sm"},[t._v("thank you")]),e("span",{staticClass:"spacing regualr-sm"},[t._v("product request received")])],1)]):t._e()],1)],1)},Ro=[],Po=function(){var t=this,e=t._self._c;return t.isOpen?e("transition",{attrs:{name:"modal"}},[e("div",{ref:"modal",staticClass:"modal",class:t.modalClass,attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.closeDialog.apply(null,arguments)}}},[e("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.closeDialog,expression:"closeDialog"}],staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("div",{staticClass:"modal-title bold-sm"},[t._v(t._s(t.title))]),t.isCancelable?e("div",{staticClass:"cross",on:{click:t.closeDialog}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1):t._e()]),e("div",{staticClass:"modal-body"},[t._t("default")],2)])])]):t._e()},Do=[],Oo={name:"modal",props:{isOpen:{type:Boolean,default:!1},title:{type:String},modalClass:{type:String,default:null,required:!1},isCancelable:{type:Boolean,default:!0},childHandleFocus:{type:Boolean,default:!1}},updated(){this.isOpen&&!this.childHandleFocus&&this.$refs.modal&&this.$refs.modal.focus()},methods:{closeDialog(){this.isCancelable&&this.$emit("closedialog")}},components:{},mounted(){this.$root.$el.append(this.$el)},destroyed(){this.$el&&this.$el.parentNode&&"#comment"!==this.$el.nodeName&&this.$el.parentNode.removeChild(this.$el)}},Fo=Oo,No=(i("c784"),Object(S["a"])(Fo,Po,Do,!1,null,"4625549d",null)),Qo=No.exports,Ho=function(){var t=this,e=t._self._c;return e("fdk-product-request",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"main-container"},[e("div",{staticClass:"form-item"},[e("span",{staticClass:"form-title regular-xs"},[t._v("Photos")]),t.medias&&t.medias.length>0?e("div",[e("div",{staticClass:"img-container"},t._l(t.medias,(function(i,n){return e("div",{key:n,staticClass:"image-cont"},[e("img",{staticClass:"image",attrs:{src:i}}),e("div",{staticClass:"delete-btn",on:{click:function(e){return e.stopPropagation(),t.deleteImage(n)}}},[e("fdk-inline-svg",{attrs:{src:"cross-grey"}})],1)])})),0),e("label",{staticClass:"bold-xs add-more-link ukt-links"},[t._v(" Add More Photos "),e("input",{attrs:{type:"file"},on:{change:function(e){return t.openImageUploader(e,i)}}})])]):e("div",[e("label",{staticClass:"container"},[e("fdk-inline-svg",{attrs:{src:"camera"}}),e("div",{staticClass:"bold-sm"},[t._v("Add Photos")]),e("input",{attrs:{type:"file"},on:{change:function(e){return t.openImageUploader(e,i)}}})],1)])]),t._l(t.formFields,(function(i,n){return e("div",{key:"form__"+n,staticClass:"form-item"},[e("span",{staticClass:"form-title regular-xs"},[t._v(t._s(i.label))]),e("div",{staticClass:"form-input"},["checkbox"===i.type?e("input",{directives:[{name:"model",rawName:"v-model",value:i.value,expression:"item.value"}],ref:i.name,refInFor:!0,staticClass:"input",attrs:{name:i.name,autocomplete:"off",type:"checkbox"},domProps:{checked:Array.isArray(i.value)?t._i(i.value,null)>-1:i.value},on:{change:function(e){var n=i.value,r=e.target,s=!!r.checked;if(Array.isArray(n)){var o=null,a=t._i(n,o);r.checked?a<0&&t.$set(i,"value",n.concat([o])):a>-1&&t.$set(i,"value",n.slice(0,a).concat(n.slice(a+1)))}else t.$set(i,"value",s)}}}):"radio"===i.type?e("input",{directives:[{name:"model",rawName:"v-model",value:i.value,expression:"item.value"}],ref:i.name,refInFor:!0,staticClass:"input",attrs:{name:i.name,autocomplete:"off",type:"radio"},domProps:{checked:t._q(i.value,null)},on:{change:function(e){return t.$set(i,"value",null)}}}):e("input",{directives:[{name:"model",rawName:"v-model",value:i.value,expression:"item.value"}],ref:i.name,refInFor:!0,staticClass:"input",attrs:{name:i.name,autocomplete:"off",type:i.type},domProps:{value:i.value},on:{input:function(e){e.target.composing||t.$set(i,"value",e.target.value)}}})])])})),e("div",{staticClass:"form-item"},[e("span",{staticClass:"form-title regular-xs"},[t._v("Size")]),t._l(t.size,(function(i,n){return e("div",{key:n,staticClass:"flex-align"},[e("div",{staticClass:"form-input size-input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.size,expression:"item.size"}],staticClass:"input",attrs:{type:"text",name:"size"},domProps:{value:i.size},on:{input:function(e){e.target.composing||t.$set(i,"size",e.target.value)}}})]),e("div",{staticClass:"qty-control"},[1!=i.quantity?e("button",{staticClass:"operator",on:{click:function(e){return e.stopPropagation(),t.incrDecrQuantity(-1,n)}}},[e("fdk-inline-svg",{attrs:{src:"dec"}})],1):t._e(),1===i.quantity?e("button",{staticClass:"operator",on:{click:function(e){return e.stopPropagation(),t.deleteSizeField("size",n)}}},[e("fdk-inline-svg",{attrs:{src:"delete"}})],1):t._e(),e("div",{staticClass:"qty-amount"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.quantity,expression:"item.quantity"}],staticClass:"light-xs",attrs:{type:"text",name:"qty",autocomplete:"off"},domProps:{value:i.quantity},on:{input:function(e){e.target.composing||t.$set(i,"quantity",e.target.value)}}})]),e("button",{staticClass:"operator",on:{click:function(e){return e.stopPropagation(),t.incrDecrQuantity(1,n)}}},[e("fdk-inline-svg",{attrs:{src:"inc"}})],1)])])})),e("div",{staticClass:"bold-xs add-size-link ukt-links",on:{click:function(e){return e.stopPropagation(),t.addSizeField("size")}}},[t._v(" Add Size ")])],2),t.showError?e("div",{staticClass:"error-msg regular-sm"},[t._v(" "+t._s(t.errorMessage)+" ")]):t._e(),e("div",{staticClass:"submit-btn"},[e("button",{staticClass:"primary-btn btn bold-sm",attrs:{type:t.secondary},on:{click:function(e){return e.stopPropagation(),t.onProductRequest(i)}}},[t._v(" submit ")])])],2)]}}])})},Uo=[],Go={name:"product-request",data(){return{formFields:[{label:"product code",name:"item_id",type:"text",value:""},{label:"brand",name:"brand_name",type:"text",value:this.product&&this.product.brand&&this.product.brand.name||""},{label:"description",name:"description",type:"text",value:""}],size:this.getInitSizeArray(),medias:[],showError:!1,errorMessage:""}},props:{product:{type:Object},isPdpPage:{default:!1,type:Boolean}},mounted(){this.isPdpPage&&(this.medias=this.product.medias.map(t=>t.url))},methods:{isFormValid(){return""===this.formFields[0].value&&""===this.formFields[2].value?(this.showError=!0,this.errorMessage="please enter product code or description",!1):this.isSizeDetailsValid()?(this.showError=!1,this.errorMessage="",!0):(this.showError=!0,this.errorMessage="please enter size details",!1)},isSizeDetailsValid(){var t;return-1===(null===(t=this.getSizeDetails())||void 0===t?void 0:t.findIndex(t=>""==(null===t||void 0===t?void 0:t.size)))&&!!this.getSizeDetails().length},onProductRequest(t){let e=this.createPayload();this.isFormValid()&&t.submitProductRequest(e).then(t=>{this.showError=!1,this.$emit("formSubmitted")}).catch(t=>{throw this.showError=!0,this.errorMessage=t,{message:t}})},createPayload(){return{brand:this.formFields[1].value,description:this.formFields[2].value,medias:this.medias,product_identifier:this.formFields[0].value,item_id:this.product&&this.product.uid||"",size_details:this.getSizeDetails()}},getSizeDetails(){let t=[];for(let e in this.size)t.push({quantity:this.size[e].quantity,size:this.size[e].size});return t},openImageUploader(t,e){let i=t.target.files||t.dataTransfer.files;if(i.length)return e.uploadImageToGrindor(i).then(t=>{let e=t.cdn.url;this.medias.push(e)})},getInitSizeArray(){return[{size:"",quantity:1}]},addSizeField(t){let e={size:{size:"",quantity:1}};this[t]=this[t].concat(e[t])},deleteSizeField(t,e){this[t].splice(e,1)},deleteImage(t){this.medias.splice(t,1)},incrDecrQuantity(t,e){this.size[e].quantity=this.size[e].quantity+t}}},zo=Go,jo=(i("18e3"),Object(S["a"])(zo,Ho,Uo,!1,null,"56a9a70e",null)),Vo=jo.exports,Wo={name:"product-request-modal",extends:Qo,components:{modal:Qo,"product-request":Vo},data(){return{showSuccessScreen:!1}},props:{isOpen:{type:Boolean,default:!1},productInfo:{type:Object},isPdpPage:{default:!1,type:Boolean}},methods:{closeDialog(){this.$emit("closedialog"),this.showSuccessScreen=!1},showSuccessPage(){this.showSuccessScreen=!0,setTimeout(()=>{this.$emit("closedialog"),this.showSuccessScreen=!1},3e3)}}},qo=Wo,Yo=(i("455a"),Object(S["a"])(qo,Lo,Ro,!1,null,"48c7818d",null)),$o=Yo.exports,Jo=function(){var t=this,e=t._self._c;return t.sellerData.length>0?e("div",{staticClass:"main",style:`--color-porsche: #e8a76c;--text_discount_color:${t.global_config.props.text_discount_color};--text_heading_link_color:${t.global_config.props.text_heading_link_color}`},[t.bestOffer?e("div",{staticClass:"title dark-xxs"},[t._v(" "+t._s(t.bestOffer.message)+" ")]):t._e(),e("div",{staticClass:"badge"},[e("svg",{attrs:{width:"52px",height:"52px",viewBox:"0 0 52 52",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[e("title",[t._v("Artboard")]),e("desc",[t._v("Created with Sketch.")]),e("g",{attrs:{id:"Artboard",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[e("polygon",{attrs:{id:"Path-1237-Copy",fill:""+t.get_text_discount_color,transform:"translate(26.000000, 26.000000) scale(-1, 1) translate(-26.000000, -26.000000) ",points:"0 1.16096511e-30 0 51.7456172 27.0177165 43.8663216 52 52 52 0.121036541"}})])]),t.bestOffer?e("div",{staticClass:"badge-discount dark-xs cl-White"},[t._v(" "+t._s(t.bestOffer.margin)+" ")]):t._e(),e("div",{staticClass:"regular-xxxxs cl-White"},[t._v("Margin")])]),t.showMore?e("div",{staticClass:"seller-box"},[t._l(t.sellerData,(function(i,n){return e("div",{key:n},[e("div",{staticClass:"store-name regular-xxxs"},[t._v(" "+t._s(i.seller_name)+" ")]),e("ul",{staticClass:"offers"},t._l(i.offers,(function(i,n){return e("li",{key:n,staticClass:"offer-list regular-xxs"},[t._v(" "+t._s(i.message)+" "),e("span",{staticClass:"margin-text"},[t._v("  "+t._s(i.margin)+" Margin")])])})),0)])})),e("div",{staticClass:"helper",on:{click:function(e){t.showMore=!t.showMore}}},[e("div",{staticClass:"helper-text regular-xxxs"},[t._v("hide offers")]),e("fdk-inline-svg",{class:{"filter-arrow-up":!t.helperArrowDown},attrs:{src:"arrow-dropdown-black"}})],1)],2):t.showMore?t._e():e("div",{staticClass:"seller-box"},[t.bestOffer?e("div",{staticClass:"store-name regular-xxxs"},[t._v(" Sold by : "+t._s(t.bestOffer.seller)+" ")]):t._e(),e("div",{staticClass:"helper",on:{click:function(e){t.showMore=!t.showMore}}},[e("div",{staticClass:"helper-text regular-xxxs"},[t._v(" "+t._s(t.sellerData.length-1?t.sellerData.length-1+" other Sellers":"more offers")+" ")]),e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)])]):t._e()},Xo=[],Ko={name:"storeCoupons",props:{bulkPrices:{},global_config:{}},components:{},data:function(){return{showMore:!1,helperArrowDown:!1,bestOffer:"",sellerData:[]}},mounted(){this.bulkPrices&&this.bulkPrices.data&&this.bulkPrices.data.forEach(t=>{let e={offers:[]};e.seller_name=t.seller.name,t.offers.forEach(t=>{let i={message:`${t.quantity} pieces @ ${this.$options.filters.currencyformat(t.price.bulk_effective)} each`,margin:t.margin+"%"};e.offers.push(i),t.best&&(this.bestOffer={...i,seller:e.seller_name})}),this.sellerData.push(e)})},computed:{get_text_discount_color(){var t,e;return null!==(t=this.global_config)&&void 0!==t&&null!==(e=t.props)&&void 0!==e&&e.text_discount_color?this.global_config.props.text_discount_color:"var(--color-porsche)"}},methods:{}},Zo=Ko,ta=(i("8c80"),Object(S["a"])(Zo,Jo,Xo,!1,null,"a41dbaa6",null)),ea=ta.exports,ia=function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"modal",mode:"out-in"}},[e("modal",{attrs:{isOpen:t.isOpen,title:t.productName,modalClass:"product_metaModal"},on:{closedialog:t.closeDailog}},[t.isDataLoading?e("div",[e("fdk-loader",{staticClass:"loader-ws"})],1):t._e(),t.isDataLoading?t._e():e("div",[e("div",{staticClass:"store-header"},[e("div",[t._v("Available in "+t._s(t.all_stores_info.items.length)+" stores")]),e("div",{staticClass:"filters"},[e("select",{staticClass:"custom-select",on:{change:t.selectionChange}},t._l(t.all_stores_info.sort_on,(function(i){return e("option",{key:i.value,domProps:{value:i.value,selected:i.is_selected}},[t._v(t._s(i.name))])})),0)])]),e("fdk-infinite-scrolling",{attrs:{loadingData:t.loading},on:{loadmore:function(e){return t.loadMoreData(t.sellerData)}}},[e("div",{staticClass:"data"},t._l(t.all_stores_info.items,(function(i){return e("store",{key:i.store_name,attrs:{storeitem:i,activeStoreInfo:t.activeStoreInfo},on:{"select-store-item":t.setActiveStore}})})),1)]),e("div",{staticClass:"modal-footer",on:{click:t.storeSelected}},[e("div",{staticClass:"common-btn checkout"},[t._v("SELECT SELLER")])])],1)])],1)},na=[],ra=function(){var t=this,e=t._self._c;return e("div",{staticClass:"stores"},[e("div",{staticClass:"store-item regular-xxs"},[e("label",[e("input",{attrs:{type:"radio",name:"store_item"},domProps:{value:JSON.stringify(t.storeitem),checked:t.storeitem.selected},on:{click:t.selectStoreItem}}),e("div",{staticClass:"store-info"},[e("div",{staticClass:"store-left"},[t.isActive?t._e():e("fdk-inline-svg",{attrs:{src:"regular"}}),t.isActive?e("fdk-inline-svg",{attrs:{src:"radio-selected"}}):t._e()],1),e("div",{staticClass:"store-right"},[e("div",[e("span",[t._v(t._s(t.storeitem.store.name))]),e("span",[t._v(" "+t._s(","+t.storeitem.seller.name))])]),t.global_config&&t.global_config.props?e("div",[e("span",{staticClass:"effective-price",style:t.storeitem.price.effective!==t.storeitem.price.marked?"color:"+t.global_config.props.text_sale_price_color:""},[t._v(" "+t._s(t._f("currencyformat")(t.storeitem.price.effective)))]),t.storeitem.price.effective!==t.storeitem.price.marked?e("span",{staticClass:"marked-price",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(t._f("currencyformat")(t.storeitem.price.marked)))]):t._e()]):t._e()])])])])])},sa=[],oa={name:"store-item",components:{},props:{storeitem:{},activeStoreInfo:{}},data(){return{isOpen:this.storeitem.isOpen||!1}},computed:{isActive(){return!(!this.activeStoreInfo||this.activeStoreInfo.seller.uid!==this.storeitem.seller.uid||this.activeStoreInfo.store.uid!==this.storeitem.store.uid)}},methods:{selectStoreItem(){this.$emit("select-store-item",this.storeitem)}}},aa=oa,la=(i("0c58"),Object(S["a"])(aa,ra,sa,!1,null,"27a3d7f2",null)),ca=la.exports,ua={name:"store-modal",extends:Qo,components:{modal:Qo,store:ca},props:{isOpen:{type:Boolean,default:!1},sellerData:{},activeStoreInfo:{},productName:String,all_stores_info:{}},data(){return{inProgress:!1}},computed:{isDataLoading(){return null===this.all_stores_info}},methods:{loadMoreData(t){this.all_stores_info.page.has_next&&(this.loading=!0,t.loadMoreStores().then(t=>{this.loading=!1}))},closeDailog(){this.$emit("closedialog")},setActiveStore(t){this.activeStoreInfo=t},selectionChange(t){this.$emit("store-filter",t.target.value)},storeSelected(){this.$emit("store-item-select",this.activeStoreInfo)},getselectedStore(){let t=document.querySelectorAll("input[name=store_item]");for(let e=0;e<t.length;e++)if(t[e].checked)return JSON.parse(t[e].value);return null}}},ha=ua,da=(i("8d6e"),Object(S["a"])(ha,ia,na,!1,null,"3963ecfd",null)),pa=da.exports,fa=function(){var t=this,e=t._self._c;return t.variants&&t.variants.length>0?e("div",{staticClass:"product-variants"},t._l(t.variants,(function(i,n){return e("div",{key:i.header+n},["is_set"===i.key?[t._l(i.items,(function(i,n){return[t.isProductSet!==i.value?[e("div",{key:i.slug+n,staticClass:"help light-xxs"},[t._v(" Interested in "+t._s(t.getVariantSetText)+"? "),e("fdk-link",{staticClass:"ukt-links",attrs:{link:t.getProductLink(i)}},[t._v(" Pick "+t._s(t.getVariantSetText)+" ")])],1)]:t._e()]}))]:[e("div",{staticClass:"ukt-title"},[t._v(t._s(i.header))]),"image"===i.display_type?e("div",[e("div",{staticClass:"variant-container"},t._l(i.items,(function(i,n){return e("div",{key:i.slug+n,staticClass:"variant-item-image",class:{variantsel:t.isVariantSelected(i),available:!i.is_available}},[e("fdk-link",{attrs:{link:t.getProductLink(i)}},[e("emerge-image",{attrs:{src:t.getImageURL(i),sources:[{width:50}],alt:i.name}})],1)],1)})),0)]):"color"===i.display_type?e("div",[e("div",{staticClass:"variant-container"},t._l(i.items,(function(i,n){return e("div",{key:i.slug+n,staticClass:"variant-item-color",class:{variantselcolor:t.isVariantSelected(i)}},[e("fdk-link",{attrs:{link:t.getProductLink(i)}},[e("div",{staticClass:"color",style:{background:"#"+i.color}})])],1)})),0)]):"text"===i.display_type?e("div",[e("div",{staticClass:"variant-container"},t._l(i.items,(function(i,n){return e("div",{key:i.slug+n,staticClass:"variant-item-text",class:{variantsel:t.isVariantSelected(i),available:!i.is_available}},[e("fdk-link",{attrs:{link:t.getProductLink(i)}},[e("div",[t._v(t._s(i.value))])])],1)})),0)]):t._e()]],2)})),0):t._e()},ga=[],ma={name:"product-variants",components:{"emerge-image":Z},props:{variants:{type:Array},product:{}},computed:{isProductSet(){return this.product.is_set},getVariantSetText(){return this.isProductSet?"Size":"Set"}},methods:{getProductLink(t){return"/product/"+t.slug},getImageURL(t){return Array.isArray(t.medias)&&t.medias.length>0?t.medias[0].url:""},isVariantSelected(t){return t.slug===this.$route.params.slug}}},va=ma,Aa=(i("c708"),Object(S["a"])(va,fa,ga,!1,null,"9e7d26a0",null)),ya=Aa.exports,_a=function(){var t=this,e=t._self._c;return e("div",{staticClass:"gallery-box"},[e("div",{staticClass:"image-gallery desktop"},[e("div",{ref:"itemwrapper",staticClass:"image-box",on:{mousemove:t.onmousemove,mouseleave:t.onmouseleave}},[e("pic-zoom",{key:t.currentImageIndex,staticClass:"image-item",attrs:{source:t.src,type:t.type},on:{clickimage:t.openGallery,onVideoHover:t.onmouseleave}}),e("div",{ref:"grid",staticClass:"mouse-cover"}),e("div",{staticClass:"clearfix"})],1),e("div",{staticClass:"thumb-slider"},[e("ul",{ref:"scrollCont",staticClass:"image-gallery__list scrollbar-hidden"},t._l(t.images,(function(n,r){return e("li",{key:r,class:{flexAlign:"video"===n.type},on:{click:function(e){return t.setMainImage(r)}}},["image"===n.type?e("img",{ref:"imageItem"+r,refInFor:!0,staticClass:"image-gallery__list--item animated faadeIn",class:{active:t.currentImageIndex===r},attrs:{src:t._f("imagetransform")(n.url,{width:75})}}):t._e(),"video"===n.type?e("video",{ref:"imageItem"+r,refInFor:!0,staticClass:"image-gallery__list--item animated faadeIn",class:{active:t.currentImageIndex===r},attrs:{src:n.url}}):t._e(),"3d_model"===n.type?e("div",{ref:"imageItem"+r,refInFor:!0,staticClass:"image-gallery__list--item animated faadeIn type-3d_model"},[e("img",{attrs:{src:i("7f3a")}})]):t._e()])})),0),e("div",{staticClass:"arrows"},[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-gallery",on:{click:t.prevSlide}},[e("img",{attrs:{src:i("96bf")}})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-gallery",on:{click:t.nextSlide}},[e("img",{attrs:{src:i("9f9b")}})])])])]),e("div",{staticClass:"mobile"},[e("mobile-carousel",{ref:"carousel",attrs:{images:t.images},on:{clickimage:t.openGallery}})],1),e("LightBox",{ref:"lightbox",attrs:{images:t.images,"show-caption":!1,"show-light-box":!1}})],1)},ba=[],wa=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mobile-pdp-carousel-box"},[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.images,(function(i,n){return e("div",{key:"slide"+n,staticClass:"glide__slide"},[e("div",{staticClass:"image-wrapper",on:{click:function(e){return t.openGallery(n)}}},["image"===i.type?e("img",{attrs:{src:i.url.replace("resize-w:540","original")}}):t._e(),"video"===i.type?e("div",{staticClass:"video-container"},[e("video",{staticClass:"originalVideo",attrs:{src:i.url}}),e("div",{staticClass:"thumbnail"})]):t._e(),"3d_model"===i.type&&t.isMounted?e("div",{staticClass:"type-3d_model"},[e("no-ssr",[e("viewer-3d",{attrs:{src:i.url,prompt:"none"}})],1),t._m(0,!0)],1):t._e()])])})),0)]),e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.images.length,1),(function(t,i){return e("button",{key:i,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+t}})})),0)])])},xa=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"overlay-icon"},[e("img",{attrs:{src:i("7f3a")}})])}],Ca={props:{images:{type:Array}},components:{"emerge-image":Z,"no-ssr":ts.a,"viewer-3d":()=>ot["isNode"]?Promise.resolve(null):Promise.resolve(i("2de9"))},data(){return{isMounted:!1,innerCarousalCurrentIndex:0,glideOptions:{type:"carousel",startAt:0,gap:0,perView:1},carouselHandle:null}},mounted(){this.isMounted=!0,this.initCarousel()},watch:{},methods:{checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,initCarousel(){ot["isNode"]||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{this.carouselHandle=new ar(this.$refs.glide,this.glideOptions);let t=this.$refs.glide.getAttribute("class");this.carouselHandle.on(["move.after"],()=>{let e=document.querySelectorAll(`.${t} [data-glide-dir]`);e&&e.length>0&&e.forEach(t=>{t.classList.remove("glide__bullet--active")});let i=this.carouselHandle?document.querySelectorAll(`.${t} [data-glide-dir='=${this.carouselHandle.index}']`):null;i&&i.length>0&&i[0].classList.add("glide__bullet--active")}),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},openGallery(t){this.$emit("clickimage",t)}},beforeDestroy(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},Ea=Ca,Sa=(i("bee2"),Object(S["a"])(Ea,wa,xa,!1,null,"10042cde",null)),Ia=Sa.exports,Ta=function(){var t=this,e=t._self._c;return e("div",["image"===t.type?e("div",{staticClass:"load-image"},[e("img",{directives:[{name:"show",rawName:"v-show",value:!t.isLoading,expression:"!isLoading"}],staticClass:"pdp-image animated fadeIn",attrs:{src:t.source},on:{mouseover:t.onMouseOver,click:t.openGallery,load:t.OriginalImageLoaded}}),e("img",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],attrs:{src:i("94ba")}})]):t._e(),"video"===t.type?e("div",{staticClass:"video-container",on:{mouseover:t.mouseover,click:t.openGallery}},[e("video",{staticClass:"originalVideo",attrs:{src:t.getOriginalImage(),"data-loaded":"false",controls:""}})]):t._e(),"3d_model"===t.type&&t.isMounted?e("div",{staticClass:"type-3d_model"},[e("no-ssr",[e("viewer-3d",{attrs:{src:t.getOriginalImage()}})],1),e("div",{staticClass:"expand-btn",on:{click:t.openGallery}},[e("img",{attrs:{src:i("ddda")}})])],1):t._e()])},Ma=[];var Ba={name:"piczoom",props:{source:{type:String,required:!0},type:{type:String},product:{},key:null},components:{"no-ssr":ts.a,"viewer-3d":()=>ot["isNode"]?Promise.resolve(null):Promise.resolve(i("2de9"))},data(){return{isLoading:!1,imageFullyLoaded:!0,imageLoading:!1,isMounted:!1,isLoading:!1}},watch:{source(t,e){t!==e&&(this.isLoading=!0)}},mounted(){this.loader=!0,this.isMounted=!0},computed:{getProductColor(){return this.imageFullyLoaded?"":this.product.attributes?"#"+this.product.attributes.primary_color_hex:""},getPDPImageURL(){return this.source}},methods:{imageLoaded(t){this.imageFullyLoaded=!0},getOriginalImage(){return this.source},openGallery(){this.$emit("clickimage",this.$vnode.key)},onMouseOver(){let t=this.$refs["original_"+this.$vnode.key];t&&(t.src=this.getOriginalImage(this.source))},OriginalImageLoaded(){let t=this.$refs["original_"+this.$vnode.key];t&&(t["data-loaded"]=!0),this.isLoading=!1}}},ka=Ba,La=(i("37b0"),Object(S["a"])(ka,Ta,Ma,!1,null,"614e18fb",null)),Ra=La.exports,Pa=function(){var t=this,e=t._self._c;return e("div",{on:{click:function(e){return e.stopPropagation(),t.closeLightBox.apply(null,arguments)}}},[t.images&&t.images.length>0?e("div",{directives:[{name:"show",rawName:"v-show",value:t.lightBoxOn,expression:"lightBoxOn"}],ref:"container",staticClass:"vue-lb-container"},[e("div",{staticClass:"vue-lb-content"},[e("div",{staticClass:"vue-lb-header"},[e("span"),e("button",{staticClass:"vue-lb-button-close",attrs:{type:"button",title:t.closeText}},[t._t("close",(function(){return[e("span",[e("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M443.6,387.1L312.4,255.4l131.5-130c5.4-5.4,5.4-14.2,0-19.6l-37.4-37.6c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4 L256,197.8L124.9,68.3c-2.6-2.6-6.1-4-9.8-4c-3.7,0-7.2,1.5-9.8,4L68,105.9c-5.4,5.4-5.4,14.2,0,19.6l131.5,130L68.4,387.1 c-2.6,2.6-4.1,6.1-4.1,9.8c0,3.7,1.4,7.2,4.1,9.8l37.4,37.6c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1L256,313.1l130.7,131.1 c2.7,2.7,6.2,4.1,9.8,4.1c3.5,0,7.1-1.3,9.8-4.1l37.4-37.6c2.6-2.6,4.1-6.1,4.1-9.8C447.7,393.2,446.2,389.7,443.6,387.1z"}})])])]}))],2)]),e("div",{staticClass:"vue-lb-figure",on:{click:function(t){t.stopPropagation()}}},[e("transition",{attrs:{mode:"out-in",name:"fade"}},[t.selectLoading?void 0:["image"===t.images[t.select].type?e("img",{key:t.images[t.select].url,staticClass:"vue-lb-modal-image",attrs:{src:t.images[t.select].url.replace("resize-w:540","original"),srcset:t.images[t.select].srcset||""}}):t._e(),"video"===t.images[t.select].type?e("video",{ref:"videoPlayer",staticClass:"vue-lb-modal-image",attrs:{src:t.images[t.select].url,srcset:t.images[t.select].srcset||"",controls:""}}):t._e(),"3d_model"===t.images[t.select].type&&t.isMounted?e("div",{staticClass:"vue-lb-modal-image type-3d_model"},[e("no-ssr",[e("viewer-3d",{attrs:{src:t.images[t.select].url}})],1)],1):t._e()]],2),e("div",{directives:[{name:"show",rawName:"v-show",value:t.showCaption&&t.images[t.select].caption,expression:"showCaption && images[select].caption"}],staticClass:"vue-lb-info",domProps:{innerHTML:t._s(t.images[t.select].caption)}}),e("div",{staticClass:"vue-lb-footer"},[e("div",{staticClass:"vue-lb-footer-info"}),e("div",{staticClass:"vue-lb-footer-count"},[t._t("footer",(function(){return[t._v(t._s(t.select+1)+" / "+t._s(t.images.length))]}),{current:t.select+1,total:t.images.length})],2)])],1)]),e("div",{staticClass:"vue-lb-thumbnail-wrapper"},[t.showThumbs?e("div",{staticClass:"vue-lb-thumbnail"},[t.images.length>1?e("button",{staticClass:"vue-lb-thumbnail-arrow vue-lb-thumbnail-left",attrs:{type:"button",title:t.previousThumbText},on:{click:function(e){return e.stopPropagation(),t.previousImage()}}},[t._t("previousThumb",(function(){return[e("span",[e("svg",{attrs:{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"}})])])]}))],2):t._e(),t._l(t.imagesThumb,(function(n,r){return e("div",{directives:[{name:"show",rawName:"v-show",value:r>=t.thumbIndex.begin&&r<=t.thumbIndex.end,expression:"index >= thumbIndex.begin && index <= thumbIndex.end"}],key:"string"===typeof n?`${n}${r}`:r,on:{click:function(e){return e.stopPropagation(),t.showImage(r)}}},["image"===n.type?e("img",{class:"vue-lb-modal-thumbnail"+(t.select===r?"-active":""),attrs:{src:n.src}}):"video"===n.type?e("video",{class:"vue-lb-modal-thumbnail"+(t.select===r?"-active":""),attrs:{src:n.src}}):t._e(),"3d_model"===n.type&&t.isMounted?e("div",{staticClass:"type-3d_model",class:"vue-lb-modal-thumbnail"+(t.select===r?"-active":"")},[e("img",{attrs:{src:i("7f3a")}})]):t._e()])})),t.images.length>1?e("button",{staticClass:"vue-lb-thumbnail-arrow vue-lb-thumbnail-right",attrs:{type:"button",title:t.nextThumbText},on:{click:function(e){return e.stopPropagation(),t.nextImage()}}},[t._t("nextThumb",(function(){return[e("span",[e("svg",{attrs:{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"}})])])]}))],2):t._e()],2):t._e()]),t.images.length>1?e("button",{staticClass:"vue-lb-arrow vue-lb-left",attrs:{type:"button",title:t.previousText},on:{click:function(e){return e.stopPropagation(),t.previousImage()}}},[t._t("previous",(function(){return[e("span",[e("svg",{attrs:{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512"}},[e("path",{attrs:{d:"M213.7,256L213.7,256L213.7,256L380.9,81.9c4.2-4.3,4.1-11.4-0.2-15.8l-29.9-30.6c-4.3-4.4-11.3-4.5-15.5-0.2L131.1,247.9 c-2.2,2.2-3.2,5.2-3,8.1c-0.1,3,0.9,5.9,3,8.1l204.2,212.7c4.2,4.3,11.2,4.2,15.5-0.2l29.9-30.6c4.3-4.4,4.4-11.5,0.2-15.8 L213.7,256z"}})])])]}))],2):t._e(),t.images.length>1?e("button",{staticClass:"vue-lb-arrow vue-lb-right",attrs:{type:"button",title:t.nextText},on:{click:function(e){return e.stopPropagation(),t.nextImage()}}},[t._t("next",(function(){return[e("span",[e("svg",{attrs:{fill:"white",x:"0px",y:"0px",width:"100%",height:"100%",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M298.3,256L298.3,256L298.3,256L131.1,81.9c-4.2-4.3-4.1-11.4,0.2-15.8l29.9-30.6c4.3-4.4,11.3-4.5,15.5-0.2l204.2,212.7 c2.2,2.2,3.2,5.2,3,8.1c0.1,3-0.9,5.9-3,8.1L176.7,476.8c-4.2,4.3-11.2,4.2-15.5-0.2L131.3,446c-4.3-4.4-4.4-11.5-0.2-15.8 L298.3,256z"}})])])]}))],2):t._e()]):t._e()])},Da=[];const Oa="ORIGINAL",Fa="thumb",Na=["270x0","540x0","720x0"],Qa={[Oa]:"original",[Fa]:"50x0"};function Ha(t,e){let i=e,n="";for(let r=0;r<Na.length;r++){let e=`\\/${Na[r]}\\/`;n=new RegExp(e,"g"),n.test(i)&&(i=i.replace(n,`/${Qa[t]}/`))}return i}let Ua;"undefined"!==typeof window&&(Ua=i("c8b5"));var Ga={name:"lightbox-image",props:{images:{type:Array,required:!0},disableScroll:{type:Boolean,default:!0},showLightBox:{type:Boolean,default:!0},startAt:{type:Number,default:0},nThumbs:{type:Number,default:7},showThumbs:{type:Boolean,default:!0},autoPlay:{type:Boolean,default:!1},autoPlayTime:{type:Number,default:3e3},siteLoading:{default:null},showCaption:{type:Boolean,default:!1},lengthToLoadMore:{type:Number,default:0},closeText:{type:String,default:"Close (Esc)"},previousText:{type:String,default:"Previous"},nextText:{type:String,default:"Next"},previousThumbText:{type:String,default:"Previous"},nextThumbText:{type:String,default:"Next"}},extends:Qo,components:{"no-ssr":ts.a,"viewer-3d":()=>ot["isNode"]?Promise.resolve(null):Promise.resolve(i("2de9"))},data(){return{select:this.startAt,lightBoxOn:this.showLightBox,timer:null,isMounted:!1,selectLoading:!1}},computed:{thumbIndex(){const t=Math.floor(this.nThumbs/2);return this.select>=t&&this.select<this.images.length-t?{begin:this.select-t+(1-this.nThumbs%2),end:this.select+t}:this.select<t?{begin:0,end:this.nThumbs-1}:{begin:this.images.length-this.nThumbs,end:this.images.length-1}},imagesThumb(){return this.siteLoading?this.images.map(t=>({src:t.url.replace("resize-w:540","original"),type:t.type,loading:this.siteLoading,error:this.siteLoading})):this.images.map(t=>({src:t.url.replace("resize-w:540","original"),type:t.type}))}},watch:{lightBoxOn(t){null!=document&&this.onToggleLightBox(t)},select(){this.select>=this.images.length-this.lengthToLoadMore-1&&this.$emit("onLoad"),this.select===this.images.length-1&&this.$emit("onLastIndex"),0===this.select&&this.$emit("onFirstIndex"),this.select===this.startAt&&this.$emit("onStartIndex")}},mounted(){if(this.autoPlay&&(this.timer=setInterval(()=>{this.nextImage()},this.autoPlayTime)),this.onToggleLightBox(this.lightBoxOn),this.$refs.container){const t=new Ua(this.$refs.container);t.on("swiperight",()=>{this.previousImage()}),t.on("swipeleft",()=>{this.nextImage()})}this.isMounted=!0},methods:{getImageURL:Ha,onToggleLightBox(t){this.disableScroll&&document.querySelector("html").classList.toggle("no-scroll",t),document.querySelector("body").classList.toggle("hide-overflow",t),this.$emit("onOpened",t),t?document.addEventListener("keydown",this.addKeyEvent):document.removeEventListener("keydown",this.addKeyEvent)},showImage(t){this.$set(this,"lightBoxOn",!0),this.$set(this,"selectLoading",!0),setTimeout(()=>{this.$set(this,"select",t),this.$set(this,"selectLoading",!1)},1)},addKeyEvent(t){37===t.keyCode&&this.previousImage(),39===t.keyCode&&this.nextImage(),27===t.keyCode&&this.closeLightBox()},closeLightBox(){this.$set(this,"lightBoxOn",!1),this.$refs.videoPlayer&&this.handleVideoPlayback()},handleVideoPlayback(){this.$refs.videoPlayer.pause(),this.$refs.videoPlayer.currentTime=0},nextImage(){this.$set(this,"selectLoading",!0),setTimeout(()=>{this.$set(this,"select",(this.select+1)%this.images.length),this.$set(this,"selectLoading",!1)},1)},previousImage(){this.$set(this,"selectLoading",!0),setTimeout(()=>{this.$set(this,"select",(this.select+this.images.length-1)%this.images.length),this.$set(this,"selectLoading",!1)},1)}},beforeDestroy(){document.removeEventListener("keydown",this.addKeyEvent),this.autoPlay&&clearInterval(this.timer)}},za=Ga,ja=(i("d06f"),Object(S["a"])(za,Pa,Da,!1,null,"2e18e25c",null)),Va=ja.exports,Wa={name:"pdp-image-gallery",components:{"mobile-carousel":Ia,"pic-zoom":Ra,LightBox:Va,"no-ssr":ts.a,"viewer-3d":()=>ot["isNode"]?Promise.resolve(null):Promise.resolve(i("2de9"))},props:{images:{type:Array}},data(){return{isMounted:!1,imageLoading:!1,currentImageIndex:0,src:this.images[0].url.replace("resize-w:540","original"),type:this.images[0].type}},mounted(){this.isMounted=!0},watch:{images(t){this.src=t[0]&&t[0].url,this.type=t[0]&&t[0].type}},computed:{},methods:{setMainImage(t){this.imageLoading=!0,this.src=this.images[t].url,this.type=this.images[t].type,this.currentImageIndex=t,setTimeout(()=>{this.imageLoading=!1},300)},prevSlide(){0!==this.currentImageIndex&&(this.$refs.scrollCont.scrollLeft-=70,this.imageLoading=!0,this.currentImageIndex--,this.src=this.images[this.currentImageIndex].url,this.type=this.images[this.currentImageIndex].type,setTimeout(()=>{this.imageLoading=!1},300))},nextSlide(){this.currentImageIndex!==this.images.length-1&&(this.$refs.scrollCont.scrollLeft+=70,this.imageLoading=!0,this.currentImageIndex++,this.src=this.images[this.currentImageIndex].url,this.type=this.images[this.currentImageIndex].type,setTimeout(()=>{this.imageLoading=!1},300))},openGallery(t){this.$refs.lightbox.showImage(Number(t))},onmousemove(t){if(lt())return;let e=this.$refs["grid"],i=t.srcElement,n=this.$refs["itemwrapper"];if(e&&i&&i instanceof HTMLImageElement&&i.classList.contains("pdp-image")){function r(t){var e=null,i=null,n=t.offsetParent;e+=t.offsetLeft,i+=t.offsetTop;while(n)ot["isBrowser"]&&-1===navigator.userAgent.indexOf("MSIE 8.0")&&(e+=n.clientLeft,i+=n.clientTop),e+=n.offsetLeft,i+=n.offsetTop,n=n.offsetParent;return{left:e,top:i}}function s(t){return{x:t.clientX-e.offsetWidth/2,y:t.clientY-e.offsetHeight/2}}e.style.display="block";let o=s(t),a=r(n),l={minX:a.left,maxX:a.left+n.offsetWidth-e.offsetWidth,minY:a.top-document.documentElement.scrollTop,maxY:a.top-document.documentElement.scrollTop+n.offsetHeight-e.offsetHeight};o.x>l.maxX&&(o.x=l.maxX),o.x<l.minX&&(o.x=l.minX),o.y>l.maxY&&(o.y=l.maxY),o.y<l.minY&&(o.y=l.minY),e.style.left=o.x+"px",e.style.top=o.y+"px";let c={left:(null===e||void 0===e?void 0:e.getBoundingClientRect().x)-(null===i||void 0===i?void 0:i.getBoundingClientRect().x),top:(null===e||void 0===e?void 0:e.getBoundingClientRect().y)-(null===i||void 0===i?void 0:i.getBoundingClientRect().y),height:100,width:100};this.$emit("paint-canvas",{image:i.nextElementSibling instanceof HTMLImageElement&&i.nextElementSibling["data-loaded"]?i.nextElementSibling:i,imageInGrid:i,gridRect:c,show:!0})}},onmouseleave(t){let e=this.$refs["grid"];e&&(e.style.display="none",this.$emit("paint-canvas",{show:!1}))}}},qa=Wa,Ya=(i("7bd5"),Object(S["a"])(qa,_a,ba,!1,null,"3f1e5fd0",null)),$a=Ya.exports,Ja=function(){var t=this,e=t._self._c;return e("div",{staticClass:"size-set cl-Mako"},[e("div",{staticClass:"space bold-xs"},[t._v(" "+t._s(t.storeInfo.set.quantity)+" Pcs | "+t._s(t.getProductPrice("effective"))+" ")]),e("hr",{staticClass:"space"}),e("div",{staticClass:"space regular-xs"},[t._v(" "+t._s(t._f("currencyformat")(t.storeInfo.price_per_piece.effective))+" /Pcs ")]),e("div",{staticClass:"table"},[t._m(0),e("div",{staticClass:"sets"},t._l(t.storeInfo.set.size_distribution.sizes,(function(i,n){return e("div",{key:n,staticClass:"item regular-xs"},[e("div",{staticClass:"size"},[t._v(t._s(i.size))]),e("div",{staticClass:"piece"},[t._v(t._s(i.pieces))])])})),0)])])},Xa=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"header bold-xs"},[e("div",{staticClass:"bar"},[t._v("Sizes")]),e("div",[t._v("Pieces")])])}],Ka={name:"size-set-info",props:{storeInfo:{}},computed:{},methods:{getProductPrice(t){if(this.storeInfo)return this.$options.filters.currencyformat(this.storeInfo.price[t])}}},Za=Ka,tl=(i("f537"),Object(S["a"])(Za,Ja,Xa,!1,null,"7a7b6870",null)),el=tl.exports,il=function(){var t=this,e=t._self._c;return e("fdk-pincode",{ref:"pdpPincode",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"delivery-info"},[t.isMounted&&t.getPincode()?e("div",{staticClass:"delivery"},[e("span",{staticClass:"darker-xs"},[t._v("Delivery to "+t._s(t.getPincode()))]),e("span",[e("a",{staticClass:"ukt-links",staticStyle:{color:"var(--text_heading_link_color)"},on:{click:function(e){t.addressModal=!0}}},[t._v(" Edit Pincode")])]),t.pincodeError?e("p",{staticClass:"error light-xxs"},[t._v(" "+t._s(t.errMsg)+" ")]):t._e()]):t._e(),t.storeInfo&&t.deliveryInfo&&t.deliveryInfo.minDeliveryDate&&!t.error&&!t.pincodeError?[t.deliveryInfo.minDeliveryDate===t.deliveryInfo.maxDeliveryDate?e("div",[e("div",{staticClass:"delivery-date light-xxs"},[t._v(" Expected delivery on "+t._s(t.deliveryInfo.minDeliveryDate)+" ")])]):e("div",[e("div",{staticClass:"delivery-date light-xxs"},[t._v(" Expected delivery between "+t._s(t.deliveryInfo.minDeliveryDate)+" - "+t._s(t.deliveryInfo.maxDeliveryDate)+" ")])])]:t._e()],2),e("address-list-modal",{attrs:{isOpen:t.showUserPincodeModal||t.addressModal,tatInfo:t.tatInfo,isExplicitelySelectedStore:t.isExplicitelySelectedStore,id:t.id,context:t.context,errMsg:t.errMsg,pincodeError:t.pincodeError},on:{closedialog:t.onCloseDialog,newPincodeReceived:t.onNewPincodeReceived,showTatError:function(e){return t.onTatError(e)},hideTatError:t.onHideTatError,onTatSuccess:function(e){return t.getTatInfo(e)}}})]}}])})},nl=[],rl=function(){var t=this,e=t._self._c;return e("modal",{attrs:{isOpen:t.isOpen,title:"DELIVERY"},on:{closedialog:t.closeDailog}},[e("fdk-addresses",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("fdk-pincode",{ref:"pdp-pincode",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"main"},[e("div",{staticClass:"helper light-xs"},[t._v(" Delivery time may vary with Delivery pincode ")]),e("div",{staticClass:"title bold-sm"},[t._v("CHECK PINCODE")]),e("div",{staticClass:"pincode-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.pincode_value,expression:"pincode_value"}],staticClass:"common-input pincode-input",attrs:{autocomplete:"off",placeholder:"Enter Pincode",type:"text"},domProps:{value:t.pincode_value},on:{input:function(e){e.target.composing||(t.pincode_value=e.target.value)}}}),e("button",{staticClass:"button bold-sm",on:{click:function(e){return t.checkPincode(n)}}},[t._v(" CHECK ")]),t.inProgress?e("fdk-loader"):t._e()],1),e("div",{staticClass:"regular-xxxxs",class:[{visible:t.showError},"error"]},[t._v(" "+t._s(t.error)+" ")]),i.addresses&&i.addresses?e("div",[e("div",{staticClass:"address-container"},t._l(i.addresses.address,(function(i,r){return e("label",{key:r},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedAddress,expression:"selectedAddress"}],attrs:{type:"radio",name:"address"},domProps:{value:i,checked:t._q(t.selectedAddress,i)},on:{click:function(e){return t.selectAddress(i,n)},change:function(e){t.selectedAddress=i}}}),e("div",{staticClass:"address-item"},[e("div",{staticClass:"address-left"},[t.selectedAddress.uid!==i.uid?e("fdk-inline-svg",{attrs:{src:"regular"}}):t._e(),t.selectedAddress.uid===i.uid?e("fdk-inline-svg",{attrs:{src:"radio-selected"}}):t._e()],1),e("div",{staticClass:"address-right"},[e("div",{staticClass:"user-meta"},[t._v(" "+t._s(i.name)+" | "+t._s(i.phone)+" ")]),e("div",{staticClass:"address-meta regular-xxs"},[e("span",{staticClass:"address-type"},[t._v(t._s(i.address_type))]),e("span",{staticClass:"address"},[t._v(" - "+t._s(i.address)+", "+t._s(i.landmark)+", "+t._s(i.area)+", "+t._s(i.city))]),e("span",[t._v(" - "+t._s(i.pincode))])])])])])})),0)]):t._e()])]}}],null,!0)})]}}])})],1)},sl=[];const ol={removeItem(t){ot["isBrowser"]&&localStorage.removeItem(t)},removeAll(){ot["isBrowser"]&&localStorage.clear()},addOrUpdateItem(t,e,i=null){if(ot["isBrowser"]&&e){const n=hl(t,e,i);let r=JSON.stringify(n);localStorage.setItem(t,r)}},getItem(t){if(ot["isBrowser"]){let i=localStorage.getItem(t);if(i){const n=JSON.parse(i);try{return ul(n)?(this.removeItem(t),null):n.value}catch(e){return null}}return null}}},al={TOKEN:"m_token",THEME:"m_theme",CURRENCY:"m_currency",PREVIOUS_SEARCHES:"m_prevSearches",USER_PINCODE:"m_userPincode",USER_CART:"m_usercart",WISHLIST_UIDS:"m_wishlistUids",COMPARE_UIDS:"m_compareUids",ORDERING_STORE:"m_orderingStore",DEPLOYMENT_STORE:"m_deploymentStore"},ll={[al.USER_PINCODE]:{}};function cl(){return Date.now()}function ul(t){return!!t.ls_ttl_ms&&cl()-(t.ls_timestamp+t.ls_ttl_ms)>0}function hl(t,e,i=null){const n={ls_timestamp:cl(),value:e};return ll[t]?Object.assign({},n,ll[t]):i?Object.assign({},n,{ls_ttl_ms:i}):n}var dl={name:"address-modal",components:{modal:Qo},props:{isOpen:{type:Boolean,default:!1},pincodeError:{type:Boolean},errMsg:"",storeInfo:Object,tatInfo:Object,isExplicitelySelectedStore:{type:Boolean}},computed:{},mounted(){},data(){return{pincode_value:ol.getItem(al.USER_PINCODE)||"",error:"-",showError:!1,selectedAddress:{},inProgress:!1,deliveryInfo:{},pincodeFunction:null}},methods:{selectAddress(t,e){this.showError=!1,this.pincode_value=""+t.area_code,this.checkPincode(e)},showTatError(t){this.$emit("showTatError",t)},checkPincode(t){this.pincodeFunction=t,6===this.pincode_value.length?t.validatePincode(this.pincode_value).then(e=>{e&&(this.pincodeReceived(t),this.$emit("hideTatError"))}).catch(t=>{this.showTatError(t),this.errMsg=t.message,this.pincodeError=!0,this.error=t.message,this.showErr(this.error)}):(this.error="Invalid pincode",this.pincodeError=!0,this.showErr(this.error))},pincodeReceived(t){let e={pincode_value:this.pincode_value,pincode_act:t};this.$emit("newPincodeReceived",e),this.$emit("closedialog"),this.inProgress=!1},showErr(t){this.error=t,this.showError=!0,this.inProgress=!1},closeDailog(){this.$emit("closedialog"),this.showError=!1}}},pl=dl,fl=(i("dfff"),Object(S["a"])(pl,rl,sl,!1,null,"7a7c8326",null)),gl=fl.exports,ml=i("13ea"),vl=i.n(ml),Al={name:"delivery-info",props:{storeInfo:{},productName:"",level:"",id:{type:Number},context:{},showUserPincodeModal:"",isExplicitelySelectedStore:""},watch:{storeInfo(){this.storeInfo&&(this.fromPincode=""+this.storeInfo.pincode,this.toPincode=ol.getItem(al.USER_PINCODE),this.getTatInfo())},deliveryInfo(t){this.deliveryInfo=t}},data(){return{toPincode:ol.getItem(al.USER_PINCODE)||"",fromPincode:"",errMsg:null,addressModal:!1,tatInfo:{},pincodeError:!1,deliveryInfo:{},error:!1,isMounted:!1,pincodeFunction:null}},components:{"address-list-modal":gl},mounted(){this.isMounted=!0,this.showUserPincodeModal||vl()(this.storeInfo)||this.getTatInfo()},methods:{onCloseDialog(){this.pincodeError=!1,this.addressModal=!1,this.$emit("dialogClosed")},getPincode(){return this.toPincode?this.toPincode:ol.getItem(al.USER_PINCODE)},showTatError(t){this.$emit("showTatError",t.message)},onTatError(t){this.showTatError(t)},onHideTatError(){this.$emit("hideTatError")},onNewPincodeReceived(t){let e=t.pincode_value;this.pincodeFunction=t.pincode_act,ol.addOrUpdateItem(al.USER_PINCODE,e),this.toPincode=e},getTatInfo(){var t;this.storeInfo&&this.$refs["pdpPincode"]&&(this.tatInfo={toPincode:this.toPincode||ol.getItem(al.USER_PINCODE),fromPincode:""+this.storeInfo.pincode,categoryId:this.id,store_id:this.storeInfo.store.uid},null===(t=this.$refs["pdpPincode"])||void 0===t||t.getTat(this.tatInfo).then(t=>{this.deliveryInfo=t}).catch(t=>{this.pincodeError=!0,this.$emit("showTatError",t.message),this.errMsg=t.message,this.isPinCodeValid=!1}))}}},yl=Al,_l=(i("5bab"),Object(S["a"])(yl,il,nl,!1,null,"245abb26",null)),bl=_l.exports,wl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"rating-box",class:{large:"large"===t.size,medium:"medium"===t.size,small:"small"===t.size}},[e("span",[t._v(" "+t._s(t.stars)+" ")]),e("img",{attrs:{src:t.STAR_IMG}})])},xl=[],Cl={name:"rating-star",props:{stars:{type:Number,default:0},size:{type:String,default:"large"}},data(){return{STAR_IMG:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiI+PHBhdGggZmlsbD0iI0ZGRiIgZD0iTTYuNSA5LjQzOWwtMy42NzQgMi4yMy45NC00LjI2LTMuMjEtMi44ODMgNC4yNTQtLjQwNEw2LjUuMTEybDEuNjkgNC4wMSA0LjI1NC40MDQtMy4yMSAyLjg4Mi45NCA0LjI2eiIvPjwvc3ZnPg=="}}},El=Cl,Sl=(i("7594"),Object(S["a"])(El,wl,xl,!1,null,"1fb64647",null)),Il=Sl.exports,Tl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"update-compare-container"},[e("div",{staticClass:"overlay",on:{click:t.hideModal}}),e("transition",{attrs:{name:"slide"}},[e("div",{staticClass:"update-compare-modal"},[e("div",{staticClass:"modal-title"},[e("div",{staticClass:"cross-btn",on:{click:t.hideModal}},[e("img",{attrs:{src:i("a5fd")}})]),e("div",{staticClass:"warning"},[e("img",{attrs:{src:i("336a")}})]),e("div",{staticClass:"bold-md primary-text"},[t._v(t._s(t.compare_msg.title))])]),e("div",{staticClass:"modal-content"},[e("fdk-compare-action",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"button-container"},[e("div",[e("jm-button",{attrs:{backgroundcolortype:"tertiary",bordertype:"tertiary",colortype:"tertiary",btntype:"tertiary",global_config:t.global_config},on:{click:function(e){return t.reset(i.addCompare,i.removeCompare)}}},[t._v("Reset ")])],1),e("div",[e("jm-button",{attrs:{backgroundcolortype:"tertiary",bordertype:"tertiary",colortype:"tertiary",btntype:"tertiary",global_config:t.global_config},on:{click:t.goToCompare}},[t._v("Go to Compare ")])],1)])]}}])})],1)])])],1)},Ml=[],Bl=function(){var t=this,e=t._self._c;return e("button",{staticClass:"emerge-btn",style:`\n    background-color: ${t.getBackgroundColor()};\n    color: ${t.getColor()};\n    border: ${t.getBorder()};\n    padding: ${t.getPadding()};\n    --button_tertiary_hover_color: ${t.global_config?t.global_config.props.button_tertiary_hover_color:""};\n    --button_tertiary_hover_text_color: ${t.global_config?t.global_config.props.button_tertiary_hover_text_color:""};\n  `,attrs:{type:"button","data-btntype":t.btntype},on:{click:function(e){return t.$emit("click")}}},[t._t("default",(function(){return[t._v("Submit")]}))],2)},kl=[],Ll={data:function(){return{}},props:{context:{type:Object},colortype:{type:String},bordertype:{type:String},backgroundcolortype:{type:String},padding:{type:String},global_config:{type:Object},btntype:{type:String}},methods:{getBackgroundColor(){return"primary"==this.backgroundcolortype?this.global_config?this.global_config.props.button_primary_color:"black":"secondary"==this.backgroundcolortype?this.global_config?this.global_config.props.button_secondary_color:"black":"tertiary"==this.backgroundcolortype?"transparent":"black"},getColor(){return"primary"==this.colortype?this.global_config?this.global_config.props.button_primary_label_color:"#2B2A28":"secondary"==this.colortype?this.global_config?this.global_config.props.button_secondary_label_color:"#383838":"tertiary"==this.colortype?this.global_config?this.global_config.props.button_tertiary_label_color:"#383838":"#ffffff"},getBorder(){return"primary"==this.bordertype?"0":"secondary"==this.bordertype&&this.global_config?"1px solid "+this.global_config.props.button_secondary_color:"tertiary"==this.bordertype?this.global_config?"1px solid "+this.global_config.props.button_tertiary_color:"#383838":"none"},getPadding(){return"secondary"==this.padding?"":"none"}},computed:{},mounted:function(){},destroyed:function(){}},Rl=Ll,Pl=(i("1b91"),Object(S["a"])(Rl,Bl,kl,!1,null,"cb2eb768",null)),Dl=Pl.exports,Ol={name:"compare-action-modal",props:{compare_slugs:{default:[]},compare_msg:{},product_uid:{},global_config:{}},components:{"jm-button":Dl},watch:{},data(){return{}},computed:{},mounted(){},methods:{hideModal(){this.$emit("hide-compare-action-modal")},reset(t,e){for(let i=0;i<this.compare_slugs.length;i++)e(this.compare_slugs[i],!1);t(this.product_uid).then(t=>{this.goToCompare()}).catch(t=>{})},goToCompare(){this.$router.push({path:"/compare"})}}},Fl=Ol,Nl=(i("317b"),Object(S["a"])(Fl,Tl,Ml,!1,null,"5b1f8b96",null)),Ql=Nl.exports,Hl=function(){var t=this,e=t._self._c;return e("fdk-product-card",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("fdk-accounts",{staticClass:"wishlist-btn",scopedSlots:t._u([{key:"default",fn:function(n){return[n.is_logged_in&&t.isMounted?e("div",{on:{click:function(e){return i.updateWishList(e,t.item)}}},[t.item.follow?t.item.follow?e("fdk-inline-svg",{attrs:{src:"wishlist-active"}}):t._e():e("fdk-inline-svg",{attrs:{src:"wishlist"}})],1):t._e()]}}],null,!0)})]}}])})},Ul=[],Gl={name:"favourite",props:{item:Object,cardType:String},mounted(){this.isMounted=!0},data:function(){return{isMounted:!1}},methods:{}},zl=Gl,jl=Object(S["a"])(zl,Hl,Ul,!1,null,"bf1f1cc0",null),Vl=jl.exports,Wl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"desc-container"},[t._l(t.product.grouped_attributes,(function(i,n){return e("div",{key:n,staticClass:"pdp-section"},[e("div",{staticClass:"ukt-title title",style:"color: "+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(i.title)+" ")]),i.details.length>0?e("div",{staticClass:"pdp-detail"},t._l(i.details,(function(i,r){return e("div",{key:r+n,staticClass:"pdp-table"},[e("div",{staticClass:"prop regular-xs"},[t._v(t._s(i.key)+" :")]),e("div",{staticClass:"val regular-xxs",domProps:{innerHTML:t._s(i.value)}})])})),0):t._e()])})),null!==t.storeInfo?e("div",[t.storeInfo.return_config&&t.storeInfo.return_config.returnable?[e("div",{staticClass:"return"},[t._v(" Returnable within "+t._s(t.storeInfo.return_config.time)+" "+t._s(t.storeInfo.return_config.unit)+" ")])]:[e("div",{staticClass:"return"},[t._v(" Item is not returnable ")])]],2):t._e(),null!==t.storeInfo&&t.storeInfo.marketplace_attributes?t._l(t.storeInfo.marketplace_attributes,(function(i,n){return e("div",{key:n+"mr",staticClass:"pdp-section"},[e("div",{staticClass:"ukt-title title",style:"color: "+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(i.title)+" ")]),i.details.length>0?e("div",{staticClass:"pdp-detail"},t._l(i.details,(function(i,r){return e("div",{key:r+n+"mr",staticClass:"pdp-table"},[e("div",{staticClass:"prop regular-xs"},[t._v(t._s(i.key)+" :")]),e("div",{staticClass:"val regular-xxs",domProps:{innerHTML:t._s(i.value)}})])})),0):t._e()])})):t._e()],2)},ql=[],Yl={name:"product_desc",props:{product:{type:Object},storeInfo:null,global_config:{}}},$l=Yl,Jl=(i("5942"),Object(S["a"])($l,Wl,ql,!1,null,"182da702",null)),Xl=Jl.exports,Kl=function(){var t=this,e=t._self._c;return e("div",{staticClass:"review-list"},[t.showtitle?e("h2",{staticClass:"review-list__title"},[t._v(" "+t._s(t.title)+" ")]):t._e(),t.product.rating?e("div",{staticClass:"review-list__overall-rating"},[t._v(" Overall "),e("span",[e("rating-star",{attrs:{size:"medium",stars:t.product.rating}})],1),e("span",[t._v(" "+t._s(t.product.rating_count)+" ratings ")])]):t._e(),e("div",{staticClass:"review-list__list"},t._l(t.reviews,(function(i,n){return e("div",{key:n+"-review",staticClass:"review-list__item"},[e("review-item",{attrs:{reviewitem:i,reviewspage:t.reviewspage}})],1)})),0)])},Zl=[],tc=function(){var t=this,e=t._self._c;return t.reviewitem&&t.reviewitem.rating&&t.reviewitem.review?e("div",{staticClass:"review"},[e("div",{staticClass:"review__title"},[t.reviewitem.rating?e("rating-star",{attrs:{size:"small",stars:t.reviewitem.rating.value}}):t._e(),e("p",[t._v(t._s(t.reviewitem.review.title))])],1),e("div",{staticClass:"review__desc"},[t.showMore?e("div",{staticClass:"show-more"},[t._v(" "+t._s(t.reviewitem.review.description)+" "),t.hasMedia?e("review-media-list",{attrs:{media:t.reviewitem.review.media_meta},on:{click:function(e){return t.showImageModal(e)}}}):t._e(),t.showMore?e("review-modal",{attrs:{reviewitem:t.reviewitem,activeImageIndex:t.activeImageIndex,isOpen:t.showModal},on:{closereviewdialog:function(e){t.showModal=!1}}}):t._e(),t.reviewspage?t._e():e("span",{on:{click:function(e){t.showMore=!1}}},[t._v(" less... ")])],1):e("p",{staticClass:"show-less"},[t._v(" "+t._s(t.reviewitem.review.description.slice(0,t.trimLength))+" "),t.reviewitem.review.description.length>t.trimLength||t.hasMedia?e("span",{on:{click:function(e){t.showMore=!0}}},[t._v(" more... ")]):t._e()])]),e("div",{staticClass:"review__footer"},[e("div",{staticClass:"review__footer__info"},[e("div",{staticClass:"review__footer__created"},[t._v(" Created by "),e("span",[t._v(t._s(t.reviewitem.created_by.name))]),t._v(" "+t._s(t.differenceInDays(t.reviewitem.date_meta.created_on,new Date))+" ago ")])]),e("fdk-vote-review",{scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"review__footer__vote"},[e("div",{staticClass:"review__footer__upvote",on:{click:function(e){return t.voteReview("upvote",n)}}},[e("img",{attrs:{src:i("8b11")}}),t._v(" "+t._s(t.reviewitem.vote_count.upvote)+" ")]),e("div",{staticClass:"review__footer__downvote",on:{click:function(e){return t.voteReview("downvote",n)}}},[e("img",{staticClass:"reverse",attrs:{src:i("8b11")}}),t._v(" "+t._s(t.reviewitem.vote_count.downvote)+" ")])])]}}],null,!1,2892301430)})],1)]):t._e()},ec=[],ic=function(){var t=this,e=t._self._c;return e("modal",{attrs:{isOpen:t.isOpen,showHeader:!1,enableOutsideClick:t.enableOutsideClick},on:{closedialog:t.closeDialog}},[e("div",{staticClass:"cross",on:{click:t.closeDialog}},[e("img",{attrs:{src:i("a5fd"),alt:"Close"}})]),e("div",{staticClass:"review-modal-body"},[t.hasMedia?e("div",{staticClass:"review__media"},[0!==t.selectedIndex?e("span",{staticClass:"chevron left",on:{click:function(e){return e.stopPropagation(),t.prev.apply(null,arguments)}}}):t._e(),t.selectedIndex!==this.reviewitem.review.media_meta.length-1?e("span",{staticClass:"chevron right",on:{click:function(e){return e.stopPropagation(),t.next.apply(null,arguments)}}}):t._e(),"image"===t.selectedMedia.type?e("img",{staticClass:"review__media--image",attrs:{src:t.selectedMedia.url.main,alt:"review_image"}}):"video"===t.selectedMedia.type?e("div",{staticClass:"review__media--video"},[t.isYoutube(t.selectedMedia.url.main)?e("iframe",{attrs:{width:"100%",height:"100%",src:t.getEmbedURL(t.selectedMedia.url.main)}}):e("video",{attrs:{controls:""}},[e("source",{attrs:{src:t.selectedMedia.url.main,type:"video/mp4"}})])]):t._e()]):t._e(),e("div",{staticClass:"review__data",style:{width:t.hasMedia?"40%":"100%"}},[e("div",{staticClass:"review__title"},[e("rating-star",{attrs:{size:"small",stars:t.reviewitem.rating.value}}),e("p",[t._v(t._s(t.reviewitem.review.title))])],1),e("div",{staticClass:"review__desc"},[t._v(" "+t._s(t.reviewitem.review.description)+" ")])])])])},nc=[],rc={name:"review-modal",components:{"rating-star":Il,modal:Qo},props:{isOpen:{type:Boolean,default:!1},reviewitem:{type:Object,default:{}},enableOutsideClick:{type:Boolean,default:!0},activeImageIndex:{type:Number,default:null}},watch:{activeImageIndex(){null!=this.activeImageIndex&&(this.selectedIndex=this.activeImageIndex,this.selectedMedia=this.reviewitem.review.media_meta?this.reviewitem.review.media_meta[this.selectedIndex]:{})}},data(){return{selectedMedia:this.reviewitem.review.media_meta?this.reviewitem.review.media_meta[0]:{},selectedIndex:this.activeImageIndex||0}},computed:{hasMedia(){return this.reviewitem.review.media_meta&&this.reviewitem.review.media_meta.length}},mounted(){document.addEventListener("backbutton",this.closeDialog,!1)},beforeDestroy(){document.removeEventListener("backbutton",this.closeDialog)},methods:{closeDialog(){this.$emit("closereviewdialog")},getEmbedURL(t){return t.indexOf("youtu.be")?t.replace("youtu.be","youtube.com/embed"):t.indexOf("youtube.com/watch")?t.replace("youtube.com/watch","youtube.com/embed"):void 0},isYoutube(t){return t.indexOf("youtu.be")||t.indexOf("youtube.com/watch")},next(){this.selectedIndex++,this.selectedMedia=this.reviewitem.review.media_meta[this.selectedIndex]},prev(){this.selectedIndex--,this.selectedMedia=this.reviewitem.review.media_meta[this.selectedIndex]}}},sc=rc,oc=(i("fc78"),Object(S["a"])(sc,ic,nc,!1,null,"a52fd218",null)),ac=oc.exports,lc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"review__media"},[t._l(t.media.slice(0,t.max_limit),(function(i,n){return e("div",{key:n+"-media",on:{click:function(e){return t.click(n)}}},["image"===i.type?e("img",{staticClass:"review__media--image",attrs:{src:i.url.main,alt:"review_image"}}):"video"===i.type?e("div",{staticStyle:{"pointer-events":"none"}},[t.isYoutube(i.url.main)?e("iframe",{attrs:{width:"50px",height:"80px",src:t.getEmbedURL(i.url.main)}}):e("video",{attrs:{controls:""}},[e("source",{attrs:{src:i.url.main,type:"video/mp4"}})])]):t._e()])})),t.media.length>t.max_limit?e("div",{staticClass:"overlay",on:{click:function(e){return t.click(t.max_limit)}}},[e("p",{staticClass:"more"},[t._v("MORE")]),"image"===t.media[t.max_limit+1].type?e("img",{staticClass:"review__media--image",attrs:{src:t.media[t.max_limit+1].url.main,alt:"review_image"}}):"video"===t.media[t.max_limit+1].type?e("div",{staticStyle:{"pointer-events":"none"}},[t.isYoutube(t.media[t.max_limit+1].url.main)?e("iframe",{attrs:{width:"50px",height:"80px",src:t.getEmbedURL(t.media[t.max_limit+1].url.main)}}):e("video",{attrs:{controls:""}},[e("source",{attrs:{src:t.media[t.max_limit+1].url.main,type:"video/mp4"}})])]):t._e()]):t._e()],2)},cc=[],uc={name:"review-media-list",props:{media:{type:Array,default:[]},max_limit:{type:Number,default:5}},methods:{getEmbedURL(t){return t.indexOf("youtu.be")?t.replace("youtu.be","youtube.com/embed"):t.indexOf("youtube.com/watch")?t.replace("youtube.com/watch","youtube.com/embed"):void 0},isYoutube(t){return t.indexOf("youtu.be")||t.indexOf("youtube.com/watch")},click(t){this.$emit("click",t)}}},hc=uc,dc=(i("58f8"),Object(S["a"])(hc,lc,cc,!1,null,"45a053bc",null)),pc=dc.exports,fc={name:"review-item",components:{"rating-star":Il,"review-modal":ac,"review-media-list":pc},props:{reviewitem:{type:Object,default:{}},reviewspage:{type:Boolean,default:!1}},data(){return{trimLength:60,showMore:!1,showModal:!1,activeImageIndex:0}},mounted(){this.reviewspage&&(this.showMore=!0)},watch:{reviewspage(t){t&&(this.showMore=!0)}},computed:{hasMedia(){return this.reviewitem.review.media_meta&&this.reviewitem.review.media_meta.length}},methods:{differenceInDays:ht,showImageModal(t){this.activeImageIndex=t||0,this.showModal=!0},voteReview(t,e){const i=this.getVoteReviewData(t);e.voteReview(i).then(e=>{e.success&&("upvote"==t?this.reviewitem.vote_count.upvote++:this.reviewitem.vote_count.downvote++)}).catch(t=>{})},getVoteReviewData(t){const e={entity_id:this.reviewitem.entity.id,entity_type:this.reviewitem.entity.type,ref_id:this.reviewitem.id,ref_type:"review",action:t};return e}}},gc=fc,mc=(i("e68e"),Object(S["a"])(gc,tc,ec,!1,null,"7bffe130",null)),vc=mc.exports,Ac={name:"review-list",components:{"rating-star":Il,"review-item":vc},props:{reviews:{type:Array,default:[]},product:{type:Object,default:{}},reviewspage:{type:Boolean,default:!1},title:{type:String,default:"Ratings and Review"},showtitle:{type:Boolean,default:!0}}},yc=Ac,_c=(i("fb42"),Object(S["a"])(yc,Kl,Zl,!1,null,"11f680fc",null)),bc=_c.exports,wc=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"compare-desktop-container"},[e("div",{staticClass:"compare-container"},[e("div",{staticClass:"compare-title bold-lg",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.compare.title)+" ")]),e("div",{staticClass:"compare-desc regular-xxs",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.compare.subtitle)+" ")]),e("div",{staticClass:"comp-outer"},[e("div",{staticClass:"comp-inner"},[e("table",[e("tbody",[e("tr",{staticClass:"comp-row product-display-row"},[e("td",{staticClass:"comp-col comp-attr"}),t._l(t.compare.products,(function(i,n){return e("td",{key:n,staticClass:"comp-col"},[e("div",{staticClass:"comp-product"},[e("fdk-link",{staticClass:"img-cont",attrs:{link:t.getProductLink(i)}},[e("emerge-image",{attrs:{src:t.getImageUrl(i.medias),sources:[{width:230}]}})],1),e("div",{staticClass:"jm-product-cont"},[e("fdk-link",{attrs:{to:t.getProductLink(i)}},[e("div",{staticClass:"product-title product-name-small"},[t._v(" "+t._s(i.name)+" ")]),i.attributes.subtitle?e("h5",{staticClass:"product-subtitle-small"},[t._v(" "+t._s(i.attributes.subtitle)+" ")]):t._e()]),e("div",{staticClass:"price"},[e("div",{staticClass:"price-effective",style:i.price.effective.min!=i.price.marked.min?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(" "+t._s(t.getPrice(i.price.effective))+" ")]),i.price.effective.min!=i.price.marked.min?e("div",{staticClass:"price-marked",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(t.getPrice(i.price.marked))+" ")]):t._e()])],1)],1)])}))],2),t._l(t.compare.attributes_metadata,(function(i,n){return[e("tr",{key:"pr"+n,staticClass:"comp-row comp-group-heading"},[e("td",{staticClass:"comp-col comp-attr bold-sm"},[t._v(" "+t._s(i.title)+" ")]),t._l(t.compare.products,(function(t,i){return e("td",{key:"d"+i,staticClass:"comp-col"})}))],2),t._l(i.details,(function(i,r){return e("tr",{key:"cl"+n+r,staticClass:"comp-row"},[e("td",{staticClass:"comp-col comp-attr"},[t._v(" "+t._s(i.display)+" ")]),t._l(t.compare.products,(function(n,r){return e("td",{key:"cp"+r,staticClass:"comp-col"},[t.checkHtml(t.getAttribute(n,i))?e("span",{domProps:{innerHTML:t._s(t.getAttribute(n,i))}}):e("span",[t._v(" "+t._s(t.getAttribute(n,i))+" ")])])}))],2)}))]}))],2)])])])])]),e("div",{staticClass:"compare-mobile-container"},[e("div",{staticClass:"compare-container"},[e("div",{staticClass:"compare-title",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.compare.title)+" ")]),e("div",{staticClass:"compare-desc regular-xxs",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.compare.subtitle)+" ")])]),e("div",{ref:"productContainerBig",staticClass:"compare-product-container slider",on:{touchmove:function(e){return t.swipeHandler(e,"bigProductList")},touchstart:function(e){return t.startTouch(e,"bigProductList")}}},t._l(t.compare.products,(function(i,n){return e("div",{key:n,staticClass:"container"},[e("div",{staticClass:"product"},[e("fdk-link",{staticClass:"img-cont",attrs:{to:t.getProductLink(i)}},[e("emerge-image",{attrs:{src:t.getImageUrl(i.medias),backgroundColor:"trasparent",sources:[{width:150}]}})],1),e("div",{staticClass:"regular-xs text"},[t._v(t._s(i.brand.name))]),e("div",{staticClass:"regular-xs text"},[t._v(t._s(i.name))]),e("div",{staticClass:"bold-xs text",style:i.price.effective.min!=i.price.marked.min?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[e("span",[t._v(" "+t._s(t.getPrice(i.price.effective))+" ")]),i.price.effective.min!=i.price.marked.min?e("span",{staticClass:"regular-xs text price-marked",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(t.getPrice(i.price.marked))+" ")]):t._e()])],1)])})),0),e("div",{staticClass:"attribute-list"},[e("div",{staticClass:"attribute"},t._l(t.compare.attributes_metadata,(function(i,n){return e("div",{key:n},[e("div",{staticClass:"attr-title"},[t._v(" "+t._s(i.title)+" ")]),t._l(i.details,(function(i,r){return e("div",{key:"cl"+n+r},[e("div",{staticClass:"attr-name"},[t._v(" "+t._s(i.display)+" ")]),e("div",{staticClass:"attr-desc slider",on:{touchmove:function(e){return t.swipeHandler(e,"attrDesc")},touchstart:function(e){return t.startTouch(e,"attrDesc")}}},t._l(t.compare.products,(function(n,r){return e("div",{key:"cp"+r,staticClass:"attr-desc-name d-flex"},[e("img",{attrs:{src:i.logo,alt:""}}),t.checkHtml(t.getAttribute(n,i))?e("span",{staticClass:"attr",staticStyle:{"text-align":"left"},domProps:{innerHTML:t._s(t.getAttribute(n,i))}}):e("span",{staticClass:"attr"},[t._v(" "+t._s(t.getAttribute(n,i))+" ")])])})),0)])}))],2)})),0)])])])},xc=[],Cc={name:"compare-product",components:{"emerge-image":Z},props:{compare:{type:Object},global_config:{}},data(){return{}},methods:{checkHtml:ut,getImageUrl(t){return t[0].url},getProductLink(t){return"/product/"+t.slug},getAttribute(t,e){let i=t.attributes[e.key];return i?(Array.isArray(i)&&(i=i.join(", ")),i):"-"},getPrice(t){return t.min===t.max?this.$options.filters.currencyformat(t.min):this.$options.filters.currencyformat(t.min)+" - "+this.$options.filters.currencyformat(t.max)},getPriceDifference(t){return this.$options.filters.currencyformat(t.marked.max-t.effective.max)},swipeHandler(t,e){let i;"attrDesc"===e?i=document.querySelector(".attr-desc"):"bigProductList"===e&&(i=document.querySelector(".compare-product-container")),t.preventDefault();const n=t.changedTouches[0].pageX-i.offsetLeft,r=n-this.startX;document.querySelectorAll(".slider").forEach(t=>{t.scrollLeft=this.scrollLeft-r})},startTouch(t,e){let i;"attrDesc"===e?i=document.querySelector(".attr-desc"):"bigProductList"===e&&(i=document.querySelector(".compare-product-container")),this.startX=t.changedTouches[0].pageX-i.offsetLeft,this.scrollLeft=i.scrollLeft}}},Ec=Cc,Sc=(i("d307"),Object(S["a"])(Ec,wc,xc,!1,null,"0302fce9",null)),Ic=Sc.exports,Tc={components:{"size-guide":Bo,"product-request-modal":$o,"product-variants":ya,"store-coupon":ea,"image-gallery":$a,"size-set-info":el,"delivery-info":bl,"rating-star":Il,"compare-action-modal":Ql,"product-desc":Xl,"group-list":bi,favourite:Vl,"no-ssr":ts.a,"review-list":bc,toast:ko["default"],share:xt,"store-modal":pa,"compare-products":Ic},props:{context:{}},mounted(){this.isMounted=!0},watch:{showSizeGuide(t){t&&(document.querySelector("body").style.overflow="hidden")},storeInfo(){this.storeInfoSelected=Object.assign({},this.storeInfoSelected,this.storeInfo)},context(t){this.context=t},$route(t,e){t.path!=e.path&&(this.storeInfoSelected={},this.storeInfo=null)}},data(){return{selectedSize:"",shippable:!1,showSizeGuide:!1,pincodeError:!1,sizeError:!1,pincodeSuccess:!1,pincode:ol.getItem(al.USER_PINCODE)||"",isMounted:!1,fromPincode:null,toast_message:"",storeInfo:null,sizePrice:null,showProductRequestModal:!1,showUserPincodeModal:"",message:"",showMessage:!1,showCompareActionModal:!1,shareLoading:!1,qr_code:"",share_link:"",showShare:!1,compareMsg:{title:""},checkingPin:!1,isExplicitelySelectedStore:!1,loadSpinner:!1,storeInfoSelected:{},all_stores_info:null,notifMsg:"Saved, We'll notify you when this product is back in Stock",store_count:null,showStoreModal:!1,showSoldByModal:!1}},computed:{showSellers(){var t,e;return null===(t=this.page_config)||void 0===t||null===(e=t.props)||void 0===e?void 0:e.show_sellers},checkSelleble(){return this.context.product_meta.hasOwnProperty("sellable")},checkReview(){return!!(this.page_config&&this.page_config.props.reviews&&this.context&&this.context.reviews&&this.context.reviews.data&&this.context.reviews.data.length&&this.context.reviews.data.length>0)},getMedias(){var t,e;let i=[];var n,r;return(null===(t=this.context)||void 0===t||null===(e=t.product)||void 0===e?void 0:e.medias.length)>0?null===(n=this.context)||void 0===n||null===(r=n.product)||void 0===r?void 0:r.medias:(i.push({type:"image",url:"https://hdn-1.fynd.com/company/884/applications/000000000000000000000001/theme/pictures/free/original/theme-image-1623307821127.png"}),i)},isSizeSet(){return this.storeInfo&&this.storeInfo.is_set},isProductRequestEnabled(){return!!(this.isMounted&&this.context.is_logged_in&&this.context.app_features&&this.context.app_features.feature&&this.context.app_features.feature.product_detail&&this.context.app_features.feature.product_detail.request_product)},getCategoryId(){let t=this.context.product;return t.categories&&t.categories.length?t.categories[0].id:""}},methods:{productNotify(t){let e={id:this.context.product.uid};t.notify(e),this.$toasted.success(this.notifMsg,{position:"bottom-center",duration:2e3})},getShareLink(t){this.shareLoading=!0,this.showShare=!0,t.getShareLink(window.location.href).then(e=>{t.generateQRCode(e).then(t=>{this.qr_code=`\n                <div style="width: 250px;">\n                  ${t.svg}\n                </div>\n                `,this.share_link=e,this.shareLoading=!1})})},formatAttr(t){return t.split("_").join(" ")},getAttributes(){let t=Object.keys(this.context.product.attributes)||[];return t&&t.length&&(t=t.filter(t=>!("style_note"===t||"product_details"===t||"description"===t))),t.sort()},getProductPrice(t){var e;if(this.storeInfo&&this.storeInfo.price){const{is_set:e}=this.storeInfo;return e?this.storeInfo.price_per_piece[t]:this.storeInfo.price[t]}if(null!==(e=this.context.product_meta)&&void 0!==e&&e.price)return this.context.product_meta.price[t].min!==this.context.product_meta.price[t].max?this.$options.filters.currencyformat(this.context.product_meta.price[t].min)+" - "+this.$options.filters.currencyformat(this.context.product_meta.price[t].max):this.context.product_meta.price[t].max},getPrice(t){return t.min===t.max?this.$options.filters.currencyformat(t.min):this.$options.filters.currencyformat(t.min)+" - "+this.$options.filters.currencyformat(t.max)},checkLength(){(""+this.pincode).length>6&&(this.pincode=this.pincode.slice(0,6))},updateStoreFilter(t){this.storeCompanyFilter=t,this.getStores(this.loadStoreFunction)},setStoreInfo(t){this.storeInfoSelected=Object.assign({},this.storeInfoSelected,t),this.storeInfo=this.storeInfoSelected,this.showStoreModal=!1,this.isExplicitelySelectedStore=!0},getStores(t){let e={strategy:this.storeCompanyFilter||"",page:1};t(e).then(t=>{this.all_stores_info=t}).catch(t=>{})},onSizeClicked(t){this.isExplicitelySelectedStore=!1,this.loadSellerFunction=t.loadSellers,ol.getItem(al.USER_PINCODE)?this.sizeClicked(t.loadSellers):this.showUserPincodeModal=!0},sizeClicked(t){let e={size:this.selectedSize,slug:this.context.product.slug,pincode:this.pincode};this.loadSpinner=!0,t(e).then(t=>{this.storeInfo=t,this.store_count=t.store.count,this.showSoldByModal=!0,this.loadSpinner=!1}).catch(t=>{this.loadSpinner=!1})},redirectToReview(){this.$router.push({path:this.$route.path+"/reviews",query:{type:"product",uid:this.context.product.uid}})},redirectToAddReview(){this.$router.push({path:this.$route.path+"/add-review",query:{type:"product",uid:this.context.product.uid}})},addToCart(t){var e,i;if(0==(null===(e=this.product_meta)||void 0===e||null===(i=e.sizes)||void 0===i?void 0:i.length))return this.message="No sizes available. Product Out of Stock",void(this.showMessage=!0);if(!this.selectedSize){if(this.sizeError=!0,window.innerWidth<780){this.$refs.sizeContainer.offsetTop;window.scrollTo(0,0)}return}this.context.product.slug,this.selectedSize,this.pincode;let n={items:[{item_id:this.context.product.uid,item_size:this.selectedSize,quantity:1,article_assignment:this.storeInfo.article_assignment,seller_id:this.storeInfo.seller.uid,store_id:this.storeInfo.store.uid}]};t.addToCart(n).then(t=>{t.success?(this.$refs.carousel&&(this.$refs.carousel.$el.style.visibility="hidden"),this.$router.push("/cart/bag")):(this.toast_message="Something went wrong",this.$refs.pdpToast.showToast())})},onDialogClosed(){this.showUserPincodeModal=!1,ol.getItem(al.USER_PINCODE)&&this.selectedSize?this.sizeClicked(this.loadSellerFunction):ol.getItem(al.USER_PINCODE)||(this.selectedSize="")},onPincodeChanged(t){this.pincode=t,this.sizeClicked(this.loadSellerFunction)},hideShare(){this.showShare=!1},onTatError(t){this.message=t,this.showMessage=!0},onHideTatError(){this.message="",this.showMessage=!1},addCompareProducts(t,e){this.context.compare_slugs.length<3?t(e).then(t=>{}).catch(t=>{this.compareMsg.title=t.message||"Something went wrong",this.showCompareActionModal=!0}):(this.compareMsg.title="You can only compare 3 products at a time",this.showCompareActionModal=!0)},closedDialog(){this.showStoreModal=!1},hideCompareModal(){this.showCompareActionModal=!1,this.compareMsg.title=""},setCanvasDimension(){let t=this.$refs["preview"];t.style.top=window.scrollY+"px"},showPreview(t){let e=this.$refs["preview"];if(e){if(!t.show)return void(e.style.display="none");this.setCanvasDimension(),e.style.display="block";let i=e.getContext("2d");i.clearRect(0,0,e.width,e.height),i.drawImage(t.image,t.image.naturalWidth*t.gridRect.left/t.imageInGrid.width,t.image.naturalHeight*t.gridRect.top/t.imageInGrid.height,t.image.naturalWidth*t.gridRect.width/t.imageInGrid.width,t.image.naturalHeight*t.gridRect.height/t.imageInGrid.height,0,0,e.width,e.height)}}}},Mc=Tc,Bc=(i("b0b9"),i("6fcc")),kc=i.n(Bc),Lc=Object(S["a"])(Mc,oo,ao,!1,null,"77b247c0",null);"function"===typeof kc.a&&kc()(Lc);var Rc=Lc.exports,Pc=function(){var t=this,e=t._self._c;return e("div",{staticClass:"plp-wrapper",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[!t.context.loading||t.context.items&&0!==t.context.items.length?t.context.loading||t.context.items&&0!==t.context.items.length?t.context.page_error&&500===t.context.page_error.statusCode?e("div",[e("fdk-empty-state",{attrs:{title:"Something went wrong"}})],1):t.context&&t.context.items?[e("div",{staticClass:"mobile-header mobile"},[e("div",{staticClass:"m-header"},[e("div",{ref:"mobileActionContainer",staticClass:"m-action-container"},[e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"sort")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"sort"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SORT ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container",on:{click:function(e){return t.viewModal(e,"filter")}}},[e("div",[e("fdk-inline-svg",{attrs:{src:"filter"}})],1),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" FILTER ")])]),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("fdk-share",{staticClass:"m-action-child-container mobile",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("div",{staticClass:"regular-xxxs cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" SHARE ")])])]}}])})],1)])]),e("div",{staticClass:"desktop-header desktop"},[e("div",{staticClass:"header"},[e("div",{staticClass:"m-action-container"},[e("fdk-share",{staticClass:"m-action-child-container desktop",scopedSlots:t._u([{key:"default",fn:function(n){return[e("div",{staticClass:"share-mobile-button",on:{click:function(e){return t.getShareLink(n)}}},[e("img",{staticClass:"share-mobile-img",attrs:{src:i("5203")}}),e("transition",{attrs:{name:"fade desktop"}},[t.showShare&&!t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1),e("div",{staticClass:"regular-sm cl-DoveGray"},[e("span",{staticClass:"text-seperator"}),t._v(" Share ")])],1)]}}])}),e("span",{staticClass:"text-seperator cl-DoveGray line"},[t._v("|")]),e("div",{staticClass:"m-action-child-container"},[e("sort-dd",{attrs:{filteredsorts:t.context.sort_on,updateSelection:t.updateSelection}})],1)],1)])]),e("div",{staticClass:"content-container"},[[e("div",{staticClass:"left"},t._l(t.getFilters,(function(i,n){return e("div",{key:n+"-desktop"+i.key.display,staticClass:"filter-list"},[e("div",{staticClass:"filters"},[i.values.length>0?e("div",{staticClass:"filter-title regular-sm",on:{click:function(t){i.isOpen=!i.isOpen}}},[e("span",{staticClass:"regular-xs cl-Mako fil_tit"},[t._v(t._s(i.key.display))]),e("span",{class:{"filter-arrow-up":i.isOpen}},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)]):t._e(),"multivalued"==i.key.kind?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[i.values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search"},[e("input",{directives:[{name:"model",rawName:"v-model",value:i.searchText,expression:"filter.searchText"}],staticClass:"light-xxs",attrs:{placeholder:t.placeholder},domProps:{value:i.searchText},on:{input:[function(e){e.target.composing||t.$set(i,"searchText",e.target.value)},function(e){return t.filterResults(i,n)}]}}),e("span",{staticClass:"search-icon",on:{click:function(e){return t.filterResults(i,n)}}},[e("fdk-inline-svg",{attrs:{src:"search-black"}})],1)]):t._e(),e("div",{staticClass:"example"},[e("ul",{staticClass:"filter-items-container",attrs:{id:"scroll-bar"}},t._l(i.filteredValues,(function(i,r){return e("li",{key:"filter-desktop"+r},[r<8||t.viewMore[n]?e("fdk-link",{attrs:{link:i.url}},[e("div",{staticClass:"filter-item"},[i.is_selected?t._e():e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}})],1),i.is_selected?e("div",[e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}})],1):t._e(),e("div",{staticClass:"filter-item-value regular-xxs",class:{active:1==i.is_selected}},[t._v(" "+t._s(i.display)+" ")]),e("div",{staticClass:"filter-item-count light-xxxs cl-DoveGray"},[t._v(" ("+t._s(i.count||0)+") ")])])]):t._e()],1)})),0),i.filteredValues.length>8?e("div",{staticClass:"view-more",on:{click:function(e){return t.changeViewMore(n)}}},[t._v(" "+t._s(t.viewMore[n]?"- view less":`+ ${i.filteredValues.length-8} more`)+" ")]):t._e()])]):"range"==i.key.kind&&i.values.length>0?e("div",{staticClass:"filter-disp",class:{open:!i.isOpen}},[e("fdk-slider",{scopedSlots:t._u([{key:"default",fn:function(n){return[e("fy-slider-filter",{attrs:{filteritem:i,reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return n.replaceQuery(t,i)}}})]}}],null,!0)})],1):t._e()])])})),0),e("div",{staticClass:"right"},[e("div",[e("fdk-filter-modal",{scopedSlots:t._u([{key:"default",fn:function(i){return[t.showFilterModal?e("transition",{attrs:{name:"modal-filter"},on:{close:function(e){t.showFilterModal=!t.showFilterModal}}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("FILTER")]),e("div",{on:{click:function(e){t.closeModal(e,"filter"),i.closeModal()}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("div",{staticClass:"pane leftPane"},[e("ul",t._l(i.filters,(function(n,r){return e("li",{key:r+"-mobile",staticClass:"title",class:{"bold-lg active":i.selected_item==r},on:{click:function(e){i.updateSelectedItem(n,r),t.mobileSearchText=""}}},[n.key.logo?e("img",{staticClass:"filter-image",attrs:{src:n.key.logo,alt:"logo"}}):e("fdk-inline-svg",{attrs:{src:"home"}}),e("span",{staticClass:"modal-text"},[t._v(" "+t._s(n.key.display)+" ")])],1)})),0)]),e("div",{staticClass:"pane rightPane"},["range"!==i.filters[i.selected_item].key.kind?e("div",{staticClass:"filter-disp"},[i.filters[i.selected_item].values.length>t.SHOW_SEARCH_THRESHOLD?e("div",{staticClass:"filter-search-mobile"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.mobileSearchText,expression:"mobileSearchText"}],attrs:{type:"text",placeholder:"Search "+i.filters[i.selected_item].key.display},domProps:{value:t.mobileSearchText},on:{input:[function(e){e.target.composing||(t.mobileSearchText=e.target.value)},function(e){return i.getFilteredResults(t.mobileSearchText)}]}})]):t._e(),e("ul",t._l(i.getFilteredResults(t.mobileSearchText),(function(n,r){return e("li",{key:n.value+r,staticClass:"filterValue",on:{click:function(t){return i.updateFilter(n,i.selected_item)}}},[n.is_selected?t._e():e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"regular"}}),n.is_selected?e("fdk-inline-svg",{staticClass:"icon",attrs:{src:"check-box-selected"}}):t._e(),e("span",{staticClass:"regular-s"},[t._v(" "+t._s(n.display)+" ")]),e("span",{staticClass:"count regular-xxs"},[t._v(" "+t._s(n.count)+" ")])],1)})),0)]):e("div",{staticClass:"filter-disp"},[e("div",{staticClass:"slider"},[e("fy-slider-filter",{attrs:{filteritem:i.filters[i.selected_item],reset:t.resetSlider,"show-text-box":!1},on:{"slider-query":function(t){return i.updateSliderInfo(t,i.filters[i.selected_item])}}})],1)])])]),e("div",{staticClass:"modal-footer"},[e("div",{staticClass:"actionBtn",on:{click:function(e){i.resetFilters(),t.resetSlider=!t.resetSlider,i.applyFilters(),t.showFilterModal=!1}}},[e("span",[t._v("RESET")])]),e("div",{staticClass:"actionBtn",on:{click:function(e){i.applyFilters(),t.closeModal(e,"filter")}}},[e("span",[t._v("APPLY FILTERS")])])])])])]):t._e()]}}])})],1),e("fdk-infinite-loading",{staticClass:"plp-container",scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"product-container"},[t._l(t.getProducts,(function(i,n){return e("div",{key:n+"-product.uid"},[e("div",{staticClass:"product-wrapper",on:{click:function(e){return t.redirectToProduct(i.url)}}},[e("fy-product-card",{attrs:{product:i,context:t.context,"active-product-id":t.active_product_uid,global_config:t.global_config,listing_price_config:t.listingPriceConfig},on:{"slide-up":function(e){return t.slideUpEventListener(e)},"slide-down":function(e){return t.slideDownEventListener(e)}}})],1)])})),i.hasNext?e("fdk-loader",{staticClass:"loader-center",attrs:{id:"loader"}}):t._e()],2)]}}])})],1)]],2),t.showSortByModal?e("transition",{attrs:{name:"modal-sort"}},[e("div",{staticClass:"modal"},[e("div",{staticClass:"modal-container"},[e("div",{staticClass:"modal-header"},[e("span",{staticClass:"bold-xl"},[t._v("SORT BY")]),e("div",{on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-inline-svg",{attrs:{src:"cross-black"}})],1)]),e("div",{staticClass:"modal-content"},[e("ul",{staticStyle:{width:"100%"}},t._l(t.context.sort_on,(function(i,n){return e("li",{key:n+"-sort",class:{"bold-lg active":t.getSortOnValue==i.value},on:{click:function(e){return t.closeModal(e,"sort")}}},[e("fdk-link",{staticClass:"filterValue sort-item",attrs:{link:i.url}},[t._v(" "+t._s(i.display)+" "),e("span",{staticClass:"sort-arrow"},[e("fdk-inline-svg",{attrs:{src:"arrow-dropdown-black"}})],1)])],1)})),0)])])])]):t._e(),e("div",{staticClass:"mobile share-wrap"},[e("transition",{attrs:{name:"fade","data-ss":String(t.showShare),"data-ismobile":String(t.isMobile)}},[t.showShare&&t.isMobile?e("share",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.hideShare,expression:"hideShare"}],key:"mobile-share",attrs:{title:"Spread the shopping delight! Scan QR & share this products with\n                          your loved ones",shareLoading:t.shareLoading,qr_code:t.qr_code,share_link:t.share_link},on:{"close-share":function(e){t.showShare=!1}}}):t._e()],1)],1)]:t._e():e("div",[e("fdk-empty-state",{attrs:{title:"No items found"}})],1):e("fdk-loader",{staticClass:"loader-ws"})],2)},Dc=[],Oc={name:"fdk-plp",components:{"fy-product-card":Er,"fy-select":kr,"fy-not-found":Fr,"fy-slider-filter":rs,"sort-dd":us,share:xt},props:{context:{}},watch:{context:function(){if(this.context.filters&&this.context.filters.length>this.viewMore.length)for(var t=0;t<this.context.filters.length;t++)this.viewMore[t]||this.$set(this.viewMore,t,!1)},active_product_uid:function(){this.context.item.map(t=>{t.uid===this.active_product_uid?t.is_active=!0:t.is_active=!1})}},data:function(){return{shareLoading:!1,showShare:!1,share_link:"",qr_code:"",active_product_uid:0,mobileSearchText:"",selectedSortOpt:"",storeName:"",SHOW_SEARCH_THRESHOLD:8,placeholder:"Search ",showFilterModal:!1,showSortByModal:!1,filteredItems:[],selectedFilters:[],searchTextObj:{},resetSlider:!1,viewMore:[],products:[{isImageLoading:!0}],isMobile:!1}},mounted(){this.isMobile=lt()},methods:{hideShare(){this.showShare=!1},redirectToProduct:function(t){if(this.isLoadedInIframe())this.$router.push(t);else if(this.isMobile)this.$router.push(t);else{let e=this.$router.resolve(t);window.open(e.href,"_blank")}},getShareLink(t){this.shareLoading=!0,this.showShare=!0,t.getShareLink(window.location.href).then(e=>{t.generateQRCode(e).then(t=>{this.qr_code=`\n                <div style="width: 250px;">\n                  ${t.svg}\n                </div>\n                `,this.share_link=e,this.shareLoading=!1})})},slideUpEventListener(t){this.active_product_uid=t},slideDownEventListener(){this.active_product_uid=0},resetFilters(t){this.$refs&&this.$refs.mobileActionContainer&&t(),this.$router.push({query:{}})},selectedOptions:function(t){let{filters:e}=t;e=e||[];let i=e.reduce((t,e,i)=>{let{values:n,key:r}=e;n=n||[];let s=n.map(t=>{if(t.is_selected)return t.filterIndex=i,t}).filter(t=>t);return[...t,...s]},[]);return this.activeFilters=i,i},updateSelectedOptions(t,e){this.$refs&&this.$refs.mobileActionContainer&&e(t,t.filterIndex),t.url?this.$router.push(t.url):this.getRangeURL(t)},getRangeURL(t){let e=this.context.filters[t.filterIndex].key.name,i={...this.$route.query};Object.keys(i).includes(e)&&delete i[e],this.$router.push({...this.$route,query:i})},getFilterDisplay:function(t,e){let i=t[e.filterIndex];return"range"===i.key.kind?e.currency_code?"₹ "+e.selected_min+" - ₹ "+e.selected_max:e.selected_min+"% - "+e.selected_max+"%":e.display.toUpperCase()},changeViewMore(t){this.viewMore[t]=!this.viewMore[t],this.$forceUpdate()},kFormatter:function(t){return Math.abs(t)>999?Math.sign(t)*(Math.abs(t)/1e3).toFixed(2)+"k":Math.sign(t)*Math.abs(t)},updateSelection:function(t){const e=this.context.sort_on.findIndex(e=>e.value===t);this.$router.push(this.context.sort_on[e].url)},closeModal:function(t,e){"sort"===e?this.showSortByModal=!1:"filter"===e&&(this.showFilterModal=!1)},viewModal:function(t,e){"sort"===e?this.showSortByModal=!0:"filter"===e&&(this.showFilterModal=!0)},filterResults:function(t,e){this.getFilters[e].filteredValues=t.values.filter(i=>t.searchText.length>0?(this.searchTextObj[this.getFilters[e].key.name]=t.searchText,-1!==i.display.toLowerCase().indexOf(t.searchText.toLowerCase())):i),this.$forceUpdate()},loadImage:function(t){const e=this.$refs["placeholder-"+t];e[0].style.display="none"},isLoadedInIframe(){return!(!ot["isBrowser"]||window.location===window.parent.location)}},computed:{getFilters:function(){this.filteredItems=[];this.context.filters&&this.context.filters.map(t=>(t.searchText=this.searchTextObj[t]&&this.searchTextObj[t.key]?this.searchTextObj[t.key.name]:"",t.filteredValues=t.values,this.filteredItems.push(t),t));return this.filteredItems},getSortOnValue:function(){let t=[];return this.context&&this.context.sort_on&&(t=this.context.sort_on.filter(t=>t.is_selected)),t.length>0?t[0].value:"popular"},getSelectedFilters:function(){this.selectedFilters=this.getFilters.filter(t=>t.is_selected)},getProducts:function(){return this.context.items.map(t=>(t.is_active=!1,t))},hrefTarget(){return lt()?"_self":"_blank"},listingPriceConfig(){var t,e,i,n;return null===(t=this.context.app_features)||void 0===t||null===(e=t.feature)||void 0===e||null===(i=e.common)||void 0===i||null===(n=i.listing_price)||void 0===n?void 0:n.value}}},Fc=Oc,Nc=(i("2c7f"),Object(S["a"])(Fc,Pc,Dc,!1,null,"5287f7a8",null)),Qc=Nc.exports,Hc=function(){var t=this,e=t._self._c;return t.context&&t.context.product?e("div",{staticClass:"main-review-container coll-cont",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[e("div",{staticClass:"left"},[e("div",{on:{click:function(e){return t.redirectToProduct()}}},[e("product-card",{staticClass:"product-card",attrs:{product:t.getProduct,global_config:t.global_config}})],1),t.reviewMediaData.length?e("div",{staticClass:"images"},[e("p",[t._v("User Images")]),e("review-media-list",{attrs:{media:t.reviewMediaData,max_limit:5},on:{click:function(e){return t.showImageDialog(e)}}})],1):t._e()]),e("div",{staticClass:"right"},[t.context&&t.context.reviews&&t.context.reviews.items&&t.context.reviews.items.length?e("fdk-infinite-reviews",{staticClass:"list-items",scopedSlots:t._u([{key:"default",fn:function(i){return[e("review-list",{attrs:{reviews:t.context.reviews.items,product:t.context.product,reviewspage:!0,title:t.context.product.name}}),i.hasNext?e("div",{staticClass:"loader-center"},[e("fdk-loader")],1):t._e()]}}],null,!1,547821663)}):e("div",[t._v("No reviews found")])],1),t.showImageModal?e("review-image-modal",{attrs:{isOpen:t.showImageModal,media:t.reviewMediaData,activeImageIndex:t.activeImageIndex},on:{closedialog:function(e){t.showImageModal=!1}}}):t._e()],1):t._e()},Uc=[],Gc=function(){var t=this,e=t._self._c;return e("fdk-product-card",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"product",attrs:{"data-pid":"00ADS3083AC"}},[e("div",{staticClass:"product-tile",attrs:{itemscope:"",itemtype:"http://schema.org/Product"}},[e("div",{staticClass:"image-container"},[e("fdk-link",{staticClass:"tile-image-link pointer",attrs:{href:"/product/"+t.product.slug,tabindex:"0",title:t.product.name}},[e("img",{staticClass:"tile-image",style:{backgroundColor:t.getProductColor},attrs:{src:t.getImageURL,alt:t.product.name,title:t.product.name,itemprop:"image"}})]),t.product.discount?e("div",{staticClass:"discount-container"},[e("div",{staticClass:"discount"},[e("div",{staticClass:"special-offer-text bold-xxxxs"},[t._v(" "+t._s(t.product.discount)+" ")])])]):t._e()],1),e("div",[e("div",{staticClass:"product-desc"},[e("div",{staticStyle:{height:"27px"}},[t.product.rating?e("fy-rating",{attrs:{rating:t.product.rating}}):t._e()],1),e("h5",{staticClass:"wrap-text"},[e("b",{staticClass:"bold-xs cl-Mako brand-name",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(t._s(t.product.brand.name))]),e("span",{staticClass:"regular-xxs cl-DoveGray text-seperator"},[t._v("|")]),e("span",{staticClass:"regular-xxs cl-DoveGray",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(t._s(t.product.name))])]),e("div",[e("span",{staticClass:"regular-xs cl-Profit"},[t.product.price&&t.product.price.effective?e("span",{style:t.hasDiscount()?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(" "+t._s(t._f("currencyformat")(t.getProductPrice("effective"))))]):t._e()]),t.getProductPrice("effective")!==t.getProductPrice("marked")?e("span",{staticClass:"regular-xxxs text-seperator"}):t._e(),t.getProductPrice("effective")!==t.getProductPrice("marked")?e("span",{staticClass:"strike-through regular-xxxs cl-DustyGray2",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(t._f("currencyformat")(t.product.price.marked.max))+" ")]):t._e()])])])])])]}}])})},zc=[];const jc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANsAAAFWAQMAAADaFHqxAAAAA1BMVEUAAACnej3aAAAAAXRSTlMAQObYZgAAACBJREFUaN7twTEBAAAAwqD1T20LL6AAAAAAAAAAAADgbSa+AAGGhRJaAAAAAElFTkSuQmCC";var Vc,Wc,qc,Yc,$c,Jc,Xc={props:{product:{},context:{},global_config:{}},components:{"fy-rating":ei},mounted(){},data(){return{imageLoading:!1,imageFullyLoaded:!1}},methods:{getProductPrice(t){return this.product.price?this.$options.filters.currencyformat(this.product.price[t].min):""},imageLoaded(t){this.imageFullyLoaded=!0},stopRouting:function(t){t.stopPropagation(),t.preventDefault()},getPrice(t){if(this.product.price)return this.product.price[t].min!==this.product.price[t].max?this.product.price[t].min+" - "+this.product.price[t].max:this.product.price[t].min},hasDiscount(){return this.getPrice("effective")!==this.getPrice("marked")}},computed:{getProductColor(){return this.product.attributes?"#"+this.product.primary_color_hex:""},getImageURL(){let t=this.product&&this.product.medias.length>0?this.product.medias[0].url:"";if(this.imageFullyLoaded)return t;if(t&&!this.imageLoading){let e=new Image;e.src=t,e.onload=this.imageLoaded.bind(this),this.imageLoading=!0}return jc}}},Kc=Xc,Zc=(i("fae6"),Object(S["a"])(Kc,Gc,zc,!1,null,"17f14d84",null)),tu=Zc.exports,eu=function(){var t=this,e=t._self._c;return e("div",[e("modal",{attrs:{isOpen:t.isOpen,title:"User Images"},on:{closedialog:t.closeDialog}},[e("div",{staticClass:"review-modal-body"},[e("review-more-media-list",{attrs:{activeImageIndex:t.activeImageIndex,media:t.media,max_limit:t.media.length},on:{click:t.showReviewModal}})],1)])],1)},iu=[],nu=function(){var t=this,e=t._self._c;return e("div",[t.activeData?e("div",{staticClass:"review__media__active"},["image"===t.activeData.type?e("img",{staticClass:"review__media__active--image",attrs:{src:t.activeData.url.main,alt:"review_image"}}):"video"===t.activeData.type?e("div",[t.isYoutube(t.activeData.url.main)?e("iframe",{attrs:{width:"350px",height:"100%",src:t.getEmbedURL(t.activeData.url.main)}}):e("video",{attrs:{controls:""}},[e("source",{attrs:{src:t.activeData.url.main,type:"video/mp4"}})])]):t._e()]):t._e(),e("div",{staticClass:"review__more__media"},t._l(t.media.slice(0,t.max_limit),(function(i,n){return e("div",{key:n+"-media",class:{"active-data":t.activeIndex==n},on:{click:function(e){return t.click(n)}}},["image"===i.type?e("img",{staticClass:"review__more__media--image",attrs:{src:i.url.main,alt:"review_image"}}):"video"===i.type?e("div",{staticStyle:{"pointer-events":"none"}},[t.isYoutube(i.url.main)?e("iframe",{attrs:{width:"50px",height:"80px",src:t.getEmbedURL(i.url.main)}}):e("video",{attrs:{controls:""}},[e("source",{attrs:{src:i.url.main,type:"video/mp4"}})])]):t._e()])})),0)])},ru=[],su={name:"review-media-list",props:{media:{type:Array,default:[]},max_limit:{type:Number,default:5},activeImageIndex:{type:Number,default:null}},data(){return{activeIndex:null!=this.activeImageIndex?this.activeImageIndex:0,activeData:null!=this.activeImageIndex?this.media[this.activeImageIndex]:null}},methods:{getEmbedURL(t){return t.indexOf("youtu.be")?t.replace("youtu.be","youtube.com/embed"):t.indexOf("youtube.com/watch")?t.replace("youtube.com/watch","youtube.com/embed"):void 0},isYoutube(t){return t.indexOf("youtu.be")||t.indexOf("youtube.com/watch")},click(t){this.activeIndex=t,this.activeData=this.media[t]}}},ou=su,au=(i("017f"),Object(S["a"])(ou,nu,ru,!1,null,"01a3c716",null)),lu=au.exports,cu={name:"review-image-modal",components:{"review-more-media-list":lu,"review-modal":ac,modal:Qo},props:{isOpen:{type:Boolean,default:!1},media:{type:Object,default:{}},activeImageIndex:{type:Number,default:0}},data(){return{viewFullMedia:!1,reviewitem:{}}},computed:{},methods:{closeDialog(){this.$emit("closedialog")},showReviewModal(t){this.reviewitem=this.media[t]._review,this.viewFullMedia=!0}}},uu=cu,hu=(i("0340"),Object(S["a"])(uu,eu,iu,!1,null,"70a84ddb",null)),du=hu.exports,pu={name:"reviews-page",props:{context:{},global_config:{}},components:{"review-list":bc,"product-card":tu,"review-media-list":pc,"review-image-modal":du},data(){return{showImageModal:!1,activeImageIndex:0}},computed:{getProduct(){return{...this.context.product,attributes:{...this.context.product.attributes,discount:this.context.product_meta.discount},price:this.context.product_meta.price}},reviewMediaData(){let t=[];return(this.context.reviews.items||[]).forEach(e=>{this.hasMedia(e)&&e.review&&(e.review.media_meta.map(t=>t._review=e),t.push(...e.review.media_meta))},[]),t}},methods:{redirectToProduct(){window.open("/product/"+this.context.product.slug,"_blank")},hasMedia(t){return!!t.review&&(t.review.media_meta&&t.review.media_meta.length)},showImageDialog(t){this.activeImageIndex=t||0,this.showImageModal=!0}}},fu=pu,gu=(i("719d"),Object(S["a"])(fu,Hc,Uc,!1,null,"bfb01b90",null)),mu=gu.exports,vu=function(){var t=this,e=t._self._c;return e("div",{style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[e("fdk-add-review",{attrs:{product_type:t.product_type,product_uid:t.product_uid},scopedSlots:t._u([{key:"default",fn:function(i){return[t.context&&t.context.product_data?e("div",{staticClass:"add-review coll-cont"},[e("div",{staticClass:"add-review__header"},[e("div",{staticClass:"add-review__header__text",attrs:{title:t.context.product_data.name}},[t._v(" "+t._s(t.context.product_data.name)+" ")]),e("fdk-link",{attrs:{link:"/product/"+t.context.product_data.slug,target:"_blank",title:t.context.product_data.name,tabindex:"0",itemprop:"url"}},[e("div",{staticClass:"add-review__header__product"},[e("div",{staticClass:"product-detail"},[t.context.product_data.rating?e("div",{staticClass:"product-rating"},[e("rating-star",{attrs:{stars:t.context.product_data.rating}}),t._v(" ("+t._s(t.context.product_data.rating_count)+") ")],1):t._e()]),e("div",{staticClass:"product-image"},[e("img",{staticClass:"tile-image",attrs:{src:t.getImageURL,alt:t.context.product_data.name,title:t.context.product_data.name},on:{error:t.replaceByDefault}})])])])],1),i.is_eligible?e("div",{staticClass:"not-eligible"},[e("fdk-empty-state",{attrs:{title:"Sorry! You cannot review this product"}})],1):e("div",{staticClass:"add-review__body"},[e("div",{staticClass:"add-review__body__rating"},[e("div",{staticClass:"add-review__body__rating__text"},[t._v(" Rate this product ")]),e("div",{staticClass:"add-review__body__rating__star"},[e("star-rating",{attrs:{"star-size":20,"show-rating":!1},model:{value:t.rating.value,callback:function(e){t.$set(t.rating,"value",e)},expression:"rating.value"}}),!t.rating.value&&t.rating.showerror?e("p",{staticClass:"show-error"},[t._v(" "+t._s(t.rating.errortext)+" ")]):t._e()],1)]),e("div",{staticClass:"add-review__body__review"},[e("div",{staticClass:"add-review__body__review__text"},[t._v(" Review this product ")]),e("div",{staticClass:"add-review__body__review__form"},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.review_desc.value,expression:"review_desc.value"}],attrs:{placeholder:"Description*"},domProps:{value:t.review_desc.value},on:{input:function(e){e.target.composing||t.$set(t.review_desc,"value",e.target.value)}}}),!t.review_desc.value&&t.review_desc.showerror?e("p",{staticClass:"show-error"},[t._v(" "+t._s(t.review_desc.errortext)+" ")]):t._e(),e("input",{directives:[{name:"model",rawName:"v-model",value:t.review_title.value,expression:"review_title.value"}],attrs:{type:"text",placeholder:"Title (Optional)"},domProps:{value:t.review_title.value},on:{input:function(e){e.target.composing||t.$set(t.review_title,"value",e.target.value)}}})])]),e("div",{staticClass:"add-review__body__footer"},[e("namaste-button",{staticClass:"submit-button",attrs:{type:"secondary"},on:{click:function(e){return t.submitReview(i)}}},[t._v(" Submit ")])],1)]),e("toast",{attrs:{id:"toast-message",content:t.toast_message}})],1):t._e()]}}])})],1)},Au=[],yu=i("500f"),_u=i.n(yu),bu=i("c1da"),wu=i.n(bu),xu={name:"add-product-review",props:["context"],components:{"namaste-button":T,"rating-star":Il,toast:vt["default"],StarRating:wu.a},data(){return{review_desc:this.getIntialValue(""),review_title:this.getIntialValue(""),rating:this.getIntialValue(0),toast_message:"",imageFullyLoaded:!1,imageLoading:!1,product_type:this.$route.query.type,product_uid:this.$route.query.uid}},computed:{getImageURL(){let t=this.context&&this.context.product_data&&this.context.product_data.medias?this.context.product_data.medias[0].url:"";if(this.imageFullyLoaded)return t;if(t&&!this.imageLoading){let e=new Image;e.src=t,e.onload=this.imageLoaded.bind(this),this.imageLoading=!0}return _u.a}},methods:{imageLoaded(t){this.imageFullyLoaded=!0},getIntialValue(t){return{value:t,showerror:!1,errortext:""}},replaceByDefault(t){t.target.src=_u.a},submitReview(t){const e=this.getFormData();this.validateForm()&&t.addReviewData(e).then(t=>{t.success&&(this.showToast("Review Submitted Successfully"),setTimeout(()=>{this.$router.push("/product/"+this.context.product_data.slug)},200))}).catch(t=>{})},getFormData(){const t={entity_name:this.context.product_data.name,entity_id:this.$route.query.uid.toString(),entity_type:this.$route.query.type,rating:this.rating.value,is_active:!1,video_meta:[],image_meta:[],title:this.review_title.value,description:this.review_desc.value};return t},validateForm(){let t=!0;return t=this.checkEmpty("review_desc")&&t,this.rating.value||(this.rating.showerror=!0,this.rating.errortext="Rating is required"),t=this.rating.value&&t,t},checkEmpty(t){const e={review_desc:"Description is required"};return""===this[t].value.trim()?(this[t].showerror=!0,this[t].errortext=e[t]||"Enter "+t,!1):(this[t].showerror=!1,!0)},showToast:function(t){t&&(this.toast_message=t);var e=document.getElementById("toast-message");e.className="toast show",setTimeout((function(){e.className=e.className.replace("toast show","toast hide")}),3e3)}}},Cu=xu,Eu=(i("bbaf"),Object(S["a"])(Cu,vu,Au,!1,null,"e4a0971c",null)),Su=Eu.exports,Iu={},Tu=Object(S["a"])(Iu,Vc,Wc,!1,null,null,null),Mu=Tu.exports,Bu={},ku=Object(S["a"])(Bu,qc,Yc,!1,null,null,null),Lu=ku.exports,Ru=function(){var t=this,e=t._self._c;return e("div",[t._v("Blogs")])},Pu=[],Du={props:["context"],watch:{context:function(){console.log("brandsss++++++++++++++++++",this.context)}}},Ou=Du,Fu=Object(S["a"])(Ou,Ru,Pu,!1,null,null,null),Nu=Fu.exports,Qu={},Hu=Object(S["a"])(Qu,$c,Jc,!1,null,null,null),Uu=Hu.exports,Gu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wl-cont",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[t.context.favourites&&t.context.favourites.loading?e("div",[e("fdk-loader")],1):t._e(),t.context&&t.context.favourites&&t.context.favourites.items&&t.context.favourites.items.length?[e("div",{},[e("h2",{staticClass:"heading"},[t._v(" Wishlist ")]),e("div",[e("fdk-infinite-favourites",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("div",{staticClass:"grid-wrapper"},[e("div",{staticClass:"group-cards"},[t._l(t.context.favourites.items,(function(i,n){return e("div",{key:"p-wl-"+n},[e("fdk-link",{staticClass:"wl-link",attrs:{link:"/product/"+i.slug}},[e("fy-product-card",{attrs:{showWishlist:!0,isWishListPage:!0,product:i,global_config:t.global_config}})],1)],1)})),i.hasNext?e("fdk-loader",{attrs:{id:"loader"}}):t._e()],2)])]}}],null,!1,4191040220)})],1)])]:!t.context.favourites||t.context.favourites.loading||t.context.favourites.items.length?t._e():e("div",[e("fdk-empty-state",{attrs:{title:"Your Wishlist is empty."}})],1)],2)},zu=[],ju={name:"wishlist",components:{loader:Uu,"fy-product-card":Er},data(){return{}},mounted(){},methods:{}},Vu=ju,Wu=(i("dbcd"),Object(S["a"])(Vu,Gu,zu,!1,null,"0e912845",null)),qu=Wu.exports,Yu=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-main-container",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[!t.context.brands.loading||t.context.brands&&t.context.brands.items&&t.context.brands.items.length>0?t.context.brands&&t.context.brands.items&&t.context.brands.items.length>0?[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.page_config&&t.page_config.props&&t.page_config.props.title&&t.page_config.props.title.length>0?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.page_config.props.title)+" ")]):t._e()]),e("fdk-brands-listing",{scopedSlots:t._u([{key:"default",fn:function(i){return[e("fdk-infinite-scrolling",{attrs:{loadingData:t.context.brands.loading},on:{loadmore:i.loadmore}},[e("group-list",{attrs:{cardlist:t.context.brands.items,cardtype:"BRANDS",itemcount:t.page_config.props.items_per_row,show_only_logo:"logo"===t.page_config.props.view_options,global_config:t.global_config}})],1)]}}])}),t.context.brands.page.has_next?e("fdk-loader",{attrs:{id:"loader"}}):t._e()],1)])]:t.context.brands&&t.context.brands.items&&0===t.context.brands.items.length&&t.isMounted?e("fdk-empty-state",{attrs:{title:"No Brands Found"}}):t._e():e("div",[e("fdk-loader")],1)],2)},$u=[],Ju={data(){return{brands:[],isLoading:!1,isMounted:!1}},components:{"group-list":bi,"emerge-image":Z,"placeholder-items":hr},watch:{settings:function(t,e){}},computed:{getparam(){return this.$route.params.department},getDepartments(){return this.context.departments&&Array.isArray(this.context.departments)?this.context.departments:null}},mounted(){this.isMounted=!0},methods:{}},Xu=Ju,Ku=(i("b25e"),i("b084")),Zu=i.n(Ku),th=Object(S["a"])(Xu,Yu,$u,!1,null,"c94e4e92",null);"function"===typeof Zu.a&&Zu()(th);var eh,ih,nh,rh,sh,oh,ah,lh,ch,uh,hh=th.exports,dh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"empty-container"},[e("div",{staticClass:"empty-state"},[e("img",{attrs:{src:i("ea27")}}),e("div",{staticClass:"no-items"},[e("p",{staticClass:"title"},[t._v(t._s(t.getTitle))]),t.subtitle?e("p",{staticClass:"subtitle"},[t._v(t._s(t.subtitle))]):t._e()]),e("fdk-link",{attrs:{link:t.getButtonLink}},[e("button",{staticClass:"back-btn",attrs:{type:"secondary"}},[e("span",[t._v(t._s(t.getButtonText))])])])],1)])},ph=[],fh=function(){var t=this,e=t._self._c;return e("button",{staticClass:"common-button button",class:t.type,attrs:{type:"button",disabled:t.disabled},on:{click:function(e){return t.$emit("click")}}},[t._t("default",(function(){return[t._v(t._s(t.type))]}))],2)},gh=[],mh={data:function(){return{}},props:{context:{type:Object},type:{type:String,validator:t=>["primary","secondary"].includes(t),default:"primary"},disabled:{type:Boolean,default:!1}},methods:{getBackgroundColor(){return"primary"==this.type?"black":"secondary"==this.backgroundcolortype?"#ffffff":"black"},getColor(){return"secondary"==this.type?"#000":"#ffffff"},getBorder(){return"secondary"==this.type?"1px solid #000":"none"}},computed:{},mounted:function(){},destroyed:function(){}},vh=mh,Ah=(i("7e699"),Object(S["a"])(vh,fh,gh,!1,null,"13feb3cd",null)),yh=Ah.exports,_h={components:{button:yh},props:["title","subtitle","button","context"],computed:{getTitle(){if(this.context){const{title:t}=this.context;if(t)return t}return this.title||""},getButtonLink(){if(this.context){const{button:t}=this.context;if(t&&t.link)return t.link}return"/"},getButtonText(){if(this.context){const{button:t}=this.context;if(t&&t.text)return t.text}return"Go to Home"}},data:function(){return{text:"Empty"}}},bh=_h,wh=(i("65a4"),Object(S["a"])(bh,dh,ph,!1,null,"0f5141f4",null)),xh=(wh.exports,{}),Ch=Object(S["a"])(xh,eh,ih,!1,null,null,null),Eh=Ch.exports,Sh={},Ih=Object(S["a"])(Sh,nh,rh,!1,null,null,null),Th=Ih.exports,Mh={},Bh=Object(S["a"])(Mh,sh,oh,!1,null,null,null),kh=Bh.exports,Lh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"faqs-container"},[e("h2",{staticClass:"title"},[t._v("FAQ")]),e("div",{staticClass:"faqs mt-5"},[e("h2",{staticClass:"mb-3"},[t._v("Questions & Answers")]),this.hasFaq?e("ul",{staticClass:"faqs__list"},t._l(t.getFaqs,(function(i,n){return e("li",{key:n,staticClass:"faqs__list--item mb-5"},[e("div",{staticClass:"question"},[t._v(t._s(`${n+1}. ${i.question}`))]),e("div",{staticClass:"answer"},[t._v(t._s(i.answer))])])})),0):t._e()])])},Rh=[],Ph={props:{context:{}},watch:{context(t){t&&t.categoryFaqs&&t.categoryFaqs.length>0&&t.categoryFaqs[0]&&t.categoryFaqs[0]&&t.categoryFaqs[0]&&t.categoryFaqs[0].children,t.categoryFaqs[0].children.length>0&&setTimeout(()=>{this.hasFaq=!0},500)}},data(){return{hasFaq:!1}},computed:{getFaqs(){let t=[];return this.context.categoryFaqs.forEach(e=>{e.childFaqs.forEach(e=>{t.push(e)})}),t}}},Dh=Ph,Oh=(i("cb26"),Object(S["a"])(Dh,Lh,Rh,!1,null,"567b930e",null)),Fh=Oh.exports,Nh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"home-cont",style:t.global_config?"color:"+t.global_config.props.text_body_color:""},[e("sections",{attrs:{page:"home"}})],1)},Qh=[],Hh={data(){return{}},components:{}},Uh=Hh,Gh=(i("92a3"),Object(S["a"])(Uh,Nh,Qh,!1,null,"6fe82770",null)),zh=Gh.exports,jh={},Vh=Object(S["a"])(jh,ah,lh,!1,null,null,null),Wh=Vh.exports,qh={},Yh=Object(S["a"])(qh,ch,uh,!1,null,null,null),$h=Yh.exports,Jh=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[t._v(" "+t._s(t.text)+" "),e("button",{on:{click:t.exampleMethod}},[t._v("Click me")])])},Xh=[],Kh={data:function(){return{text:"Hello"}}},Zh=Kh,td=Object(S["a"])(Zh,Jh,Xh,!1,null,"56fecf3e",null),ed=td.exports,id={testpage:{component:ed,header:!1,footer:!1}},nd=(i("6bd7"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"app-banner-cont",class:{"section-main-container":!t.settings.props.full_width.value,"full-width-section":t.settings.props.full_width.value}},[e("div",{staticClass:"card-container"},[t.banner_image?e("div",{staticClass:"top-items"},[e("fdk-link",{attrs:{link:t.settings.props.banner_link&&t.settings.props.banner_link.value||""}},[t.banner_image?e("emerge-image",{attrs:{src:t.banner_image,sources:[{breakpoint:{min:1441,max:1920},width:1920},{breakpoint:{min:1367,max:1440},width:1440},{breakpoint:{min:1281,max:1366},width:1366},{breakpoint:{min:1025,max:1280},width:1280},{breakpoint:{min:769,max:1024},width:1024},{breakpoint:{min:541,max:768},width:768},{breakpoint:{min:481,max:540},width:540},{breakpoint:{min:361,max:480},width:480},{breakpoint:{max:360},width:360}],placeholder:""}}):e("fdk-placeholder",{attrs:{type:"banner-1"}})],1)],1):t._e()])])}),rd=[],sd={props:["settings","context"],mounted(){},components:{"emerge-image":Z},data(){return{banner_image:this.context.app_config.application.banner&&this.context.app_config.application.banner.secure_url||""}},methods:{}},od=sd,ad=(i("3716"),i("3bb7")),ld=i.n(ad),cd=Object(S["a"])(od,nd,rd,!1,null,"26558d27",null);"function"===typeof ld.a&&ld()(cd);var ud=cd.exports,hd=function(){var t=this,e=t._self._c;return e("div",["style1"===t.settings.props.styleV.value?[e("section",{class:["media-with-text","full-width-section"]},[e("div",{class:["media-with-text__content"]},[e("div",{staticClass:"media-with-text__content--main"},[t._v(" "+t._s(t.settings.props.text.value)+" ")])]),e("br"),e("br"),e("br"),e("div",{staticClass:"media-with-text__mainBlock"},[e("div",{staticClass:"media-with-text__mainBlock--firstBlock"},[e("img",{attrs:{src:this.items[0].feature_image.secure_url}}),e("div",{staticClass:"media-with-text__mainBlock--firstBlock--text"},[t._v(t._s(this.items[0].title))])]),e("div",{staticClass:"media-with-text__mainBlock--secondBlock"},[e("img",{attrs:{src:this.items[1].feature_image.secure_url}}),e("div",{staticClass:"media-with-text__mainBlock--firstBlock--text"},[t._v(t._s(this.items[1].title))])]),e("div",{staticClass:"media-with-text__mainBlock--thirdBlock"},[e("img",{attrs:{src:this.items[2].feature_image.secure_url}}),e("div",{staticClass:"media-with-text__mainBlock--firstBlock--text"},[t._v(t._s(this.items[2].title))])])]),e("br"),e("br"),e("div",{staticClass:"media-with-text__btn"},[t.settings.props.button_text.value?e("sm-button",{attrs:{backgroundcolortype:"primary",colortype:"primary",bordertype:"primary",padding:"primary",global_config:t.global_config}},[t._v(" "+t._s(t.settings.props.button_text.value)+" ")]):t._e()],1)]),e("div",{staticClass:"whites100"})]:t._e(),"style2"===t.settings.props.styleV.value?[e("section",{class:["media-with-text2","full-width-section"]},[e("div",{class:["media-with-text2__content"]},[e("div",{staticClass:"media-with-text2__content--main"},[t._v(" "+t._s(t.settings.props.text.value)+" ")])]),e("br"),e("br"),e("br"),e("div",{staticClass:"media-with-text2__mainBlock"},[e("div",{staticClass:"media-with-text2__mainBlock--firstBlock"},[e("img",{attrs:{src:this.items[0].feature_image.secure_url}}),e("div",{staticClass:"media-with-text2__mainBlock--firstBlock--text"},[t._v(t._s(this.items[0].title))])]),e("div",{staticClass:"media-with-text2__mainBlock--secondBlock"},[e("img",{attrs:{src:this.items[1].feature_image.secure_url}}),e("div",{staticClass:"media-with-text2__mainBlock--secondBlock--text"},[t._v(t._s(this.items[1].title))])])]),e("br"),e("br"),e("br"),e("div",{staticClass:"media-with-text2__secondBlock"},[e("div",{staticClass:"media-with-text2__secondBlock--firstBlock"},[e("img",{attrs:{src:this.items[2].feature_image.secure_url}}),e("div",{staticClass:"media-with-text2__secondBlock--firstBlock--text"},[t._v(t._s(this.items[2].title))])]),e("div",{staticClass:"media-with-text2__secondBlock--secondBlock"},[e("img",{attrs:{src:this.items[3].feature_image.secure_url}}),e("div",{staticClass:"media-with-text2__secondBlock--secondBlock--text"},[t._v(t._s(this.items[3].title))])]),e("div",{staticClass:"media-with-text2__secondBlock--thirdBlock"},[e("img",{attrs:{src:this.items[4].feature_image.secure_url}}),e("div",{staticClass:"media-with-text2__secondBlock--thirdBlock--text"},[t._v(t._s(this.items[4].title))])])]),e("br"),e("br"),e("div",{staticClass:"media-with-text__btn"},[t.settings.props.button_text.value?e("sm-button",{attrs:{backgroundcolortype:"primary",colortype:"primary",bordertype:"primary",padding:"primary",global_config:t.global_config}},[t._v(" "+t._s(t.settings.props.button_text.value)+" ")]):t._e()],1)]),e("div",{staticClass:"whites100"})]:t._e(),"style3"===t.settings.props.styleV.value?[e("section",{class:["media-with-text3","full-width-section"]},[e("div",{class:["media-with-text3__content"]},[e("div",{staticClass:"media-with-text3__content--main"},[t._v(" "+t._s(t.settings.props.text.value)+" ")])]),e("br"),e("br"),e("br"),e("div",{staticClass:"media-with-text3__mainBlock"},[e("div",{staticClass:"media-with-text3__mainBlock--firstBlock"},[e("img",{attrs:{src:this.items[0].feature_image.secure_url}}),e("div",{staticClass:"media-with-text3__mainBlock--firstBlock--text"},[t._v(t._s(this.items[0].title))])])]),e("br"),e("br"),e("br"),e("div",{staticClass:"media-with-text3__secondBlock"},[e("div",{staticClass:"media-with-text3__secondBlock--firstBlock"},[e("img",{attrs:{src:this.items[1].feature_image.secure_url}}),e("div",{staticClass:"media-with-text3__secondBlock--firstBlock--text"},[t._v(t._s(this.items[1].title))])]),e("div",{staticClass:"media-with-text3__secondBlock--secondBlock"},[e("img",{attrs:{src:this.items[2].feature_image.secure_url}}),e("div",{staticClass:"media-with-text3__secondBlock--secondBlock--text"},[t._v(t._s(this.items[2].title))])])]),e("br"),e("br"),e("div",{staticClass:"media-with-text__btn"},[t.settings.props.button_text.value?e("sm-button",{attrs:{backgroundcolortype:"primary",colortype:"primary",bordertype:"primary",padding:"primary",global_config:t.global_config}},[t._v(" "+t._s(t.settings.props.button_text.value)+" ")]):t._e()],1)]),e("div",{staticClass:"whites100"})]:t._e()],2)},dd=[],pd=(i("4bcc"),{data(){return{items:[]}},props:["settings","context","global_config"],computed:{},methods:{fetchData(){console.log("Inside func"),this.$apiSDK.content.getBlogs({pageNo:1,pageSize:5}).then(t=>{console.log("Data from Blog API",t),this.items=t.items,console.log("Items Title",this.items[0].title),console.log("Items Image",this.items[0].feature_image.secure_url)})}},components:{"sm-button":Dl,"no-ssr":ts.a},mounted(){this.fetchData(),console.log("Setting Data from Blog",this.settings)}}),fd=pd,gd=(i("9a48"),i("3c14")),md=i.n(gd),vd=Object(S["a"])(fd,hd,dd,!1,null,"17597882",null);"function"===typeof md.a&&md()(vd);var Ad=vd.exports,yd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-main-container"},[[e("fdk-infinite-scrolling",{attrs:{loadingData:t.loading},on:{loadmore:function(e){return t.loadMoreData()}}},[[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.settings.props.title.value&&t.settings.props.title.value.length>0||t.settings.props.cta_text.value?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.settings.props.title.value)+" ")]):t._e(),t.brands.length>0&&t.settings.props.cta_text.value?e("fdk-link",{staticClass:"link view-all-text",style:"color:"+t.global_config.props.text_heading_link_color,attrs:{link:"/brands/"}},[t._v(t._s(t.settings.props.cta_text.value))]):t._e()],1),"grid"!==t.settings.props.layout.value||"handpicked"!==t.settings.props.brand_type.value&&"handpicked"===t.settings.props.brand_type.value?t._e():e("div",[e("group-list",{attrs:{cardlist:t.brands,cardtype:"BRANDS",itemcount:t.settings.props.items_per_row.value,show_only_logo:"logo"===t.settings.props.view_options.value,global_config:t.global_config}})],1),"horizontal"!==t.settings.props.layout.value||"handpicked"!==t.settings.props.brand_type.value&&"handpicked"===t.settings.props.brand_type.value?t._e():e("div",[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.brands,(function(i,n){return e("div",{key:n,staticClass:"glide__slide",class:{"big-slide-item":t.settings.props.items_per_row.value<5},attrs:{"data-count":t.settings.props.items_per_row.value}},[i?e("fdk-link",{attrs:{link:"/products/?brand="+i.slug}},["logo"===t.settings.props.view_options.value?e("div",{staticClass:"logo-card"},[e("section",[i&&i.logo?e("emerge-image",{attrs:{src:i.logo.url,sources:[{width:200}]}}):t._e()],1),e("h3",{style:"color: "+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(i.name)+" ")])]):e("div",{staticClass:"common-card"},[e("section",[e("emerge-image",{staticClass:"imgClass",attrs:{src:t.getBrandImage(i),sources:[{breakpoint:{min:768},width:360},{breakpoint:{min:361},width:197},{breakpoint:{max:360},width:166}],alt:t.title}})],1),e("div",{staticClass:"logo-wrapper"},[e("div",{staticClass:"card-logo"},[i&&i.logo?e("emerge-image",{attrs:{src:i.logo.url}}):t._e()],1),e("div",{staticClass:"card-desc"},[e("h4",{style:"color: "+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(i.name)+" ")])])])])]):e("fdk-placeholder",{attrs:{type:"collection-1"}})],1)})),0)]),t.brands.length>t.settings.props.items_per_row.value?e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.brands.length,t.settings.props.items_per_row.value),(function(i,n){return e("button",{directives:[{name:"show",rawName:"v-show",value:t.checkGlide(i,t.settings.props.items_per_row.value),expression:"\n                      checkGlide(entry, settings.props.items_per_row.value)\n                    "}],key:i,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+i}})})),0):t._e(),e("div",{staticClass:"arrows",class:{"hide-slider-nav":t.brands.length<=t.settings.props.items_per_row.value}},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-brands",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-brands",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])])])]),e("div",{staticClass:"view-all-mobile",class:{"view-all-horizontal":"horizontal"===t.settings.props.layout.value},style:"color:"+t.global_config.props.text_heading_link_color},[t.brands.length>0&&t.settings.props.cta_text.value?e("fdk-link",{staticClass:"view-all-text",attrs:{link:"/brands/"}},[t._v(t._s(t.settings.props.cta_text.value))]):t._e()],1)])])],t.isLoading?e("fdk-loader",{staticClass:"infi-loader"}):t._e()],2)],0===t.brands.length&&t.isMounted?[e("placeholder-items",{attrs:{count:2*t.settings.props.items_per_row.value,items_per_row:t.settings.props.items_per_row.value,type:"collection-1",text:"Brand",layout:t.settings.props.layout.value}})]:t._e()],2)},_d=[],bd={props:["settings","apiSDK","serverProps","global_config"],data(){var t,e,i;return{brands:(null===(t=this.serverProps)||void 0===t?void 0:t.brands)||[],isLoading:!1,brandsLoaded:(null===(e=this.serverProps)||void 0===e?void 0:e.brandsLoaded)||0,isMounted:!1,page:(null===(i=this.serverProps)||void 0===i?void 0:i.page)||{current:0,has_next:!0},glideOptions:{type:"slider",startAt:0,gap:30,perView:this.settings.props.items_per_row.value,breakpoints:{1024:{perView:3},600:{perView:2},480:{perView:2}}},carouselHandle:null}},components:{"group-list":bi,"emerge-image":Z,"placeholder-items":hr},watch:{settings:function(t,e){(t.props.brand_type.value!==e.props.brand_type.value||t.props.department.value!==e.props.department.value||this.isBlocksChanged(t.blocks,e.blocks))&&(this.brands=[],this.brandsLoaded=0,this.page={current:0,has_next:!0}),this.cleanupComponent(),this.initializeComponent()}},methods:{checkGlide(t,e){if(t&&e)return parseInt(t)%e===0},checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,replaceByDefault(t){t.target.src=Fe.a},getBrandImage(t){var e,i;return"handpicked"!==this.settings.props.brand_type.value?t.banners.portrait.url:null===t||void 0===t||null===(e=t.banners)||void 0===e||null===(i=e.portrait)||void 0===i?void 0:i.url},loadMoreData(){let t={department:"",image_size:"large",pageNo:this.page.current+1};"department"===this.settings.props.brand_type.value&&(t.department=this.settings.props.department.value),"grid"===this.settings.props.layout.value&&"handpicked"!==this.settings.props.brand_type.value&&!this.isLoading&&this.fetchBrands(t)},fetchBrands(t){if("handpicked"!==this.settings.props.brand_type.value)this.page&&this.page.has_next&&(this.isLoading=!0,this.$apiSDK.catalog.getBrands(t).then(t=>{this.brands=[...this.brands,...t.items],this.page=t.page,this.isMounted=!0,this.isLoading=!1,this.initCarousel()}).catch(t=>{this.isLoading=!1}));else{this.isLoading=!0;let t=[];this.settings.blocks.forEach(e=>{e.props.brand.value.id&&t.push(this.$apiSDK.catalog.getBrandDetailBySlug({slug:e.props.brand.value.id}).then(t=>t))}),Promise.all(t).then(t=>{this.brands=t,this.isMounted=!0,this.isLoading=!1,this.brandsLoaded=this.brands.length,this.initCarousel()}).catch(t=>{this.isLoading=!1})}},prevSlide(){let t=this.settings.props.items_per_row.value;lt()?this.carouselHandle.index-1>=0&&this.carouselHandle.go("="+(this.carouselHandle.index-1)):this.carouselHandle.index-t>=0?this.carouselHandle.go("="+(this.carouselHandle.index-t)):this.carouselHandle.go("<<")},nextSlide(){let t=this.settings.props.items_per_row.value;lt()?this.carouselHandle.index+1>=this.brands.length-1&&(this.carouselHandle.go("="+(this.carouselHandle.index+1)),this.carouselHandle.go(">")):this.carouselHandle.index+t<this.brands.length?this.carouselHandle.go("="+(this.carouselHandle.index+t)):this.carouselHandle.go(">>")},initCarousel(){ot["isBrowser"]&&"horizontal"===this.settings.props.layout.value&&!this.carouselHandle&&(this.$refs.glide?this.$nextTick(()=>{try{window.screen.width>480&&window.screen.width<=768?this.glideOptions.gap=40:window.screen.width<=480&&(this.glideOptions.gap=12),this.brands.length<=this.settings.props.items_per_row.value&&!lt()?this.glideOptions.type="slider":this.glideOptions.type="carousel",this.carouselHandle=new ar(this.$refs.glide,this.glideOptions);let t=this.$refs.glide.getAttribute("class");this.carouselHandle.on(["move.after"],()=>{let e=document.querySelectorAll(`.${t} [data-glide-dir]`);e&&e.length>0&&e.forEach(t=>{t.classList.remove("glide__bullet--active")});let i=this.carouselHandle?document.querySelectorAll(`.${t} [data-glide-dir='=${this.carouselHandle.index}']`):null;i&&i.length>0&&i[0].classList.add("glide__bullet--active")}),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){window.screen.width>600&&window.screen.width<=1024?this.settings.props.items_per_row.value=3:window.screen.width>480&&window.screen.width<=600?this.settings.props.items_per_row.value=2:window.screen.width<=480&&(this.settings.props.items_per_row.value=1),this.glideOptions.perView=this.settings.props.items_per_row.value;const t=new URLSearchParams(window.location.search),e=t.get("isPreview");if(0==this.brands.length||e){var i;const{brand_type:t,department:e}=(null===(i=this.settings)||void 0===i?void 0:i.props)||{},n={department:"",image_size:"large",pageNo:this.page.current+1};"department"===t.value&&(n.department=e.value),!this.isLoading&&this.fetchBrands(n)}else this.isMounted=!0,this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)},isBlocksChanged(t,e){return JSON.stringify(t)!==JSON.stringify(e)}},initializeServerProps({apiSDK:t,settings:e}){const{brand_type:i,department:n}=(null===e||void 0===e?void 0:e.props)||{},r={department:"",pageNo:1};return"department"===i.value&&(r.department=n.value),"handpicked"!==e.props.brand_type.value?t.catalog.getBrands(r).then(t=>({brands:t.items||[],page:t.page})).catch(t=>console.log):Promise.all(e.blocks.map(e=>t.catalog.getBrandDetailBySlug({slug:e.props.brand.value.id}).then(t=>t.items||[]).catch(t=>console.log))).then(t=>({brands:t,brandsLoaded:t.length}))},mounted(){this.initializeComponent()},beforeDestroy(){this.cleanupComponent()}},wd=bd,xd=(i("5677"),i("30a4")),Cd=i.n(xd),Ed=Object(S["a"])(wd,yd,_d,!1,null,"28a79739",null);"function"===typeof Cd.a&&Cd()(Ed);var Sd=Ed.exports,Id=function(){var t=this,e=t._self._c;return e("div",{staticClass:"collections__template section-main-container"},[[e("fdk-infinite-scrolling",{attrs:{loadingData:t.loading},on:{loadmore:function(e){return t.loadMoreData()}}},[[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.settings.props.title.value&&t.settings.props.title.value.length>0||t.settings.props.cta_text.value?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.settings.props.title.value)+" ")]):t._e(),t.collections.length>0&&t.settings.props.cta_text.value?e("fdk-link",{staticClass:"link view-all-text",style:"color:"+t.global_config.props.text_heading_link_color,attrs:{link:"/collections/"}},[t._v(" "+t._s(t.settings.props.cta_text.value))]):t._e()],1),"grid"===t.settings.props.layout.value?e("div",[e("group-list",{attrs:{cardlist:t.collections,cardtype:"COLLECTIONS",itemcount:t.settings.props.items_per_row.value,global_config:t.global_config}})],1):t._e(),"horizontal"!==t.settings.props.layout.value||"handpicked"!==t.settings.props.collection_type.value&&"handpicked"===t.settings.props.collection_type.value?t._e():e("div",[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.collections,(function(i,n){return e("div",{key:n,staticClass:"glide__slide"},[i?e("fdk-link",{attrs:{link:"/collection/"+i.slug}},[e("div",{staticClass:"common-card"},[e("section",[i.banners&&i.banners.portrait?e("emerge-image",{attrs:{src:i.banners.portrait.url,sources:[{breakpoint:{min:768},width:360},{breakpoint:{min:361},width:250},{breakpoint:{max:360},width:200}],alt:i.name}}):e("fdk-placeholder",{attrs:{type:"collection-3"}})],1),e("h3",{style:"color: "+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(i.name)+" ")])])]):e("fdk-placeholder",{attrs:{type:"collection-3"}})],1)})),0)]),t.collections.length>t.settings.props.items_per_row.value?e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.collections.length,t.settings.props.items_per_row.value),(function(i,n){return e("button",{directives:[{name:"show",rawName:"v-show",value:t.checkGlide(i,t.settings.props.items_per_row.value),expression:"\n                      checkGlide(entry, settings.props.items_per_row.value)\n                    "}],key:n,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+i}})})),0):t._e(),t.collections.length>t.settings.props.items_per_row.value?e("div",{staticClass:"arrows"},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-coll",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-coll",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])]):t._e()])]),e("div",{staticClass:"view-all-mobile",class:{"view-all-horizontal":"horizontal"===t.settings.props.layout.value},style:"color:"+t.global_config.props.text_heading_link_color},[t.collections.length>0&&t.settings.props.cta_text.value?e("fdk-link",{staticClass:"view-all-text",attrs:{link:"/collections/"}},[t._v(t._s(t.settings.props.cta_text.value))]):t._e()],1)])])],0===t.collections.length&&t.isMounted?e("fdk-empty-state",{attrs:{title:"No Collections Found"}}):t._e(),t.isLoading?e("fdk-loader",{staticClass:"infi-loader"}):t._e()],2)],0===t.collections.length&&t.isMounted?[e("placeholder-items",{attrs:{count:2*t.settings.props.items_per_row.value,items_per_row:t.settings.props.items_per_row.value,type:"collection-3",text:"Collection",layout:t.settings.props.layout.value}})]:t._e()],2)},Td=[],Md={props:["settings","apiSDK","serverProps","global_config"],data(){var t,e,i;return{collections:(null===(t=this.serverProps)||void 0===t?void 0:t.collections)||[],isLoading:!1,collectionsLoaded:(null===(e=this.serverProps)||void 0===e?void 0:e.collectionsLoaded)||0,isMounted:!1,page:(null===(i=this.serverProps)||void 0===i?void 0:i.page)||{current:0,has_next:!0},glideOptions:{type:"carousel",startAt:0,gap:30,perView:this.settings.props.items_per_row.value,breakpoints:{1024:{perView:3},600:{perView:2},480:{perView:2}}},carouselHandle:null}},components:{"group-list":bi,"emerge-image":Z,"placeholder-items":hr},watch:{settings:function(t,e){t.props.collection_type.value!==e.props.collection_type.value&&(this.collections=[],this.collectionsLoaded=0,this.page={current:0,has_next:!0}),this.cleanupComponent(),this.initializeComponent()}},methods:{checkGlide(t,e){if(t&&e)return parseInt(t)%e===0},checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,replaceByDefault(t){t.target.src=Fe.a},loadMoreData(){let t={pageNo:this.page.current+1};"grid"===this.settings.props.layout.value&&!this.isLoading&&this.fetchCollections(t)},getTags(t){let e=t,i=[];if(-1!==e.indexOf(",")){let t=e.split(",");t.map(t=>{t&&i.push(t.trim())})}else i.push(e);return i},fetchCollections(t){if("handpicked"!==this.settings.props.collection_type.value)this.page&&this.page.has_next?(this.isLoading=!0,this.$apiSDK.catalog.getCollections(t).then(t=>{this.collections=[...this.collections,...t.items],this.page=t.page,this.isMounted=!0,this.isLoading=!1,this.initCarousel()}).catch(t=>{this.isLoading=!1})):this.isLoading=!1;else if(0===this.collections.length){this.isLoading=!0;let t=[];this.settings.blocks.forEach(e=>{e.props.collection&&e.props.collection.value?(this.isLoading=!0,t.push(this.$apiSDK.catalog.getCollectionDetailBySlug({slug:e.props.collection.value}).then(t=>{if(t&&t.banners)return t}))):t.push(null)}),Promise.all(t).then(t=>{this.collections=t,this.isMounted=!0,this.isLoading=!1,this.collectionsLoaded=this.collections.length,this.initCarousel()})}},prevSlide(){let t=this.settings.props.items_per_row.value;lt()?this.carouselHandle.index-1>=0&&this.carouselHandle.go("="+(this.carouselHandle.index-1)):this.carouselHandle.index-t>=0?this.carouselHandle.go("="+(this.carouselHandle.index-t)):this.carouselHandle.go("<<")},nextSlide(){let t=this.settings.props.items_per_row.value;lt()?this.carouselHandle.index+1>=this.collections.length-1&&this.carouselHandle.go("="+(this.carouselHandle.index+1)):this.carouselHandle.index+t<this.collections.length?this.carouselHandle.go("="+(this.carouselHandle.index+t)):this.carouselHandle.go(">>")},initCarousel(){ot["isNode"]||"horizontal"!==this.settings.props.layout.value||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{window.screen.width>480&&window.screen.width<=768?this.glideOptions.gap=40:window.screen.width<=480&&(this.glideOptions.gap=12),this.carouselHandle=new ar(this.$refs.glide,this.glideOptions);let t=this.$refs.glide.getAttribute("class");this.carouselHandle.on(["move.after"],()=>{let e=document.querySelectorAll(`.${t} [data-glide-dir]`);e&&e.length>0&&e.forEach(t=>{t.classList.remove("glide__bullet--active")});let i=this.carouselHandle?document.querySelectorAll(`.${t} [data-glide-dir='=${this.carouselHandle.index}']`):null;i&&i.length>0&&i[0].classList.add("glide__bullet--active")}),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){if(window.screen.width>600&&window.screen.width<=1024?this.settings.props.items_per_row.value=3:window.screen.width>480&&window.screen.width<=600?this.settings.props.items_per_row.value=2:window.screen.width<=480&&(this.settings.props.items_per_row.value=1),this.glideOptions.perView=this.settings.props.items_per_row.value,0===this.collections.length){this.isLoading=!0;const{props:t,blocks:e}=this.settings,i={pageNo:this.page.current+1};this.fetchCollections(i)}else this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},mounted(){this.initializeComponent()},initializeServerProps({apiSDK:t,settings:e,route:i}){const n={pageNo:1};if("handpicked"!==e.props.collection_type.value)return t.catalog.getCollections(n).then(t=>({collections:null===t||void 0===t?void 0:t.items,page:null===t||void 0===t?void 0:t.page}));{const i=e.blocks.map(e=>t.catalog.getCollectionDetailBySlug({slug:e.props.collection.value}));return Promise.all(i).then(t=>{let e=[],i=0;return t.forEach(t=>{banners&&e.push(t),i++}),{collections:e,collectionsLoaded:i}})}}},Bd=Md,kd=(i("f870"),i("d40c")),Ld=i.n(kd),Rd=Object(S["a"])(Bd,Id,Td,!1,null,"5576f24b",null);"function"===typeof Ld.a&&Ld()(Rd);var Pd=Rd.exports,Dd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"full-width-section",domProps:{innerHTML:t._s(t.settings.props.code.value)}})},Od=[],Fd={props:["settings"]},Nd=Fd,Qd=i("8ced"),Hd=i.n(Qd),Ud=Object(S["a"])(Nd,Dd,Od,!1,null,null,null);"function"===typeof Hd.a&&Hd()(Ud);var Gd=Ud.exports,zd=function(){var t=this,e=t._self._c;return e("div",{staticClass:"section-main-container"},[t.settings.props.title.value.length>0?e("h2",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.settings.props.title.value)+" ")]):t._e(),t.products.items&&t.products.items.length>0?["horizontal"===t.settings.props.layout.value?e("div",{staticClass:"section-carousel"},[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.products.items,(function(i,n){return e("div",{key:n,staticClass:"glide__slide"},[i?e("fdk-link",{attrs:{link:"/product/"+i.slug}},[e("div",{staticClass:"product-card"},[e("div",{staticClass:"img"},[i&&i.medias[0]?e("emerge-image",{attrs:{src:i.medias.length>0?i.medias[0].url:"",sources:[{width:492}],title:i.name,alt:i.name}}):e("fdk-placeholder",{attrs:{type:"product-2"}})],1),e("div",{staticClass:"details"},[e("div",{staticClass:"title",style:"color: "+t.global_config.props.text_heading_link_color,attrs:{title:i.name}},[t._v(" "+t._s(i.name)+" ")]),e("div",{staticClass:"price"},[e("span",{style:t.hasDiscount(i)?"color:"+t.global_config.props.text_sale_price_color:"color:"+t.global_config.props.text_price_color},[t._v(" "+t._s(i.price.effective.currency_symbol)+" "+t._s(t.getPrice(i,"effective"))+" ")]),t.hasDiscount(i)?e("span",{staticClass:"price-marked strikethrough",style:"color:"+t.global_config.props.text_strikethrough_price_color},[t._v(" "+t._s(i.price.marked.currency_symbol)+" "+t._s(i.price.marked.max)+" ")]):t._e(),t.hasDiscount(i)?e("span",{staticClass:"product-total-discount"},[e("span",{},[t._v(t._s(i.discount))])]):t._e()])])])]):e("fdk-placeholder",{attrs:{type:"product-2"}})],1)})),0)]),t.products.items&&t.products.items.length>t.settings.props.items_per_row.value?e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.products.items.length,t.settings.props.items_per_row.value),(function(i,n){return e("button",{directives:[{name:"show",rawName:"v-show",value:t.checkGlide(i,t.settings.props.items_per_row.value),expression:"checkGlide(entry, settings.props.items_per_row.value)"}],key:n,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+i}})})),0):t._e(),this.settings.props.autoplay.value?t._e():e("div",{staticClass:"arrows"},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-cat",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-cat",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])])])]):t._e(),t.products.items&&t.products.items.length>0&&"grid"===t.settings.props.layout.value?e("div",{},[e("group-list",{attrs:{cardlist:t.products.items,cardtype:"PRODUCT",itemcount:t.settings.props.items_per_row.value,global_config:t.global_config}})],1):t._e()]:t.products.items&&0===t.products.items.length?[e("placeholder-items",{attrs:{count:10,items_per_row:t.settings.props.items_per_row.value,type:"product-2",text:"Product",layout:t.settings.props.layout.value}})]:t._e()],2)},jd=[],Vd={props:["settings","apiSDK","serverProps","global_config"],components:{"group-list":bi,"emerge-image":Z,"placeholder-items":hr},initializeServerProps({apiSDK:t,settings:e}){var i,n;const r=null===e||void 0===e||null===(i=e.props)||void 0===i||null===(n=i.collection)||void 0===n?void 0:n.value;return t.catalog.getCollectionItemsBySlug({slug:r}).then(t=>t||{}).catch(t=>console.log(t))},watch:{settings:function(t,e){t.props.collection.value!==e.props.collection.value&&(this.products=[]),this.cleanupComponent(),this.initializeComponent()}},mounted(){this.initializeComponent()},data:function(){return{products:this.serverProps||[],isMounted:!1,glideOptions:{type:"carousel",startAt:0,gap:30,perView:this.settings.props.items_per_row.value,breakpoints:{1024:{perView:3},600:{perView:2},480:{perView:1}}},carouselHandle:null}},methods:{checkGlide(t,e){if(t&&e)return parseInt(t)%e===0},checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,getProducts(t){return t?this.$apiSDK.catalog.getCollectionItemsBySlug({slug:t}):Promise.resolve([])},getPrice(t,e){if(t&&t.price)return t.price[e].min!==t.price[e].max?t.price[e].min+" - "+t.price[e].max:t.price[e].min},hasDiscount(t){return this.getPrice(t,"effective")!==this.getPrice(t,"marked")},prevSlide(){let t=this.settings.props.items_per_row.value;lt()?this.carouselHandle.index-1>=0&&this.carouselHandle.go("="+(this.carouselHandle.index-1)):this.carouselHandle.index-t>=0?this.carouselHandle.go("="+(this.carouselHandle.index-t)):this.carouselHandle.go("<<")},nextSlide(){let t=this.settings.props.items_per_row.value;var e,i;lt()?this.carouselHandle.index+1>=(null===(e=this.products)||void 0===e?void 0:e.items.length)-1&&this.carouselHandle.go("="+(this.carouselHandle.index+1)):this.carouselHandle.index+t<(null===(i=this.products)||void 0===i?void 0:i.items.length)?this.carouselHandle.go("="+(this.carouselHandle.index+t)):this.carouselHandle.go(">>")},initCarousel(){ot["isNode"]||"horizontal"!==this.settings.props.layout.value||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{this.carouselHandle=new ar(this.$refs.glide,this.glideOptions);let t=this.$refs.glide.getAttribute("class");this.carouselHandle.on(["move.after"],()=>{let e=document.querySelectorAll(`.${t} [data-glide-dir]`);e&&e.length>0&&e.forEach(t=>{t.classList.remove("glide__bullet--active")});let i=this.carouselHandle?document.querySelectorAll(`.${t} [data-glide-dir='=${this.carouselHandle.index}']`):null;i&&i.length>0&&i[0].classList.add("glide__bullet--active")}),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){if(window.screen.width>600&&window.screen.width<=1024?this.settings.props.items_per_row.value=3:window.screen.width>480&&window.screen.width<=600?this.settings.props.items_per_row.value=2:window.screen.width<=480&&(this.settings.props.items_per_row.value=1),this.glideOptions.perView=this.settings.props.items_per_row.value,this.settings.props.autoplay.value?this.glideOptions.autoplay=1e3*this.settings.props.slide_interval.value:this.glideOptions.autoplay=!1,0==this.products.length){var t,e,i;const n=null===(t=this.settings)||void 0===t||null===(e=t.props)||void 0===e||null===(i=e.collection)||void 0===i?void 0:i.value;this.getProducts(n).then(t=>{this.products=t||{},this.isMounted=!0,this.initCarousel()}).catch(t=>console.log(t))}else this.isMounted=!0,this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},beforeDestroy(){this.cleanupComponent()}},Wd=Vd,qd=(i("f069"),i("d0ce")),Yd=i.n(qd),$d=Object(S["a"])(Wd,zd,jd,!1,null,"6fce23f9",null);"function"===typeof Yd.a&&Yd()($d);var Jd=$d.exports,Xd=function(){var t=this,e=t._self._c;return e("div",{class:{"section-main-container":!t.settings.props.full_width.value,"full-width-section":t.settings.props.full_width.value}},[e("fdk-link",{attrs:{link:t.settings.props.button_link.value}},[t.settings.props.image.value?e("emerge-img",{staticClass:"hero__image",attrs:{src:t.settings.props.image.value,sources:[]}}):e("fdk-placeholder",{attrs:{type:"banner-1"}}),e("div",{staticClass:"overlay",class:{overlay__left:"left"===t.settings.props.overlay_layout.value,overlay__center:"center"===t.settings.props.overlay_layout.value,overlay__right:"right"===t.settings.props.overlay_layout.value}},[e("div",{staticClass:"overlay__content"},[t.settings.props.overlay_image.value?e("img",{staticClass:"overlay__image",attrs:{src:t.settings.props.overlay_image.value}}):t._e(),t.settings.props.overlay_text.value?e("h2",{staticClass:"overlay__text",style:{color:t.settings.props.text_color.value}},[t._v(" "+t._s(t.settings.props.overlay_text.value)+" ")]):t._e(),t.settings.props.button_text.value?e("sm-button",{attrs:{backgroundcolortype:"primary",colortype:"primary",bordertype:"primary",padding:"primary",global_config:t.global_config}},[t._v(" "+t._s(t.settings.props.button_text.value)+" ")]):t._e()],1)])],1)],1)},Kd=[],Zd={components:{"sm-button":Dl,"emerge-img":Z},props:["settings","global_config"],watch:{settings:function(t,e){}},mounted(){},data:function(){return{}}},tp=Zd,ep=(i("424a"),i("785f")),ip=i.n(ep),np=Object(S["a"])(tp,Xd,Kd,!1,null,"33a87f3a",null);"function"===typeof ip.a&&ip()(np);var rp=np.exports,sp=function(){var t=this,e=t._self._c;return e("div",[e("fdk-link",{attrs:{link:t.settings.props.button_link.value}},[t.settings.props.image.value?e("emerge-img",{staticClass:"hero__image",attrs:{src:t.settings.props.image.value,sources:[]}}):e("fdk-placeholder",{attrs:{type:"banner-1"}}),e("div",{staticClass:"overlay"},[e("div",{staticClass:"overlay__content"},[t.settings.props.overlay_image.value?e("img",{staticClass:"overlay__image",attrs:{src:t.settings.props.overlay_image.value}}):t._e()])])],1)],1)},op=[],ap={components:{"emerge-img":Z},props:["settings","global_config"],watch:{settings:function(t,e){}},mounted(){},data:function(){return{}}},lp=ap,cp=(i("5897"),i("a65e")),up=i.n(cp),hp=Object(S["a"])(lp,sp,op,!1,null,"2e3c6832",null);"function"===typeof up.a&&up()(hp);var dp=hp.exports,pp=function(){var t=this,e=t._self._c;return t.render?e("div",{class:{"section-main-container":!t.settings.props.full_width.value,"full-width-section":t.settings.props.full_width.value}},[e("div",{staticClass:"video-container",class:t.settings.props.size.value},[t.settings.props.video_url.value&&t.isMp4(t.settings.props.video_url.value)?e("video",{ref:"mp4video",attrs:{width:"100%",poster:t.settings.props.cover_url.value,autoplay:t.settings.props.autoplay.value,preload:"auto",controls:!0}},[e("source",{attrs:{src:t.settings.props.video_url.value,type:"video/mp4",allowfullscreen:""}})]):t.settings.props.video_url.value&&t.isYoutube(t.settings.props.video_url.value)?e("div",{ref:"ytVideo",staticClass:"yt-video",attrs:{id:"yt-video-"+t.getYTVideoID(t.settings.props.video_url.value),"data-videoid":t.getYTVideoID(t.settings.props.video_url.value),"data-videometa":JSON.stringify(t.settings.props),allowfullscreen:""}}):t._e(),e("div",{staticClass:"close-video-box",on:{click:t.closeVideo}},[e("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("path",{attrs:{d:"M278.6,256l68.2-68.2c6.2-6.2,6.2-16.4,0-22.6c-6.2-6.2-16.4-6.2-22.6,0L256,233.4l-68.2-68.2c-6.2-6.2-16.4-6.2-22.6,0\n        c-3.1,3.1-4.7,7.2-4.7,11.3c0,4.1,1.6,8.2,4.7,11.3l68.2,68.2l-68.2,68.2c-3.1,3.1-4.7,7.2-4.7,11.3c0,4.1,1.6,8.2,4.7,11.3\n        c6.2,6.2,16.4,6.2,22.6,0l68.2-68.2l68.2,68.2c6.2,6.2,16.4,6.2,22.6,0c6.2-6.2,6.2-16.4,0-22.6L278.6,256z"}})])]),t.showPoster?e("div",{staticClass:"overlay animated fadeIn",style:`background: #ccc url(${t.settings.props.cover_url.value}) center center / cover no-repeat;`},[e("div",{staticClass:"overlay__content",class:t.settings.props.overlay_position.value},[t.settings.props.heading.value||t.settings.props.sub_heading.value?e("div",{staticClass:"overlay__text"},[t.settings.props.heading.value?e("h2",{style:{color:t.settings.props.heading_color.value}},[t._v(" "+t._s(t.settings.props.heading.value)+" ")]):t._e(),t.settings.props.sub_heading.value?e("p",{style:{color:t.settings.props.sub_heading_color.value}},[e("span",[t._v(t._s(t.settings.props.sub_heading.value)+" ")])]):t._e()]):t._e(),e("div",{staticClass:"play-button",on:{click:t.playVideo}},[e("svg",{staticStyle:{"enable-background":"new 0 0 512 512"},attrs:{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 512 512","xml:space":"preserve"}},[e("g",[e("path",{attrs:{d:"M256,48C141.1,48,48,141.1,48,256c0,114.9,93.1,208,208,208c114.9,0,208-93.1,208-208C464,141.1,370.9,48,256,48z\n                M339.8,259.9l-137.2,83c-2.9,1.8-6.7-0.4-6.7-3.9V173c0-3.5,3.7-5.7,6.7-3.9l137.2,83C342.7,253.8,342.7,258.2,339.8,259.9z"}})])])]),t.settings.props.button_text.value?e("sm-button",{attrs:{backgroundcolortype:"primary",colortype:"primary",bordertype:"primary",padding:"primary",global_config:t.global_config}},[e("fdk-link",{attrs:{link:t.settings.props.button_link.value}},[t._v(" "+t._s(t.settings.props.button_text.value)+" ")])],1):t._e()],1)]):t._e()])]):t._e()},fp=[],gp={components:{"sm-button":Dl},props:["settings","global_config"],watch:{settings:function(t,e){this.render=!1,this.showPoster=!t.props.autoplay.value,this.removeYTScript(),this.$nextTick(()=>{this.render=!0,this.loadYTScript()})}},mounted(){this.loadYTScript(),this.showPoster=!this.settings.props.autoplay.value},data:function(){return{render:!0,showPoster:!0}},methods:{loadYTScript(){var t=this;let e=document.querySelectorAll("[data-ytscript]");if(0===e.length){var i=document.createElement("script");i.src="https://www.youtube.com/iframe_api",i.dataset.ytscript="true";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n),i.onload=()=>{window.onYouTubeIframeAPIReady?setTimeout(t.onYouTubeIframeAPIReady.bind(t),500):window.onYouTubeIframeAPIReady=function(){setTimeout(t.onYouTubeIframeAPIReady.bind(t),500)}}}else window.onYouTubeIframeAPIReady&&setTimeout(t.onYouTubeIframeAPIReady.bind(t),500)},removeYTScript(){var t=window.players;t&&(Object.keys(t).forEach(e=>{t[e].inst&&t[e].inst.destroy()}),window.players=null);let e=document.querySelectorAll("[data-ytscript]");e.length>0&&e.forEach(t=>{t.parentNode.removeChild(t)}),"undefined"!==typeof YT&&(window.YT=void 0)},isMp4(t){if(!t)return!1;let e=t.split(".").pop()||"";return!(!e||"mp4"!==e.toLowerCase())},isYoutube(t){let e=new URL(t);return!(!e.host.includes("youtu.be")&&!e.host.includes("youtube.com"))},getYTVideoID(t){let e=new URL(t),i=e.searchParams,n=i.get("v");return e.host.includes("youtu.be")&&(n=e.pathname.split("/").pop()),n},onYouTubeIframeAPIReady(){let t=document.querySelectorAll(".yt-video");window.players||(window.players={});let e=window.players;for(let i=0;i<t.length;i++){let n=t[i],r=n.dataset.videoid;if(e[r])continue;e[r]={};let s=JSON.parse(n.dataset.videometa),o=s.autoplay.value,a=1,l=0;e[r].onReady=function(t){l&&t.target.mute(),o&&t.target.playVideo()},e[r].onStateChange=function(t){var e=window.players;t.data==YT.PlayerState.ENDED&&(e[r].inst.seekTo(0),e[r].inst.playVideo())},e[r].inst=new YT.Player("yt-video-"+r,{videoId:r,width:"100%",height:"100%",playerVars:{autoplay:o,controls:a,modestbranding:1,loop:1,fs:0,cc_load_policty:0,iv_load_policy:3,origin:document.location.origin},events:{onReady:e[r].onReady,onStateChange:e[r].onStateChange}})}},playMp4(){this.showPoster=!1,this.$refs.mp4video.play()},playYT(){this.showPoster=!1;let t=this.$refs.ytVideo.dataset.videoid;var e=window.players;e[t].inst.playVideo()},playVideo(){this.isMp4(this.settings.props.video_url.value)?this.playMp4():this.playYT()},stopMp4(){this.$refs.mp4video.pause(),this.$refs.mp4video.currentTime=0,this.$refs.mp4video.setAttribute("data-icon","P")},stopYT(){let t=this.$refs.ytVideo.dataset.videoid;var e=window.players;e[t].inst.pauseVideo(),e[t].inst.seekTo(0)},closeVideo(){this.showPoster=!0,this.isMp4(this.settings.props.video_url.value)?this.stopMp4():this.stopYT()}}},mp=gp,vp=(i("7de1"),i("6671")),Ap=i.n(vp),yp=Object(S["a"])(mp,pp,fp,!1,null,"be77a5e4",null);"function"===typeof Ap.a&&Ap()(yp);var _p=yp.exports,bp=function(){var t=this,e=t._self._c;return e("div",{class:{"section-main-container":!t.settings.props.full_width.value,"full-width-section":t.settings.props.full_width.value}},[e("div",{staticClass:"gallery-container"},[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.settings.props.title.value&&t.settings.props.title.value.length>0||t.settings.props.cta_text.value?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.settings.props.title.value)+" ")]):t._e(),t.settings.props.cta_text.value?e("fdk-link",{staticClass:"link view-all-text",style:"color:"+t.global_config.props.text_heading_link_color,attrs:{link:t.settings.props.cta_link.value}},[t._v(t._s(t.settings.props.cta_text.value))]):t._e()],1),t.settings.blocks.length>0?["grid"===t.settings.props.layout.value?e("div",[e("group-list",{attrs:{cardlist:t.settings.blocks,itemcount:t.settings.props.item_count.value,cardtype:"GALLERY",global_config:t.global_config}})],1):t._e(),"horizontal"===t.settings.props.layout.value?e("div",[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.settings.blocks,(function(t,i){return e("div",{key:i,staticClass:"glide__slide"},[e("gallery-item",{staticClass:"item",attrs:{block:t}})],1)})),0)]),t.settings.blocks.length>t.settings.props.item_count.value?e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.settings.blocks.length,t.settings.props.item_count.value),(function(t,i){return e("button",{key:i,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+t}})})),0):t._e(),t.settings.blocks.length>0&&t.settings.blocks.length>t.settings.props.item_count.value?e("div",{staticClass:"arrows"},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-gallery",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-gallery",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])]):t._e()])]):t._e()]:[e("placeholder-items",{attrs:{count:2*t.settings.props.item_count.value,items_per_row:t.settings.props.item_count.value,type:"image",text:"",layout:t.settings.props.layout.value}})],e("div",{staticClass:"view-all-mobile",class:{"view-all-horizontal":"horizontal"===t.settings.props.layout.value}},[t.settings.props.cta_text.value?e("fdk-link",{staticClass:"view-all-text",attrs:{link:t.settings.props.cta_link.value}},[t._v(t._s(t.settings.props.cta_text.value))]):t._e()],1)],2)])])])},wp=[],xp={props:["settings","global_config"],components:{"gallery-item":vi,"group-list":bi,"placeholder-items":hr},watch:{settings:function(t,e){this.cleanupComponent(),this.initializeComponent()}},mounted(){this.initializeComponent()},data:function(){return{isMounted:!1,glideOptions:{type:"carousel",startAt:0,gap:30,focusAt:0,perView:this.settings.props.item_count.value,breakpoints:{1024:{perView:3},600:{perView:2},480:{perView:1}}},carouselHandle:null}},methods:{checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,prevSlide(){let t=this.settings.props.item_count.value;lt()?this.carouselHandle.index-1>=0&&this.carouselHandle.go("="+(this.carouselHandle.index-1)):this.carouselHandle.index-t>=0?this.carouselHandle.go("="+(this.carouselHandle.index-t)):this.carouselHandle.go("<<")},nextSlide(){let t=this.settings.props.item_count.value;lt()?this.carouselHandle.index+1>=this.settings.blocks.length-1&&this.carouselHandle.go("="+(this.carouselHandle.index+1)):this.carouselHandle.index+t<this.settings.blocks.length?this.carouselHandle.go("="+(this.carouselHandle.index+t)):this.carouselHandle.go(">>")},initCarousel(){ot["isNode"]||"horizontal"!==this.settings.props.layout.value||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{window.screen.width>480&&window.screen.width<=768?this.glideOptions.gap=40:window.screen.width<=480&&(this.glideOptions.gap=12),this.carouselHandle=new ar(this.$refs.glide,this.glideOptions);let t=this.$refs.glide.getAttribute("class");this.carouselHandle.on(["move.after"],()=>{let e=document.querySelectorAll(`.${t} [data-glide-dir]`);e&&e.length>0&&e.forEach(t=>{t.classList.remove("glide__bullet--active")});let i=this.carouselHandle?document.querySelectorAll(`.${t} [data-glide-dir='=${this.carouselHandle.index}']`):null;i&&i.length>0&&i[0].classList.add("glide__bullet--active")}),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){this.isMounted=!0,window.screen.width>600&&window.screen.width<=1024?this.settings.props.item_count.value=3:window.screen.width>480&&window.screen.width<=600?this.settings.props.item_count.value=2:window.screen.width<=480&&(this.settings.props.item_count.value=1),this.glideOptions.perView=this.settings.props.item_count.value,this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},beforeDestroy(){this.cleanupComponent()}},Cp=xp,Ep=(i("f570"),i("a462")),Sp=i.n(Ep),Ip=Object(S["a"])(Cp,bp,wp,!1,null,"491a780d",null);"function"===typeof Sp.a&&Sp()(Ip);var Tp=Ip.exports,Mp=function(){var t=this,e=t._self._c;return e("div",{class:{"section-main-container":!t.settings.props.full_width.value,"full-width-section":t.settings.props.full_width.value}},[e("div",{staticClass:"image-slideshow-container"},[e("div",{staticClass:"card-container"},[e("div",{staticClass:"top-items"},[e("div",{staticClass:"title-block"},[t.settings.props.title.value&&t.settings.props.title.value.length>0?e("div",{staticClass:"section-heading",style:"color:"+t.global_config.props.text_heading_link_color},[t._v(" "+t._s(t.settings.props.title.value)+" ")]):t._e()]),t.settings.blocks.length?[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.settings.blocks,(function(i,n){return e("div",{key:n,class:"glide__slide slide "+t.settings.props.slide_height.value},[e("fdk-link",{attrs:{link:i.props.slide_link.value}},[i.props.image.value?e("emerge-image",{attrs:{src:i.props.image.value,sources:[],placeholder:""}}):e("fdk-placeholder",{attrs:{type:"banner-1"}})],1)],1)})),0)]),t.settings.blocks.length>1?e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.settings.blocks.length,1),(function(t,i){return e("button",{key:i,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+t}})})),0):t._e(),t.settings.blocks.length>1?e("div",{staticClass:"arrows"},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-ss",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-ss",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])]):t._e()])]:[e("placeholder-items",{attrs:{count:3,items_per_row:1,type:"banner-1",text:"",layout:"horizontal"}})]],2)])])])},Bp=[],kp={props:["settings","global_config"],components:{"emerge-image":Z,"placeholder-items":hr},watch:{settings:function(t,e){this.cleanupComponent(),this.initializeComponent()}},data:function(){return{isMounted:!1,glideOptions:{type:"carousel",startAt:0,gap:0,perView:1},carouselHandle:null}},mounted(){this.initializeComponent()},methods:{checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,prevSlide(){this.carouselHandle.go("<")},nextSlide(){this.carouselHandle.go(">")},initCarousel(){ot["isNode"]||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{this.carouselHandle=new ar(this.$refs.glide,this.glideOptions),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){this.isMounted=!0,this.settings.props.autoplay.value?this.glideOptions.autoplay=1e3*this.settings.props.slide_interval.value:this.glideOptions.autoplay=!1,this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},beforeDestroy(){this.cleanupComponent()}},Lp=kp,Rp=(i("eb67"),i("5235")),Pp=i.n(Rp),Dp=Object(S["a"])(Lp,Mp,Bp,!1,null,"0d484ded",null);"function"===typeof Pp.a&&Pp()(Dp);var Op=Dp.exports,Fp=function(){var t=this,e=t._self._c;return e("section",{staticClass:"media-with-text full-width-section"},[e("no-ssr",[t.settings.props.video.value?e("videoPlayer",{ref:"videoPlayer",staticClass:"video-js",attrs:{options:t.playerOptions}}):t._e()],1),!t.settings.props.video.value&&t.settings.props.image.value?e("div",{class:["image-section","al-"+t.settings.props.media_alignment.value]},[e("img",{attrs:{src:t.settings.props.image.value}})]):t._e(),e("div",{class:["media-with-text__content","al-"+t.settings.props.text_alignment.value]},[e("div",{staticClass:"media-with-text__content--main"},[t._v(" "+t._s(t.settings.props.text.value)+" ")]),e("div",{staticClass:"media-with-text__content--sub"},[t._v(" "+t._s(t.settings.props.heading.value)+" ")])])],1)},Np=[],Qp={data(){return{playerOptions:{sources:[{type:"video/mp4",src:this.settings.props.video.value}],poster:this.settings.props.cover.value}}},props:["settings"],computed:{player(){return this.$refs.videoPlayer.player}},components:{"no-ssr":ts.a,videoPlayer:()=>ot["isBrowser"]?Promise.resolve(i("5cd2")):Promise.resolve({})},directives:{},mounted(){},beforeDestroy(){}},Hp=Qp,Up=(i("614b"),i("137d")),Gp=i.n(Up),zp=Object(S["a"])(Hp,Fp,Np,!1,null,"6fdaa35c",null);"function"===typeof Gp.a&&Gp()(zp);var jp=zp.exports,Vp=function(){var t=this,e=t._self._c;return e("section",{class:["media-with-text","full-width-section","mirror-"+t.settings.props.mirror.value,"style-"+t.settings.props.styleV.value]},[e("div",{class:["image-section"]},[e("img",{attrs:{src:t.settings.props.image.value}})]),e("div",{class:["media-with-text__content"]},[e("div",{staticClass:"media-with-text__content--main"},[t._v(" "+t._s(t.settings.props.text.value)+" ")]),e("div",{staticClass:"media-with-text__content--sub"},[t._v(" "+t._s(t.settings.props.heading.value)+" ")])])])},Wp=[],qp={data(){return{}},props:["settings"],computed:{},components:{"no-ssr":ts.a,videoPlayer:()=>ot["isBrowser"]?Promise.resolve(i("5cd2")):Promise.resolve({})},directives:{},mounted(){},beforeDestroy(){}},Yp=qp,$p=(i("04d8"),i("8b6b")),Jp=i.n($p),Xp=Object(S["a"])(Yp,Vp,Wp,!1,null,"2d26b6ca",null);"function"===typeof Jp.a&&Jp()(Xp);var Kp=Xp.exports,Zp=function(){var t=this,e=t._self._c;return e("section",{class:["media-with-text","full-width-section","mirror-"+t.settings.props.mirror.value]},[e("div",{class:["image-section-first"]},[e("emerge-img",{attrs:{src:this.img[0].url}})],1),e("div",{class:["image-section-second-M"]},[e("ul",t._l(this.img,(function(t){return e("li",{key:t},[e("emerge-img",{attrs:{src:t.url}})],1)})),0)]),e("div",{class:["media-with-text__content"]},[e("div",{class:["image-section-first-M"]},[e("emerge-img",{attrs:{src:this.img[0].url}})],1),e("div",{class:["image-section-second"]},[e("ul",t._l(this.img,(function(t){return e("li",{key:t},[e("emerge-img",{attrs:{src:t.url}})],1)})),0)]),e("div",{staticClass:"media-with-text__content--main"},[t._v(" "+t._s(t.settings.props.productName.value)+" ")]),e("div",{staticClass:"media-with-text__content--sub"},[t._v(" "+t._s(t.settings.props.productDescription.value)+" ")]),e("div",{staticClass:"media-with-text__content--btn"},[t.settings.props.button_text.value?e("sm-button",{attrs:{backgroundcolortype:"primary",colortype:"primary",bordertype:"primary",padding:"primary",global_config:t.global_config}},[t._v(" "+t._s(t.settings.props.button_text.value)+" ")]):t._e()],1)])])},tf=[],ef={data(){return{img:[]}},methods:{fetchData(t){this.$apiSDK.catalog.getProductDetailBySlug(t).then(t=>{console.log("data from getProductDetailBySlug api",t),this.img=[...t.medias],console.log("img",this.img)})}},props:["settings","apiSDK","global_config"],computed:{},components:{"sm-button":Dl,"emerge-img":Z,"no-ssr":ts.a,videoPlayer:()=>ot["isBrowser"]?Promise.resolve(i("5cd2")):Promise.resolve({})},directives:{},mounted(){let t={slug:this.settings.props.Product.value};this.fetchData(t),console.log("Setting Data",this.settings)},beforeDestroy(){}},nf=ef,rf=(i("38d7"),i("c063")),sf=i.n(rf),of=Object(S["a"])(nf,Zp,tf,!1,null,"68e2b97b",null);"function"===typeof sf.a&&sf()(of);var af=of.exports,lf=function(){var t=this,e=t._self._c;return e("div",{staticClass:"testimonial-cont section-main-container"},[e("div",{ref:"glide",staticClass:"glide-cont",class:"glide"+t._uid},[e("div",{staticClass:"glide__track",attrs:{"data-glide-el":"track"}},[e("div",{staticClass:"glide__slides",class:{"ssr-slides-box":!t.checkisBrowser()&&!t.isMounted}},t._l(t.blocks,(function(i,n){return e("div",{key:n,staticClass:"glide__slide quotes-slider"},[e("div",{staticClass:"author-image"},[i.props&&i.props.author_image.value?e("emerge-image",{attrs:{src:i.props.author_image.value,sources:[{width:98}]}}):t._e()],1),e("div",{staticClass:"testimonial"},[t._m(0,!0),e("p",[t._v(" "+t._s(i.props&&i.props.testimonialText.value?i.props.testimonialText.value:"Add customer reviews and testimonials to showcase your store’s happy customers.")+" ")]),t._m(1,!0)]),e("cite",[e("section",[e("div",[t._v(t._s(i.props&&i.props.author_name.value?i.props.author_name.value:"Author's name"))]),e("div",[t._v(t._s(i.props&&i.props.author_description.value?i.props.author_description.value:"Author's Description"))])])])])})),0)]),t.blocks.length>1?e("div",{staticClass:"glide__bullets",attrs:{"data-glide-el":"controls[nav]"}},t._l(t.glidePaginate(t.blocks.length,1),(function(t,i){return e("button",{key:i,staticClass:"glide__bullet",attrs:{"data-glide-dir":"="+t}})})),0):t._e(),t.blocks.length>1?e("div",{staticClass:"arrows"},[e("section",[e("div",{ref:"prevArrow",staticClass:"prev-btn btn-nav-testimonial",on:{click:t.prevSlide}},[e("div",{staticClass:"icon icon-prev"})]),e("div",{ref:"nextArrow",staticClass:"next-btn btn-nav-testimonial",on:{click:t.nextSlide}},[e("div",{staticClass:"icon icon-next"})])])]):t._e()])])},cf=[function(){var t=this,e=t._self._c;return e("span",{staticClass:"quote-icon left"},[e("img",{attrs:{src:i("baa2")}})])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"quote-icon right"},[e("img",{attrs:{src:i("baa2")}})])}],uf={props:["settings"],components:{"emerge-image":Z},watch:{settings:function(t,e){this.cleanupComponent(),this.initializeComponent()}},computed:{blocks(){return 0===this.settings.blocks.length?this.settings.preset.blocks:this.settings.blocks}},data:function(){return{isMounted:!1,glideOptions:{type:"carousel",startAt:0,gap:0,perView:1},carouselHandle:null}},mounted(){this.initializeComponent()},methods:{checkisBrowser(){return ot["isBrowser"]},glidePaginate:gt,prevSlide(){this.carouselHandle.go("<")},nextSlide(){this.carouselHandle.go(">")},initCarousel(){ot["isNode"]||this.carouselHandle||(this.$refs.glide?this.$nextTick(()=>{try{this.carouselHandle=new ar(this.$refs.glide,this.glideOptions),this.carouselHandle.mount()}catch(t){}}):setTimeout(()=>{this.initCarousel()},1e3))},initializeComponent(){this.isMounted=!0,this.settings.props.autoplay.value&&this.blocks.length>1?this.glideOptions.autoplay=1e3*this.settings.props.slide_interval.value:this.glideOptions.autoplay=!1,this.initCarousel()},cleanupComponent(){ot["isBrowser"]&&this.carouselHandle&&(this.carouselHandle.destroy(),this.carouselHandle=null)}},beforeDestroy(){this.cleanupComponent()}},hf=uf,df=(i("4961"),i("bb4f")),pf=i.n(df),ff=Object(S["a"])(hf,lf,cf,!1,null,"6edee4bc",null);"function"===typeof pf.a&&pf()(ff);var gf=ff.exports;function mf(t){return[{name:"application_banner",label:"Application Banner",component:t[0].default},{name:"blog",label:"Blog",component:t[1].default},{name:"brands_listing",label:"Brands Listing",component:t[2].default},{name:"collections_listing",label:"Collections Listing",component:t[3].default},{name:"custom_html",label:"Custom HTML",component:t[4].default},{name:"featured_collection",label:"Featured Collection",component:t[5].default},{name:"hero_image",label:"Hero Image",component:t[6].default},{name:"banner",label:"Banner",component:t[7].default},{name:"hero_video",label:"Hero Video",component:t[8].default},{name:"image_gallery",label:"Image Gallery",component:t[9].default},{name:"image_slideshow",label:"Image Slideshow",component:t[10].default},{name:"media_with_text",label:"Media with text",component:t[11].default},{name:"product-description2",label:"Product Description2",component:t[12].default},{name:"product-showcase",label:"Product Showcase",component:t[13].default},{name:"testimonials",label:"Testimonial",component:t[14].default}]}var vf=mf([n,r,s,o,a,l,c,u,h,d,p,f,g,m,v]),Af={getCartLanding:()=>xe,getCartReview:()=>Se,getCartDelivery:()=>Me,getCategories:()=>Ii,getCollections:()=>vr,getCollectionListing:()=>fs,getBrandListing:()=>_s,getCategoryListing:()=>Ss,getCompareProducts:()=>Ns,getFooter:()=>js,getHeader:()=>Js,getOrderTrackingDetails:()=>Zs,getOrderTracking:()=>io,getOrderStatus:()=>so,getProductDescription:()=>Rc,getProductListing:()=>Qc,getOrdersList:()=>Mu,getScreenSaver:()=>Lu,getHome:()=>zh,getBlog:()=>Nu,getBrands:()=>hh,getLoader:()=>Uu,getWishList:()=>qu,getProfileDetails:()=>Eh,getShipmentDetails:()=>kh,getProfileAddress:()=>Th,getFaq:()=>Fh,getEmptyState:()=>null,getProductReviews:()=>mu,getAddProductReview:()=>Su,getLogin:()=>Wh,getRegister:()=>$h,getCustomTemplates:()=>id,sections:vf};e["default"]=Af},fb42:function(t,e,i){"use strict";i("ac51")},fc6a:function(t,e,i){var n=i("44ad"),r=i("1d80");t.exports=function(t){return n(r(t))}},fc78:function(t,e,i){"use strict";i("8274")},fdbf:function(t,e,i){var n=i("04f8");t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe3f:function(t,e,i){}})}));
//# sourceMappingURL=UkVWRppws_themeBundle.umd.min.js.map